{"version":3,"sources":["webpack://f6ui/webpack/universalModuleDefinition","webpack://f6ui/webpack/bootstrap","webpack://f6ui/../src/is-array-like.ts","webpack://f6ui/../src/filter.ts","webpack://f6ui/../src/is-type.ts","webpack://f6ui/../src/is-function.ts","webpack://f6ui/../src/is-nil.ts","webpack://f6ui/../src/is-array.ts","webpack://f6ui/../src/is-object.ts","webpack://f6ui/../src/each.ts","webpack://f6ui/../src/keys.ts","webpack://f6ui/../src/is-object-like.ts","webpack://f6ui/../src/is-plain-object.ts","webpack://f6ui/../src/find-index.ts","webpack://f6ui/../src/max.ts","webpack://f6ui/../src/min.ts","webpack://f6ui/../src/get-range.ts","webpack://f6ui/../src/pull.ts","webpack://f6ui/../src/is-string.ts","webpack://f6ui/../src/pull-at.ts","webpack://f6ui/../src/head.ts","webpack://f6ui/../src/last.ts","webpack://f6ui/../src/ends-with.ts","webpack://f6ui/../src/group-by.ts","webpack://f6ui/../src/wrap-behavior.ts","webpack://f6ui/../src/parse-radius.ts","webpack://f6ui/../src/fixed-base.ts","webpack://f6ui/../src/is-number.ts","webpack://f6ui/../src/is-integer.ts","webpack://f6ui/../src/is-number-equal.ts","webpack://f6ui/../src/is-odd.ts","webpack://f6ui/../src/mod.ts","webpack://f6ui/../src/to-radian.ts","webpack://f6ui/../src/to-degree.ts","webpack://f6ui/../src/to-integer.ts","webpack://f6ui/../src/to-string.ts","webpack://f6ui/../src/values.ts","webpack://f6ui/../src/substitute.ts","webpack://f6ui/../src/upper-first.ts","webpack://f6ui/../src/get-type.ts","webpack://f6ui/../src/is-boolean.ts","webpack://f6ui/../src/is-date.ts","webpack://f6ui/../src/is-prototype.ts","webpack://f6ui/../src/mix.ts","webpack://f6ui/../src/clone.ts","webpack://f6ui/../src/debounce.ts","webpack://f6ui/../src/deep-mix.ts","webpack://f6ui/../src/index-of.ts","webpack://f6ui/../src/is-empty.ts","webpack://f6ui/../src/is-equal.ts","webpack://f6ui/../src/map.ts","webpack://f6ui/../src/get.ts","webpack://f6ui/../src/throttle.ts","webpack://f6ui/../src/pick.ts","webpack://f6ui/../src/unique-id.ts","webpack://f6ui/../src/noop.ts","webpack://f6ui/../src/size.ts","webpack://f6ui/../src/cache.ts","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/tslib/tslib.es6.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/mat3.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/vec3.js","webpack://f6ui/../src/ext.ts","webpack://f6ui/../../src/util/util.ts","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/common.js","webpack://f6ui/../f6-ui/dist/f6UI.js","webpack://f6ui/../../src/util/matrix.ts","webpack://f6ui/../../src/util/path.ts","webpack://f6ui/../src/parse-path.ts","webpack://f6ui/../src/catmull-rom-2-bezier.ts","webpack://f6ui/../src/parse-path-string.ts","webpack://f6ui/../src/get-arc-params.ts","webpack://f6ui/../src/path-2-segments.ts","webpack://f6ui/../../src/util/text.ts","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/vec2.js","webpack://f6ui/../../src/event/graph-event.ts","webpack://f6ui/../../src/abstract/base.ts","webpack://f6ui/../../src/util/offscreen.ts","webpack://f6ui/../src/index.ts","webpack://f6ui/../../src/abstract/container.ts","webpack://f6ui/../../src/abstract/element.ts","webpack://f6ui/../node_modules/@antv/g-mobile/esm/util/time.js","webpack://f6ui/../../src/abstract/group.ts","webpack://f6ui/../../src/abstract/shape.ts","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-timer/src/timer.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/linear.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/quad.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/cubic.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/poly.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/sin.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/math.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/exp.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/circle.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/bounce.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/back.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/elastic.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-color/src/define.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-color/src/color.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/basis.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/constant.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/color.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/rgb.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/basisClosed.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/numberArray.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/array.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/date.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/number.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/object.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/string.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/value.js","webpack://f6ui/../../src/animate/timeline.ts","webpack://f6ui/../../src/util/color.ts","webpack://f6ui/../../src/event/event-contoller.ts","webpack://f6ui/../../src/abstract/canvas.ts","webpack://f6ui/../../src/bbox/register.ts","webpack://f6ui/../../src/bbox/rect.ts","webpack://f6ui/../../src/bbox/circle.ts","webpack://f6ui/../src/util.ts","webpack://f6ui/../src/quadratic.ts","webpack://f6ui/../src/cubic.ts","webpack://f6ui/../src/arc.ts","webpack://f6ui/../../src/bbox/util.ts","webpack://f6ui/../../src/bbox/polyline.ts","webpack://f6ui/../../src/bbox/path.ts","webpack://f6ui/../../src/bbox/index.ts","webpack://f6ui/../../src/bbox/polygon.ts","webpack://f6ui/../../src/bbox/text.ts","webpack://f6ui/../../src/bbox/line.ts","webpack://f6ui/../../src/bbox/ellipse.ts","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/detect-browser/es/index.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/process/browser.js","webpack://f6ui/./src/time-bar/dispatcher.ts","webpack://f6ui/./src/time-bar/utils/const.ts","webpack://f6ui/./src/time-bar/ui/control-bar/control-btn.ts","webpack://f6ui/./src/time-bar/ui/control-bar/play-btn.ts","webpack://f6ui/./src/time-bar/ui/control-bar/index.ts","webpack://f6ui/./src/time-bar/utils/player.ts","webpack://f6ui/../../src/tick-method/register.ts","webpack://f6ui/../src/base.ts","webpack://f6ui/../../src/category/base.ts","webpack://f6ui/../src/fecha.ts","webpack://f6ui/../../src/util/time.ts","webpack://f6ui/../../src/util/bisector.ts","webpack://f6ui/../../src/category/time.ts","webpack://f6ui/../../src/continuous/base.ts","webpack://f6ui/../../src/continuous/linear.ts","webpack://f6ui/../../src/util/math.ts","webpack://f6ui/../../src/continuous/log.ts","webpack://f6ui/../../src/continuous/pow.ts","webpack://f6ui/../../src/continuous/time.ts","webpack://f6ui/../../src/continuous/quantize.ts","webpack://f6ui/../../src/continuous/quantile.ts","webpack://f6ui/../src/factory.ts","webpack://f6ui/../../src/identity/index.ts","webpack://f6ui/../../src/util/extended.ts","webpack://f6ui/../../src/tick-method/cat.ts","webpack://f6ui/../../src/util/d3-linear.ts","webpack://f6ui/../../src/util/interval.ts","webpack://f6ui/../../src/util/strict-limit.ts","webpack://f6ui/../../src/util/pretty.ts","webpack://f6ui/../../src/tick-method/quantile.ts","webpack://f6ui/../../src/tick-method/time-pretty.ts","webpack://f6ui/./src/time-bar/utils/path.ts","webpack://f6ui/../../src/tick-method/index.ts","webpack://f6ui/../../src/tick-method/time-cat.ts","webpack://f6ui/../../src/tick-method/linear.ts","webpack://f6ui/../../src/tick-method/r-prettry.ts","webpack://f6ui/../../src/tick-method/time.ts","webpack://f6ui/../../src/tick-method/log.ts","webpack://f6ui/../../src/tick-method/pow.ts","webpack://f6ui/../../src/tick-method/d3-linear.ts","webpack://f6ui/./src/time-bar/ui/slider/trend-slider.ts","webpack://f6ui/./src/time-bar/ui/progress-bar/trend.ts","webpack://f6ui/./src/time-bar/ui/slider/simple-slider.ts","webpack://f6ui/./src/time-bar/ui/slider/slide-ticker.ts","webpack://f6ui/./src/time-bar/ui/slider/slider-logic.ts","webpack://f6ui/./src/time-bar/ui/progress-bar/tick.ts","webpack://f6ui/./src/time-bar/ui/index.ts","webpack://f6ui/./src/base.ts","webpack://f6ui/./src/time-bar/index.ts","webpack://f6ui/../core/es/behavior/behaviorOption.js","webpack://f6ui/../core/es/behavior/behavior.js","webpack://f6ui/../core/es/behavior/index.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/adjacent-matrix.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/linked-list.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/queue.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/degree.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/find-path.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/floydWarshall.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/binary-heap.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/union-find.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gSpan/struct.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gSpan/gSpan.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gaddi.js","webpack://f6ui//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/stack.js","webpack://f6ui/../core/es/util/math.js","webpack://f6ui/../core/es/global.js","webpack://f6ui/../core/es/util/letterAspectRatio.js","webpack://f6ui/../core/es/util/graphic.js","webpack://f6ui/../core/es/util/validation.js","webpack://f6ui/../core/es/graph/controller/mode.js","webpack://f6ui/../src/modify-css.ts","webpack://f6ui/../core/es/interface/behavior.js","webpack://f6ui/../core/es/util/base.js","webpack://f6ui/../core/es/graph/controller/view.js","webpack://f6ui/../core/es/element/xml.js","webpack://f6ui/../core/es/element/shape.js","webpack://f6ui/../core/es/item/item.js","webpack://f6ui/../core/es/item/edge.js","webpack://f6ui/../core/es/item/node.js","webpack://f6ui/../core/es/item/combo.js","webpack://f6ui/../core/es/graph/controller/item.js","webpack://f6ui/../core/es/graph/controller/state.js","webpack://f6ui/../core/es/util/path.js","webpack://f6ui/../core/es/element/hull/convexHull.js","webpack://f6ui/../core/es/element/hull/bubbleset.js","webpack://f6ui/../core/es/item/hull.js","webpack://f6ui/../core/es/graph/graph.js","webpack://f6ui/../core/es/element/shapeBase.js","webpack://f6ui/../core/es/element/node.js","webpack://f6ui/../core/es/element/edge.js","webpack://f6ui/../core/es/element/combo.js","webpack://f6ui/../core/es/element/combos/circle.js","webpack://f6ui/../core/es/element/combos/rect.js","webpack://f6ui/../core/es/element/nodes/simple-circle.js","webpack://f6ui/../core/es/element/nodes/simple-rect.js","webpack://f6ui/../core/es/element/nodes/image.js","webpack://f6ui/../core/es/element/arrow.js","webpack://f6ui/../core/es/types/index.js","webpack://f6ui/../core/es/element/index.js","webpack://f6ui/../core/es/util/color.js","webpack://f6ui/../core/es/util/index.js","webpack://f6ui/../core/es/graph/controller/layout.js","webpack://f6ui/../core/es/index.js","webpack://f6ui/./src/snap-line/index.ts","webpack://f6ui/./src/tooltip/index.ts","webpack://f6ui/./src/tooltip/html.ts","webpack://f6ui/./src/tooltip/css.ts","webpack://f6ui/./src/legend/item.ts","webpack://f6ui/./src/legend/index.ts","webpack://f6ui/./src/zoom-slider/index.ts","webpack://f6ui/./src/edge-filter-lens/index.ts","webpack://f6ui/./src/fisheye/index.ts","webpack://f6ui/./src/minimap/index.ts","webpack://f6ui/./src/bundling/index.ts","webpack://f6ui/./src/menu/index.ts","webpack://f6ui/./src/index.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","type","elements","str","base","toString","index","indexOf","length","_mix","obj","dist","rst","k","func","default_1","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","TypeError","String","__","constructor","__assign","assign","arguments","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","pop","push","__spreadArrays","il","a","j","jl","__spreadArray","to","from","pack","ar","slice","concat","out","glMatrix","Float32Array","fromMat4","clone","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","set","identity","transpose","a01","a02","a12","invert","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","multiply","b00","b02","b10","b12","b20","b22","translate","x","rotate","rad","Math","sin","cos","scale","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","q","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","width","height","frob","hypot","add","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a0","a1","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","abs","max","mul","sub","divide","ceil","floor","min","round","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","len","sqrt","dot","cross","ax","ay","az","bx","by","bz","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","random","PI","zScale","transformMat4","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","angle","mag","cosine","acos","zero","vec","div","sqrDist","sqrLen","forEach","stride","offset","count","fn","arg","EPSILON","ARRAY_TYPE","RANDOM","default","M","u","h","C","O","E","isFinite","isArray","keys","reduce","splice","Number","isInteger","parseInt","N","values","charAt","toUpperCase","substring","S","map","has","clear","delete","size","window","document","isCanvas","getParent","cfg","visible","capture","RegExp","replace","toLowerCase","unshift","split","save","font","includes","measureText","restore","fontSize","fontFamily","fontWeight","fontStyle","fontVariant","join","trim","A","T","B","W","I","L","R","D","Y","F","H","G","$","Q","U","X","bubbles","target","currentTarget","delegateTarget","delegateObject","defaultPrevented","propagationStopped","shape","fromShape","toShape","propagationPath","originalEvent","timeStamp","preventDefault","stopPropagation","createElement","getContext","_events","on","callback","once","emit","off","getEvents","destroyed","getDefaultCfg","destroy","getBBox","getChildren","filter","isGroup","minX","maxX","minY","maxY","getCanvasBBox","children","onAttrChange","getTotalMatrix","_applyChildrenMarix","applyMatrix","addShape","getShapeBase","addGroup","parent","getGroupBase","getCanvas","getShape","_findShape","invertFromMatrix","isClipped","isHit","onCanvasChange","_applyElementMatrix","sort","_INDEX","getFirst","getChildByIndex","getLast","getCount","contain","removeChild","remove","findAll","find","findById","findByClassName","findAllByName","V","Z","transform","K","J","tt","attrs","et","attr","nt","onFrame","startTime","delay","duration","toAttrs","fromAttrs","rt","getDefaultAttrs","initAttrs","initAnimate","zIndex","matrix","getDefaultMatrix","opacity","setAttr","afterAttrsChange","getClip","isClipShape","applyTo","show","hide","setZIndex","toFront","toBack","resetMatrix","getMatrix","setMatrix","totalMatrix","parentMatrix","applyToMatrix","setClip","canvas","clipShape","isAnimatePaused","isPaused","animate","timer","initTimer","repeat","easing","pauseCallback","resumeCallback","getTime","id","pathFormatted","addAnimator","stopAnimate","pauseAnimate","_paused","_pauseTime","pauseTime","resumeAnimate","emitDelegation","emitDelegateEvent","move","moveTo","rotateAtStart","rotateAtPoint","isEntityGroup","_isInBBox","clearCacheBBox","bbox","calculateBBox","canvasBBox","calculateCanvasBBox","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","isInShape","isOnlyHitBox","Map","atan","tan","match","substr","isNaN","cx","cy","rx","ry","startAngle","endAngle","xRotation","arcFlag","sweepFlag","prePoint","currentPoint","nextPoint","pow","xExtra","yExtra","atan2","points","getBBoxByArray","text","lineHeight","textAlign","textBaseline","path","stroke","lineWidth","params","command","arcParams","box","startTangent","endTangent","x1","y1","it","ot","performance","now","Date","requestAnimationFrame","setTimeout","_call","_time","_next","restart","clearTimeout","clearInterval","setInterval","stop","exponent","overshoot","asin","amplitude","period","at","ut","st","lt","ct","ht","ft","dt","pt","gt","yt","vt","mt","bt","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","wt","rgb","formatHex","xt","formatRgb","Mt","exec","Nt","Ct","kt","At","NaN","St","Ot","jt","Et","_t","Bt","Tt","Pt","Wt","displayable","hex","formatHsl","brighter","darker","It","Dt","Lt","qt","Rt","gamma","Xt","Yt","Ft","ArrayBuffer","isView","DataView","zt","Jt","Ht","setTime","Gt","$t","Qt","Ut","Vt","source","Zt","lastIndex","Kt","valueOf","te","ee","ne","test","re","animators","current","removeAnimator","draw","isAnimating","stopAllAnimations","ie","oe","ae","ue","se","draggingShape","dragging","currentShape","mousedownShape","mousedownPoint","_eventCallback","_triggerEvent","_onDocumentMove","_getPointInfo","_emitEvent","_onDocumentMouseUp","_afterDrag","init","_bindEvents","addEventListener","_clearEvents","removeEventListener","_getEventObj","clientX","clientY","_getShape","getClientByEvent","getPointByEvent","style","cursor","_onmousedown","button","mousedownTimeStamp","_emitMouseoverEvents","_emitDragoverEvents","_onmouseup","_ondragover","_onmousemove","le","ce","initContainer","initDom","initEvents","initTimeline","supportCSSTransform","getElementById","createDom","appendChild","setDOMSize","changeSize","getRenderer","getCursor","setCursor","layerX","offsetX","layerY","offsetY","getPointByClient","touches","changedTouches","getBoundingClientRect","left","top","getClientByPoint","removeDom","parentNode","clearEvents","row","column","marginStart","marginLeft","marginRight","marginTop","marginBottom","margin","marginEnd","borderStartWidth","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","borderWidth","borderEndWidth","paddingStart","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","paddingEnd","alignSelf","alignItems","position","flex","layout","minWidth","minHeight","maxWidth","maxHeight","direction","flexDirection","measure","flexWrap","justifyContent","lineIndex","nextAbsoluteChild","nextFlexChild","alignContent","shouldUpdate","isDirty","lastLayout","requestedHeight","requestedWidth","parentMaxWidth","layoutNodeImpl","computeLayout","fillNodes","right","bottom","version","os","platform","bot","navigator","product","userAgent","Error","run","fun","array","nextTick","title","browser","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","Boolean","JSON","parse","startsWith","class","tagName","display","console","error","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderColor","borderStyle","backgroundColor","backgroundImage","shift","input","stepNext","cur","twoChar","stepWhile","skipWhiteSpace","getText","eof","helper","parseNodes","parseNode","parseElement","parseTextNode","parseAttributes","removeQuote","dom","originChildren","domTree","cssTree","rulesHash","ids","classes","tagNames","parseRulesHash","genStyleTree","stylesheet","rules","selectors","genKeySelector","selector","specificity","genSpecificity","genStyleFromRule","computeCSS","genStyleFromDeclaration","declarations","entries","styleNode","gNode","isMounted","isDisplay","_parentGNode","_prevAttrs","_prevStyle","_prevLayout","events","trigger","targetGNode","uiNode","configurable","_layout","setParent","reflow","unmount","query","queryAll","manualMount","parentGNode","mount","render","clearLayout","attributes","didMount","didUnmount","didUpdate","setAttribute","setStyle","getAttribute","getStyle","setText","backgroudNode","className","fill","fillOpacity","backgroundOpacity","radius","pointerEvents","img","url","lineDash","overflow","getAttrs","color","update","getMultiLineText","assembleFont","whiteSpace","src","lastIndexOf","line","start","end","content","reason","filename","silent","comment","vendor","keyframes","media","supports","writable","parsingErrors","UIBaseNode","createUI","registerUINode","registerAttr","createSegmentNode","data","item","catmullRom2Bezier","crp","segment","transformMat2","transformMat2d","p0","p1","sinC","cosC","Base","offScreenCtx","getOffScreenContext","group","Container","Element","_typeof","clearAnimationFrame","cache","cancelAnimationFrame","setExtraFunction","child","AbstractShape","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","time","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","linear","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","polyOut","polyInOut","pi","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","backOut","backInOut","tau","elasticIn","elasticOut","elasticInOut","extend","definition","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color_formatHex","color_formatRgb","format","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","m1","m2","basis","v0","v1","v2","v3","t3","channels","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","colors","isNumberArray","genericArray","nb","na","reA","reB","am","bm","bs","bi","number","one","string","date","numberArray","animation","elapsed","ratio","cPathPoint","cProps","Timeline","relativeShape","EventController","event","_this","quadratic","extremas","register","circle","point","BrowserInfo","NodeInfo","process","SearchBotDeviceInfo","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","detect","parseUserAgent","matchUserAgent","ua","matched","_a","regex","uaMatch","matchedRule","versionParts","output","ii","createVersionParts","detectOS","searchBotMatch","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","noop","args","dir","dispatch","fns","subscribe","BACKGROUND_STYLE","SIMPLE_BACKGROUND_STYLE","FOREGROUND_STYLE","TREND_HANDLER_STYLE","highLightFill","SIMPLE_HANDLE_STYLE","TEXT_STYLE","TICK_LABEL_STYLE","TICK_LINE_STYLE","PROGRESS_TICK","PROGRESS_TICK_LINE_STYLE","PROGRESS_TICK_TEXT_STYLE","PROGRESS_TICK_SELECTED_STYLE","PROGRESS_TICK_UNSELECTED_STYLE","DEFAULT_CONTROLLER_CONFIG","speed","contentWidth","hideTimeTypeController","preBtnStyle","nextBtnStyle","playBtnStyle","which","html","css","triH","node","startNode","pauseNode","isPause","option","mixOption","wrapperWidth","uiTree","nextBtn","prevBtn","playBtn","createPlayer","isStop","loop","play","setSpeed","token","word","literal","shorten","arr","sLen","newArr","monthUpdate","arrName","i18n","origObj","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","val","formatFlags","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","HH","getMinutes","mm","getSeconds","ss","getMilliseconds","SS","SSS","ZZ","getTimezoneOffset","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","undefined","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","$1","combinedI18nSettings","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","field","requiredField","matches","parser","dateWithoutTZ","validateFields","UTC","hi","appendPercent","pretty","res","ticks","idx","getLinePath","pointsToPath","dataToPath","smooth","getSmoothLinePath","registerTickMethod","lastValue","tickInterval","TREND_LINE_STYLE","strokeOpacity","createSimpleProgressBar","slider","sliderTick","nodes","handlerStyle","backgroundStyle","foregroundStyle","textStyle","slideContainer","leftControl","rightControl","slideInner","createSimpleSlider","createProgressBar","createTrendProgressBar","trend","trendData","lineStyle","trendLineStyle","mainRectWidth","circleR","controlWidth","leftControlText","rightControlText","onLeftChange","createTrendSlider","sliderNodes","tickWidth","progressBar","createProgressBarNode","tiker","tickLabelStyle","tickLineStyle","prev","createTiker","logic","delegateNode","goNext","containerWidth","updateRight","player","getSlideInnerWidth","getDataItem","updateLeft","isChangeSliderWidth","getStart","handler","slideWidth","dragingNode","startX","startLeft","drager","delta","goLeftPercent","percent","goRightPercent","goPrev","context","clearAllSelect","tickBoxs","tickBox","selects","selectedFill","unSelectFill","tick","log","selectedTickStyle","unselectedTickStyle","unSelectedTickStyle","gap","tickBoxHeight","createTickProgressBarNode","initPlayer","isStart","selectThrottle","trailing","leading","selectSingle","createTimeBarUI","control","controlBar","cfgs","_cfgs","getDefaultCfgs","initPlugin","graph","self","bindEvents","destroyPlugin","controllerCfg","filterEdge","initEvent","filterData","evt","rangeChange","tickLabelFormatter","minText","maxText","cacheGraphData","fileterEdges","edges","edge","changeData","warn","timebar","createTrendUI","tickBar","createTickUI","timeBar","createSimpleTimeBarUI","graphHeight","updateCfg","shouldBegin","shouldEnd","unbind","Behavior","registerBehavior","behavior","behaviorOption","eventsToBind","handle","types","hasBehavior","getBehavior","adjMatrix","graphData","directed","nodeMap","sIndex","tIndex","defaultComparator","LinkedListNode","LinkedList","comparator","head","tail","compare","prepend","newNode","append","deleteNode","currentNode","_b","_c","deleteTail","deletedTail","deleteHead","deletedHead","fromArray","toArray","reverse","prevNode","nextNode","Queue","linkedList","isEmpty","peek","enqueue","dequeue","removeHead","degree","degrees","inDegree","outDegree","floydWarshall","adjacentMatrix","getAdjMatrix","defaultCompare","UnionFind","items","_i","items_1","union","rootA","rootB","connected","Edge","MinBinaryHeap","compareFn","list","getLeft","getRight","delMin","moveDown","insert","moveUp","tmp","element","Node","edgeMap","addEdge","Graph","edgeIdAutoIncrease","nodeLabelMap","edgeLabelMap","counter","getNodeNum","addNode","rEdge","DFSedge","fromNode","toNode","fromNodeLabel","edgeLabel","toNodeLabel","nodeEdgeNodeLabel","nodeLabel1","nodeLabel2","equalTo","other","formNode","notEqualTo","DFScode","rmpath","dfsEdgeList","aLength","pushBack","toGraph","graphId","dfsEdge","fromNodeId","toNodeId","buildRmpath","oldFrom","fromNodeIdx","toNodeIdx","History","pdfs","his","nodesUsed","edgesUsed","preNode","hasNode","hasEdge","GSpan","graphs","minSupport","minNodeNum","_d","maxNodeNum","_e","_f","_g","verbose","dfsCode","support","frequentSize1Subgraphs","frequentSubgraphs","reportDF","findForwardRootEdges","findBackwardEdge","edge1","edge2","history","edge2ToEdges","edgeLength","findForwardPureEdges","rightmostEdge","minNodeLabel","rightmostEdgeToId","findForwardRmpathEdges","newToNodeLabel","getSupport","projected","graphMap","pro","findMinLabel","minLabel","isMin","dfsCodeMin","otherNode","projectIsMin","maxToC","backwardRoot","flag","newTo","_loop_1","backwardEdge","minBackwardEdgeLabel","idx_1","forwardRoot","newFrom","forwardPureEdges","pathLength","_loop_2","forwardRmpathEdges","forwardMinEdgeNodeLabel","report","subGraphMining","nodeNum","_loop_3","generate1EdgeFrequentSubGraphs","nodeLabelCounter","nodeEdgeNodeCounter","nodeLableCounted","nodeEdgeNodeLabelCounted","nodeLabel","graphNodeKey","graphKey","graphNodeEdgeNodeKey","nodeEdgeNodeKey","Stack","maxStep","isMaxStack","attributeName","isBetween","getLineIntersect","p2","p3","D0","D1","kross","invertKross","getRectIntersectByPoint","rect","center","getCircleIntersectByPoint","dx","dy","signX","sign","signY","getEllipseIntersectByPoint","ellipse","tag","vector","inversedMatrix","getCircleCenterByPoints","denominator","vx","vy","scaleMatrix","newRow","movedMatrix","scaleXY","getDegree","nodeIdxMap","onSegment","isPointInPolygon","dcmp","xValue","intersectBBox","box1","box2","points1","points2","xArr","yArr","parseToLines","lines","first","last","bbox1","bbox2","isIn","lines1","lines2","isIntersect","Line","getBBoxBoundLine","fractionAlongLineA","la","lb","uaT","ubT","uB","ub","POSITIVE_INFINITY","itemIntersectByLine","directions","countIntersections","intersections","fractionToLine","minDistance","testDistance","getPointsCenter","centerX","centerY","points_1","squareDist","pointLineSquareDist","projlenSq","px","py","dotprod","lenSq","isPointsOverlap","pointRectSquareDist","isLeft","isRight","isTop","isBottom","subjectColor","comboFill","colorSet","rootContainerClassName","nodeContainerClassName","edgeContainerClassName","comboContainerClassName","delegateContainerClassName","defaultLoopPosition","defaultNode","linkPoints","nodeStateStyles","active","selected","highlight","inactive","disable","defaultEdge","lineAppendWidth","edgeStateStyles","comboLabel","refY","refX","defaultCombo","comboStateStyles","delegateStyle","SELF_LINK_SIN","SELF_LINK_COS","leftTop","rightBottom","lx","ly","sourceNode","targetNode","containerMatrix","getKeyShape","loopCfg","startPoint","endPoint","rstart","rend","sinDeltaStart","cosDeltaStart","sinDeltaEnd","cosDeltaEnd","clockwise","swap","startVec","scaleRateStart","scaleRateEnd","startExtendVec","controlPoint1","endVec","endExtendVec","controlPoint2","controlPoints","pathShape","getPoint","getStartTangent","getEndTangent","offsetPoint","normal","traverse","traverseTree","traverseTreeUp","traverseUp","letter","letterAspectRatio","getTextSize","pattern","addedMap","modelMap","cd","itemType","parentId","mappedObj","mappedParent","parent_1","parent_2","pa","combo","comboId","cnode","maxDepth","tree","depth","oriNodeModel","reconstructTree","trees","subtreeId","newParentId","subtree","brothers","comboChildsMap","foundSubTree","oldParentId","removed","found_1","newParentDepth_1","currentDepth_1","getComboBBox","comboBBox","childItem","isVisible","childBBox","refreshEdge","anchorPoints","clonedObj","key1","obj2","clonedObj2_1","key2","combos","validated_1","param","nonNode","nodeIds","comboIds","nonEdges","ModeController","modes","formatModes","currentBehaves","setMode","setBehaviors","behave","behaviors","behaves","BehaviorInstance","mergeBehaviors","modeBehaviors","filterBehaviors","delegate","getMode","manipulateBehaviors","isAdd","currentMode","updateBehavior","newCfg","behaviorSet","length_2","length_1","modifyCSS","_super","G6GraphEvent","canvasX","canvasY","detail","isViewportChanged","ORIGIN_MATRIX","calculationItemsBBox","minx","maxx","miny","maxy","processParallelEdges","offsetDiff","multiEdgeType","singleEdgeType","loopEdgeType","cod","loopPosition","tags","reverses","sourceTarget","sedge","dst","arcEdges","curveOffset","ViewController","getViewCenter","getFormatPadding","fitCenter","viewCenter","groupCenter","fitView","zoom","focusPoint","animateCfg","modelCenter","getPointByCanvas","viewportMatrix","dx_1","dy_1","lastX_1","lastY_1","newX_1","newY_1","canvasPoint","getCanvasByPoint","focus","getType","sourceMatrix","getSource","targetMatrix","getTarget","plugin","minZoom","looseJSONParse","safeParse","firstAttempt","objectStack","syntaxStack","isLastPair","syntaxes","some","syntax","temp","nowChar","isInString","isLastTranslate","isInObject","isInArray","isWaitingValue","tempArr","generateTarget","lastOffset","defaultBbox","chilrenBBox","shapeHeight","shapeWidth","createNodeFromXML","gen","structures","compileXML","xml","endsWith","xmlParser","innerHTML","parseXML","getAttributeNames","innerText","keyshape","resultTarget","renderTarget","rest","origin","container","getContainer","newTarget","diffResult","compareTwoTarget","nowTarget","formerTarget","action","formerChilren","nowChilren","formerKeys","nowKeys","delShape","targetShape","updateTarget","originAttr","getOriginStyle","getAnchorPoints","ucfirst","ShapeFactoryBase","defaultShapeType","afterDraw","baseUpdate","afterUpdate","setState","getControlPoints","ShapeFramework","options","drawShape","defaultAnchorPoints","Shape","registerFactory","factoryType","factoryBase","shapeFactory","getFactory","registerNode","shapeType","nodeDefinition","extendShapeType","shapeObj","autoNodeDefinition","jsx","extendShape","registerEdge","edgeDefinition","registerCombo","comboDefinition","Combo","ItemBase","_cfg","defaultCfg","model","locked","keyShape","states","stateStyles","styles","drawInner","changeVisibility","updatePosition","getShapeCfg","setOriginStyle","restoreStates","keyShapeName","styles_1","currentStatesStyle_1","getCurrentStatesStyle","shapeAttrs","shapeStateStyle_1","getShapeStyleByName","shapeAttrs_1","keyShapeStateStyles_1","originStyles_1","keyShapeStyle","shapeName","state","clearCache","beforeDraw","styles_2","newModel","getStateStyle","getStates","stateName","filterStateName","newStates","filterStates","clearStates","originStates","getModel","getID","isItem","hasState","refresh","updateShape","isOnlyMove","onlyMove","oriVisible","cfgVisible","originPosition","enableCapture","enable","END_MAP","linkCenter","setEnd","pointName","itemName","preItem","removeEdge","getLinkPoint","anchorName","getPrePoint","anchorIndex","getLinkPointByAnchor","oppositeName","getEndPoint","getControlPointsByCenter","sourcePoint","targetPoint","getEndCenter","setSource","setTarget","sourceItem","targetItem","getNearestPoint","curPoint","nearestPoint","dis","getEdges","getInEdges","getOutEdges","getNeighbors","intersectPoint","linkPoint","bbox_1","shapeCfg","pointArr","lock","unlock","hasLocked","existX","existY","cacheSize","cacheBBox","oriX","oriY","getNodes","getCombos","addChild","addCombo","removeNode","removeCombo","ItemController","addItem","vType","upperType","defaultModel","mapper","mappedModel_1","isComboEdge","comboGroup","comboModel_1","collapsed","collapseCombo","updateItem","mappedModel","edges_1","updateCombo","updateComboEdges","combEdges","edgeSF","edgeCfg","edgeGroup","hideItem","expandCombo","showItem","removeItem","itemModel","vitems","vindex","itemId","comboTrees","brothers_1","ctree","bidx","comboInTree_1","found_2","setItemState","enabled","autoPaint","priorityState","currentItem","clearItemStates","refreshItem","addCombos","comboModels","comboModel","changeItemVisibility","id_1","children_1","found_3","StateController","cachedStates","disabled","checkCache","cacheState","updateState","enabledStates","disabledStates","updateGraphStates","updateStates","map_1","substitute","spliePath","tangent","perpendicular","pointsToPolygon","pathToPoints","seg","getClosedSpline","lastSecond","closedPath","x0","y0","cp1x","cp1y","cp2x","cp2y","unitNormal","nLength","vecFrom","roundedHull","polyPoints","roundedHull1","offsetVector","invOffsetVector","roundedHull2","segments","segmentIndex","arcData","pathFragment","paddedHull","pointCount","extensionVec","extension0","extension1","tangentHalfLength","controlDelta","invControlDelta","control0","control1","control3","smoothHull2","hullPoints","pNext","priorIndex","genConvexHull","lower","upper","defaultOps","maxRoutingIterations","maxMarchingIterations","pixelGroupSize","edgeR0","edgeR1","nodeR0","nodeR1","morphBuffer","threshold","skip","nodeInfluenceFactor","edgeInfluenceFactor","negativeNodeInfluenceFactor","MarchingSquares","contour","potentialArea","marched","getVal","cells","getState","squareVal","doMarch","xPos","yPos","prevX","prevY","findIndex","march","closestItem","getRoute","nonMembers","visited","optimalNeighbor","closestNeighbour","minCost","neighbourItem","itemP","neighbourItemP","directLine","numberObstacles","_item","checkedLines","finalRoute","line1","line2","mergeLine","mergeLines","linesToCheck","hasIntersection","iterations","pointExists","isPointInNonMembers","_nonMembers","_nonMembers_1","itemContour","intersections_1","testReroute","isFirst","tempMorphBuffer","virtualNode","rerouteLine","exist","pointInside","members","centroid","virtualEdges","scaleWidth","scaleHeight","activeRegion","NEGATIVE_INFINITY","bboxes","bboxes_1","getActiveRregion","hull","fillPotentialArea","marchedPath","members_1","isContourValid","memberInfluenceFactor","nonMemberInfluenceFactor","pos2GridIx","gridIx","gridIx2Pos","nodeInfA","edgeInfA","getAffectedRegion","thresholdR","addItemInfluence","influenceFactor","startY","endX","endY","tempX","tempY","distanceSq","dr","minDistanceSq","mdr","addEdgeInfluence","buffer","wrapNormal","topIntersect","leftIntersect","bottomIntersect","rightIntersect","cornerPos","topLeft","topRight","bottomLeft","bottomRight","totalArea","calcHalfArea","intersect1","intersect2","Hull","setPadding","setType","calcPath","nodeSize","bubbleCfg","addMember","updateData","addNonMember","removeMember","removeNonMember","updateStyle","nodeItem","shapePoints","shapeBBox","AbstractGraph","animating","enabledStack","undoStack","redoStack","initCanvas","viewController","modeController","itemController","stateController","initLayoutController","initEventController","initGroups","initPlugins","timeIndex","onTick","nodeGroup","delegateGroup","renderer","plugins","fitViewPadding","maxZoom","groupByTypes","vedges","itemMap","tooltips","getGroup","getMinZoom","setMinZoom","getMaxZoom","setMaxZoom","getWidth","getHeight","nodeFn","edgeFn","comboFn","findAllByState","addBehaviors","removeBehaviors","zoomTo","toRatio","getZoom","focusItem","isAnimate","curAniamteCfg","paint","getGraphCenterPoint","getViewPortCenterPoint","stack","before","after","pushStack","setAutoPaint","auto","deletedModel","updateComboTree","newComboTrees","sortCombo","currentComboSorted","itemMap_1","foundParent_1","newCombo","parentCombo","itemMap_2","foundParent_2","foundNode_1","cloneNode","sortCombos","addedModel","UnupdateModel","afterModel","clearStack","layoutController","refreshPositions","read","diffItems","models","removeHulls","localRefresh","combosData","comboItems","getLayoutType","positionsAnimate","createCombo","comboConfig","elementId","cItem","uncombo","comboItem","treeToBeUncombo","parentItem","childModel","updateCombos","uItem","itemSubTree_1","valid_1","subTree","beforeData","afterData","vedge","getComboChildren","toNodes","originAttrs","updatedNodes","changed","sourceModel","targetModel","getCurrentMode","avoidEmit","groups","updateLayout","oriLayoutCfg","layoutCfg","isLayoutTypeSame","gpuEnabled","updateLayoutCfg","changeLayout","destroyLayout","workerEnabled","layoutMethod","relayout","cnodes","ccombos","found","edgeWeightMap","addedVEdges","isVEdge","edgeModel","targetId","sourceId","vedgeModel","vedgeId","collapseExpandCombo","parentModel","depthMap","dataDepthMap","cTree","edgeItem","sourceDepth","targetDepth","getNodeDegree","nodeDegrees","getUndoStack","getRedoStack","getStackData","stackType","stackData","currentAdjMatrix","getShortestPathMatrix","currentShourtestPathMatrix","eventName","createHull","hullMap","getHulls","getHullById","hullId","removeHull","hullInstance","hulls","timestamp","SHAPE_DEFAULT_ATTRS","SHAPES_DEFAULT_ATTRS","startArrow","endArrow","shapeBase","getCustomConfig","getOptions","labelCfg","getComputedStyle","getPropertyValue","descriptionCfg","drawLabel","labelStyle","getLabelStyle","draggable","labelBBox","labelMatrix","rotateCenter","background","drawLabelBg","labelBgClassname","defaultLabelCfg","getLabelBgStyleByPosition","getLabelStyleByPosition","calculateStyle","attrName","defaultStyle","getShapeStyle","updateShapeStyle","updateLabel","shapeStyle","subShape","labelClassName","labelBg","currentLabelCfg","cfgStyle","cfgBgStyle","rotateMatrix","calculateBgStyle","labelBgStyle","bgRotateMatrix","shapeStateStyle","itemStateStyle","keptAttrs","enableStatesStyle","originStyle_1","keyShapeName_1","keyShapeStyles_1","filtetDisableStatesStyle","subShape_1","subShapeStyles_1","value_1","value_2","value_3","enableStyle","originstyles","keyShapeSetted","_loop_4","originKey","value_4","modelStateStyle","singleNode","labelPosition","getSize","backgroundWidth","backgroundHeight","updateLinkPoints","currentLinkPoints","defaultLinkPoints","markLeft","markRight","markTop","markBottom","markFill","markStroke","markSize","isAnchorPoint","hasIcon","updateIcon","icon","iconShape","iconConfig","labelShape","singleNodeDef","singleEdge","labelAutoRotate","getPath","strokeStyle","getPathPoints","currentAttr","previousStyle","routeCfg","pointPercent","autoRotate","offsetStyle","_getTextAlign","revertAlign","defaultFontFamily","singleEdgeDef","arcPoint","midPoint","edgeAngle","curvePosition","minCurveOffset","yDist","xDist","singleCombo","singleComboDef","fixSize","itemCacheSize","leftDis","topDis","fixCollapseSize","clipCfg","drawClip","clip","rectX","rectY","shapeClassName","G6Event","defaultSubjectColors","mat3","LayoutController","layoutType","layoutMethods","initLayout","getLayoutCfgType","pipes","pipe","every","refreshLayout","destoryLayoutMethods","setDataFromGraph","hiddenNodes","hiddenEdges","comboEdges","nodeItems","edgeItems","nodeLength","comboLength","hiddenCombos","reLayoutMethod","reslove","onLayoutEnd","ticking","forceSimulation","execute","isCustomLayout","reloadData","initPositions","currentCfg","onAllLayoutEnd","catch","filterLayoutData","nodesFilter","edegsFilter","edgesFilter","nodesMap_1","acc","getLayoutBBox","graphGroupNodes","layoutOrder","layoutNodes","groupNodes","layoutAnimate","moveToZero","meanCenter","horiNum","horiGap","vertiGap","beginX","beginY","allHavePos","alignLineStyle","props","itemAlignType","tolerance","horizontalLines","verticalLines","alignLines","onDragStart","initBoxLine","onDrag","onDragEnd","destory","nodeId","originPoint","itemAlign","tc","cc","bc","lc","rc","horizontalDis","verticalDis","alignCfg","clearAlignLine","getLineDisObject","horizontals","verticals","addAlignLine","horizontal","refLine","refPoint","lineCenterX","lineAttrs","vertical","lineCenterY","lineAtts","getContent","getCss","itemTypes","fixToNode","afterremoveitem","contextmenu","drag","onClick","hideTooltip","showTooltip","onMouseEnter","onMouseMove","onMouseLeave","cssString","uiGroup","tooltipUI","tooltip","itemBBox","createItem","itemConfig","getShapeSize","r1","r2","stringify","ALLOW_EVENTS","config","inActive","containerStyle","align","formatArray","multiple","positions","pos","getContainerPos","posIdxMap","containerCSS","marginValue","clearFilter","clearActiveLegend","goActive","goDefault","lengedStateStyles","legendActive","originStyle","goInActive","legendInactive","activateLegend","activeNode","filterFunctions","activeState","graphActiveState","inactiveState","graphInactiveState","activeCount","typeFuncs","typeFunc","graphItem","processData","itemsData","titleConfig","titleStyle","ui","order","graphContainer","sliderWidthPercent","dragTimestamp","sliderPosition","customizedStyle","graphWidth","resultX","sliderToTop","dragstart","dragend","pinchmove","pinchend","initSlider","zoomSliderUI","handleUI","updateHandlePosition","trackUI","clearHandle","scaleRatio","updateScale","lensDelegateStyle","isUp","scaleTimer","showLabel","tap","press","mousemove","showNodeLabel","showEdgeLabel","createDelegate","lensDelegate","scaleRByWheel","maxR","minR","hitNodesMap","fCenter","updateDelegate","shouldShow","vShapes","hitEdges","vShape","clonedGroup","shapes","updateParams","mCenter","maxD","minD","scaleRBy","scaleDBy","showDPercent","magnify","throMmagnify","scaleDByWheel","mousePos","wheelDelta","scaleRByDrag","dragPrePos","newD","lensCenter","scaleDByDrag","restoreCache","cachedMagnifiedModels","cachedOriginPositions","molecularParam","delegateCenterDiff","dist2","magnifiedDist","texts","shapeLength","cacheLength","ori","textLength","dPercentText","nd","nr","textY","handleUpdateCanvas","updateCanvas","viewportClassName","beforepaint","beforeanimate","afteranimate","viewportchange","disableRefresh","enableRefresh","disableOneRefresh","initViewport","updateViewport","totaldx","totaldy","viewport","updateGraphShapes","graphGroup","groupCanvas","updateKeyShapes","updateOneEdgeKeyShape","updateOneNodeKeyShape","updateOneComboKeyShape","clearDestroyedShapes","mappedItem","cKeyShape","updateDelegateShapes","updateOneNodeDelegateShape","containerHtml","containerCss","miniMapContainerUI","canvasGroup","graphBBox","graphZoom","getViewport","getEucliDis","pointA","pointB","eps","projectPointToEdge","edgeBundles","edgePoints","lambda","divisions","divRate","cycles","iterRate","bundleThreshold","bundling","isTicking","nodeIdMap","divideEdges","getEdgeBundles","forces","getEdgeForces","updateBundling","getEdgeLength","ep","oriDivisionLength","edgePoint","ei","iSource","iTarget","ej","jSource","jTarget","getBundleScore","getAngleScore","getScaleScore","getPositionScore","getVisibilityScore","getDotProduct","vij","getEdgeVisibility","vji","ps","pMid","iMid","eidx","kp","edgePointForces","force","spring","getSpringForce","pre","electrostatic","getElectrostaticForce","pidx","edgeBundle","resForce","eb","diff","getSimulation","handleMenuClick","onHide","onMenuHide","onMenuShow","menuLiHtml","menu","handleMenuClickWrapper","menuDom","TimeBar","SnapLine","Tooltip","Legend","ZoomSlider","EdgeFilterLens","Fisheye","MiniMap","Bundling","Menu"],"mappings":"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","file":"f6Plugin.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"f6ui\"] = factory();\n\telse\n\t\troot[\"f6ui\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n","var isArrayLike = function (value) {\n    /**\n     * isArrayLike([1, 2, 3]) => true\n     * isArrayLike(document.body.children) => true\n     * isArrayLike('abc') => true\n     * isArrayLike(Function) => false\n     */\n    return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\nexport default isArrayLike;\n//# sourceMappingURL=is-array-like.js.map","import isArrayLike from './is-array-like';\nvar filter = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        if (func(value, index)) {\n            result.push(value);\n        }\n    }\n    return result;\n};\nexport default filter;\n//# sourceMappingURL=filter.js.map","var toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexport default isType;\n//# sourceMappingURL=is-type.js.map","/**\n * \n * @param  {*} fn \n * @return {Boolean}  \n */\nimport isType from './is-type';\nexport default (function (value) {\n    return isType(value, 'Function');\n});\n//# sourceMappingURL=is-function.js.map","// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexport default isNil;\n//# sourceMappingURL=is-nil.js.map","import isType from './is-type';\nexport default (function (value) {\n    return Array.isArray ?\n        Array.isArray(value) :\n        isType(value, 'Array');\n});\n//# sourceMappingURL=is-array.js.map","export default (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return value !== null && type === 'object' || type === 'function';\n});\n//# sourceMappingURL=is-object.js.map","import isArray from './is-array';\nimport isObject from './is-object';\nfunction each(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (isArray(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (isObject(elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\nexport default each;\n//# sourceMappingURL=each.js.map","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) { return Object.keys(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(key);\n        }\n    });\n    return result;\n};\nexport default keys;\n//# sourceMappingURL=keys.js.map","var isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nexport default isObjectLike;\n//# sourceMappingURL=is-object-like.js.map","import isObjectLike from './is-object-like';\nimport isType from './is-type';\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\nexport default isPlainObject;\n//# sourceMappingURL=is-plain-object.js.map","function findIndex(arr, predicate, fromIndex) {\n    if (fromIndex === void 0) { fromIndex = 0; }\n    for (var i = fromIndex; i < arr.length; i++) {\n        if (predicate(arr[i], i)) {\n            // \n            return i;\n        }\n    }\n    return -1;\n}\nexport default findIndex;\n//# sourceMappingURL=find-index.js.map","import isArray from './is-array';\n/**\n * @param {Array} arr The array to iterate over.\n * @return {*} Returns the maximum value.\n * @example\n *\n * max([1, 2]);\n * // => 2\n *\n * max([]);\n * // => undefined\n *\n * const data = new Array(1250010).fill(1).map((d,idx) => idx);\n *\n * max(data);\n * // => 1250010\n * // Math.max(...data) will encounter \"Maximum call stack size exceeded\" error\n */\nexport default (function (arr) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    return arr.reduce(function (prev, curr) {\n        return Math.max(prev, curr);\n    }, arr[0]);\n});\n//# sourceMappingURL=max.js.map","import isArray from './is-array';\n/**\n * @param {Array} arr The array to iterate over.\n * @return {*} Returns the minimum value.\n * @example\n *\n * min([1, 2]);\n * // => 1\n *\n * min([]);\n * // => undefined\n *\n * const data = new Array(1250010).fill(1).map((d,idx) => idx);\n *\n * min(data);\n * // => 1250010\n * // Math.min(...data) will encounter \"Maximum call stack size exceeded\" error\n */\nexport default (function (arr) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    return arr.reduce(function (prev, curr) {\n        return Math.min(prev, curr);\n    }, arr[0]);\n});\n//# sourceMappingURL=min.js.map","import isArray from './is-array';\nimport { default as getMax } from './max';\nimport { default as getMin } from './min';\nvar getRange = function (values) {\n    //  NaN min,max \n    var filterValues = values.filter(function (v) { return !isNaN(v); });\n    if (!filterValues.length) {\n        // 0\n        return {\n            min: 0,\n            max: 0,\n        };\n    }\n    if (isArray(values[0])) {\n        var tmp = [];\n        for (var i = 0; i < values.length; i++) {\n            tmp = tmp.concat(values[i]);\n        }\n        filterValues = tmp;\n    }\n    var max = getMax(filterValues);\n    var min = getMin(filterValues);\n    return {\n        min: min,\n        max: max,\n    };\n};\nexport default getRange;\n//# sourceMappingURL=get-range.js.map","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\nvar pull = function (arr) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var fromIndex = -1;\n        while ((fromIndex = indexOf.call(arr, value)) > -1) {\n            splice.call(arr, fromIndex, 1);\n        }\n    }\n    return arr;\n};\nexport default pull;\n//# sourceMappingURL=pull.js.map","import isType from './is-type';\nexport default (function (str) {\n    return isType(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\nvar pullAt = function pullAt(arr, indexes) {\n    if (!isArrayLike(arr)) {\n        return [];\n    }\n    var length = arr ? indexes.length : 0;\n    var last = length - 1;\n    while (length--) {\n        var previous = void 0;\n        var index = indexes[length];\n        if (length === last || index !== previous) {\n            previous = index;\n            splice.call(arr, index, 1);\n        }\n    }\n    return arr;\n};\nexport default pullAt;\n//# sourceMappingURL=pull-at.js.map","import isArrayLike from './is-array-like';\nexport default function head(o) {\n    if (isArrayLike(o)) {\n        return o[0];\n    }\n    return undefined;\n}\n//# sourceMappingURL=head.js.map","import isArrayLike from './is-array-like';\nexport default function last(o) {\n    if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\n//# sourceMappingURL=last.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction endsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[arr.length - 1] === e : false;\n}\nexport default endsWith;\n//# sourceMappingURL=ends-with.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction groupBy(data, condition) {\n    if (!condition || !isArray(data)) {\n        return {};\n    }\n    var result = {};\n    //  \n    var predicate = isFunction(condition) ? condition : function (item) { return item[condition]; };\n    var key;\n    for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        key = predicate(item);\n        if (hasOwnProperty.call(result, key)) {\n            result[key].push(item);\n        }\n        else {\n            result[key] = [item];\n        }\n    }\n    return result;\n}\nexport default groupBy;\n//# sourceMappingURL=group-by.js.map","/**\n * this,\n * @protected\n * @param  {Object} obj   \n * @param  {String} action \n * @return {Function}        \n */\nfunction wrapBehavior(obj, action) {\n    if (obj['_wrap_' + action]) {\n        return obj['_wrap_' + action];\n    }\n    var method = function (e) {\n        obj[action](e);\n    };\n    obj['_wrap_' + action] = method;\n    return method;\n}\nexport default wrapBehavior;\n//# sourceMappingURL=wrap-behavior.js.map","import isArray from './is-array';\nfunction parseRadius(radius) {\n    var r1 = 0, r2 = 0, r3 = 0, r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4\n    };\n}\nexport default parseRadius;\n//# sourceMappingURL=parse-radius.js.map","var fixedBase = function (v, base) {\n    var str = base.toString();\n    var index = str.indexOf('.');\n    if (index === -1) {\n        return Math.round(v);\n    }\n    var length = str.substr(index + 1).length;\n    if (length > 20) {\n        length = 20;\n    }\n    return parseFloat(v.toFixed(length));\n};\nexport default fixedBase;\n//# sourceMappingURL=fixed-base.js.map","/**\n * \n * @return {Boolean} \n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n    return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;\n//# sourceMappingURL=is-integer.js.map","var PRECISION = 0.00001; // numbers less than this is considered as 0\nexport default function isNumberEqual(a, b, precision) {\n    if (precision === void 0) { precision = PRECISION; }\n    return Math.abs((a - b)) < precision;\n}\n;\n//# sourceMappingURL=is-number-equal.js.map","import isNumber from './is-number';\nvar isOdd = function (num) {\n    return isNumber(num) && num % 2 !== 0;\n};\nexport default isOdd;\n//# sourceMappingURL=is-odd.js.map","var mod = function (n, m) {\n    return ((n % m) + m) % m;\n};\nexport default mod;\n//# sourceMappingURL=mod.js.map","var RADIAN = Math.PI / 180;\nvar toRadian = function (degree) {\n    return RADIAN * degree;\n};\nexport default toRadian;\n//# sourceMappingURL=to-radian.js.map","var DEGREE = 180 / Math.PI;\nvar toDegree = function (radian) {\n    return DEGREE * radian;\n};\nexport default toDegree;\n//# sourceMappingURL=to-degree.js.map","export default parseInt;\n//# sourceMappingURL=to-integer.js.map","import isNil from './is-nil';\nexport default (function (value) {\n    if (isNil(value))\n        return '';\n    return value.toString();\n});\n//# sourceMappingURL=to-string.js.map","import each from './each';\nimport isFunction from './is-function';\n// @ts-ignore\nvar values = Object.values ? function (obj) { return Object.values(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexport default values;\n//# sourceMappingURL=values.js.map","function substitute(str, o) {\n    if (!str || !o) {\n        return str;\n    }\n    return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n            return match.slice(1);\n        }\n        return (o[name] === undefined) ? '' : o[name];\n    });\n}\nexport default substitute;\n//# sourceMappingURL=substitute.js.map","import toString from './to-string';\nvar upperFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\nexport default upperFirst;\n//# sourceMappingURL=upper-first.js.map","var toString = {}.toString;\nvar getType = function (value) {\n    return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\nexport default getType;\n//# sourceMappingURL=get-type.js.map","/**\n * \n *\n * @param {Object} value \n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isBoolean = function (value) {\n    return isType(value, 'Boolean');\n};\nexport default isBoolean;\n//# sourceMappingURL=is-boolean.js.map","import isType from './is-type';\nvar isDate = function (value) {\n    return isType(value, 'Date');\n};\nexport default isDate;\n//# sourceMappingURL=is-date.js.map","var objectProto = Object.prototype;\nvar isPrototype = function (value) {\n    var Ctor = value && value.constructor;\n    var proto = (typeof Ctor === 'function' && Ctor.prototype) || objectProto;\n    return value === proto;\n};\nexport default isPrototype;\n//# sourceMappingURL=is-prototype.js.map","// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n            dist[key] = obj[key];\n        }\n    }\n}\nexport default function mix(dist, src1, src2, src3) {\n    if (src1)\n        _mix(dist, src1);\n    if (src2)\n        _mix(dist, src2);\n    if (src3)\n        _mix(dist, src3);\n    return dist;\n}\n//# sourceMappingURL=mix.js.map","import isArray from './is-array';\nvar clone = function (obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    var rst;\n    if (isArray(obj)) {\n        rst = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n            if (typeof obj[i] === 'object' && obj[i] != null) {\n                rst[i] = clone(obj[i]);\n            }\n            else {\n                rst[i] = obj[i];\n            }\n        }\n    }\n    else {\n        rst = {};\n        for (var k in obj) {\n            if (typeof obj[k] === 'object' && obj[k] != null) {\n                rst[k] = clone(obj[k]);\n            }\n            else {\n                rst[k] = obj[k];\n            }\n        }\n    }\n    return rst;\n};\nexport default clone;\n//# sourceMappingURL=clone.js.map","function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexport default debounce;\n//# sourceMappingURL=debounce.js.map","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n            var value = src[key];\n            if (value !== null && isPlainObject(value)) {\n                if (!isPlainObject(dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (isArray(value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo \nvar deepMix = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexport default deepMix;\n//# sourceMappingURL=deep-mix.js.map","import isArrayLike from './is-array-like';\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike(arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexport default indexOf;\n//# sourceMappingURL=index-of.js.map","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isEmpty(value) {\n    /**\n     * isEmpty(null) => true\n     * isEmpty() => true\n     * isEmpty(true) => true\n     * isEmpty(1) => true\n     * isEmpty([1, 2, 3]) => false\n     * isEmpty('abc') => false\n     * isEmpty({ a: 1 }) => false\n     */\n    if (isNil(value)) {\n        return true;\n    }\n    if (isArrayLike(value)) {\n        return !value.length;\n    }\n    var type = getType(value);\n    if (type === 'Map' || type === 'Set') {\n        return !value.size;\n    }\n    if (isPrototype(value)) {\n        return !Object.keys(value).length;\n    }\n    for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isEmpty;\n//# sourceMappingURL=is-empty.js.map","import isObjectLike from './is-object-like';\nimport isArrayLike from './is-array-like';\nimport isString from './is-string';\nvar isEqual = function (value, other) {\n    if (value === other) {\n        return true;\n    }\n    if (!value || !other) {\n        return false;\n    }\n    if (isString(value) || isString(other)) {\n        return false;\n    }\n    if (isArrayLike(value) || isArrayLike(other)) {\n        if (value.length !== other.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < value.length; i++) {\n            rst = isEqual(value[i], other[i]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    if (isObjectLike(value) || isObjectLike(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n        if (valueKeys.length !== otherKeys.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < valueKeys.length; i++) {\n            rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    return false;\n};\nexport default isEqual;\n//# sourceMappingURL=is-equal.js.map","import isArrayLike from './is-array-like';\nvar map = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        result.push(func(value, index));\n    }\n    return result;\n};\nexport default map;\n//# sourceMappingURL=map.js.map","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\nexport default (function (obj, key, defaultValue) {\n    var p = 0;\n    var keyArr = isString(key) ? key.split('.') : key;\n    while (obj && p < keyArr.length) {\n        obj = obj[keyArr[p++]];\n    }\n    return (obj === undefined || p < keyArr.length) ? defaultValue : obj;\n});\n//# sourceMappingURL=get.js.map","export default (function (func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options)\n        options = {};\n    var later = function () {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            context = args = null;\n    };\n    var throttled = function () {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n    return throttled;\n});\n//# sourceMappingURL=throttle.js.map","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n    if (object === null || !isPlainObject(object)) {\n        return {};\n    }\n    var result = {};\n    each(keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n//# sourceMappingURL=pick.js.map","var map = {};\nexport default (function (prefix) {\n    prefix = prefix || 'g';\n    if (!map[prefix]) {\n        map[prefix] = 1;\n    }\n    else {\n        map[prefix] += 1;\n    }\n    return prefix + map[prefix];\n});\n//# sourceMappingURL=unique-id.js.map","export default (function () { });\n//# sourceMappingURL=noop.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","/**\n * k-v \n */\nvar default_1 = /** @class */ (function () {\n    function default_1() {\n        this.map = {};\n    }\n    default_1.prototype.has = function (key) {\n        return this.map[key] !== undefined;\n    };\n    default_1.prototype.get = function (key, def) {\n        var v = this.map[key];\n        return v === undefined ? def : v;\n    };\n    default_1.prototype.set = function (key, value) {\n        this.map[key] = value;\n    };\n    default_1.prototype.clear = function () {\n        this.map = {};\n    };\n    default_1.prototype.delete = function (key) {\n        delete this.map[key];\n    };\n    default_1.prototype.size = function () {\n        return Object.keys(this.map).length;\n    };\n    return default_1;\n}());\nexport default default_1;\n//# sourceMappingURL=cache.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","/**\n * @description  gl-matrix \n * */\nimport { mat3, vec2 } from 'gl-matrix';\nexport function leftTranslate(out, a, v) {\n    var transMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromTranslation(transMat, v);\n    return mat3.multiply(out, transMat, a);\n}\nexport function leftRotate(out, a, rad) {\n    var rotateMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromRotation(rotateMat, rad);\n    return mat3.multiply(out, rotateMat, a);\n}\nexport function leftScale(out, a, v) {\n    var scaleMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromScaling(scaleMat, v);\n    return mat3.multiply(out, scaleMat, a);\n}\nfunction leftMultiply(out, a, a1) {\n    return mat3.multiply(out, a1, a);\n}\n/**\n *  actions  transform\n * @param m\n * @param actions\n */\nexport function transform(m, actions) {\n    var matrix = m ? [].concat(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    for (var i = 0, len = actions.length; i < len; i++) {\n        var action = actions[i];\n        switch (action[0]) {\n            case 't':\n                leftTranslate(matrix, matrix, [action[1], action[2]]);\n                break;\n            case 's':\n                leftScale(matrix, matrix, [action[1], action[2]]);\n                break;\n            case 'r':\n                leftRotate(matrix, matrix, action[1]);\n                break;\n            case 'm':\n                leftMultiply(matrix, matrix, action[1]);\n                break;\n            default:\n                break;\n        }\n    }\n    return matrix;\n}\n/**\n *  v1   v2 \n * @param  {Array} v1 \n * @param  {Array} v2 \n * @return {Boolean} >= 0  < 0 \n */\nexport function direction(v1, v2) {\n    return v1[0] * v2[1] - v2[0] * v1[1];\n}\n/**\n *  v1  v2 \n * @param v1\n * @param v2\n * @param direct\n */\nexport function angleTo(v1, v2, direct) {\n    var ang = vec2.angle(v1, v2);\n    var angleLargeThanPI = direction(v1, v2) >= 0;\n    if (direct) {\n        if (angleLargeThanPI) {\n            return Math.PI * 2 - ang;\n        }\n        return ang;\n    }\n    if (angleLargeThanPI) {\n        return ang;\n    }\n    return Math.PI * 2 - ang;\n}\n/**\n * \n * @param out\n * @param v\n * @param flag\n */\nexport function vertical(out, v, flag) {\n    if (flag) {\n        out[0] = v[1];\n        out[1] = -1 * v[0];\n    }\n    else {\n        out[0] = -1 * v[1];\n        out[1] = v[0];\n    }\n    return out;\n}\n//# sourceMappingURL=ext.js.map","export function removeFromArray(arr, obj) {\n    var index = arr.indexOf(obj);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nexport { isNil, isFunction, isString, isObject, isArray, mix, each, upperFirst } from '@antv/util';\n// \nexport function isParent(container, shape) {\n    //  shape  canvas \n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\nexport function isAllowCapture(element) {\n    // @ts-ignore\n    return element.cfg.visible && element.cfg.capture;\n}\n//# sourceMappingURL=util.js.map","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.f6ui=e():t.f6ui=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=31)}([function(t,e,n){\"use strict\";n.d(e,\"g\",(function(){return b})),n.d(e,\"j\",(function(){return p})),n.d(e,\"k\",(function(){return g})),n.d(e,\"m\",(function(){return w})),n.d(e,\"o\",(function(){return M})),n.d(e,\"q\",(function(){return k})),n.d(e,\"b\",(function(){return s})),n.d(e,\"d\",(function(){return a})),n.d(e,\"e\",(function(){return u})),n.d(e,\"f\",(function(){return m})),n.d(e,\"h\",(function(){return c})),n.d(e,\"i\",(function(){return v})),n.d(e,\"a\",(function(){return h})),n.d(e,\"c\",(function(){return C})),n.d(e,\"l\",(function(){return O})),n.d(e,\"p\",(function(){return _})),n.d(e,\"n\",(function(){return E}));var r=function(t){return null!==t&&\"function\"!=typeof t&&isFinite(t.length)},i={}.toString,o=function(t,e){return i.call(t)===\"[object \"+e+\"]\"},a=function(t){return o(t,\"Function\")},u=function(t){return null==t},s=function(t){return Array.isArray?Array.isArray(t):o(t,\"Array\")};function l(t){return(l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var c=function(t){var e=l(t);return null!==t&&\"object\"===e||\"function\"===e};var h=function(t,e){if(t)if(s(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(c(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var d=function(t){return\"object\"===f(t)&&null!==t};var p=function(t){if(s(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},g=function(t){if(s(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},y=Array.prototype,v=(y.splice,y.indexOf,Array.prototype.splice,function(t){return o(t,\"String\")});Object.prototype.hasOwnProperty;var m=function(t){return o(t,\"Number\")};Number.isInteger&&Number.isInteger;function b(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var w=function(t,e){return(t%e+e)%e},x=(Math.PI,parseInt,Math.PI/180),M=function(t){return x*t},N=(Object.values,function(t){return u(t)?\"\":t.toString()});var k=function(t){var e=N(t);return e.charAt(0).toUpperCase()+e.substring(1)};Object.prototype;function S(t,e){for(var n in e)e.hasOwnProperty(n)&&\"constructor\"!==n&&void 0!==e[n]&&(t[n]=e[n])}function O(t,e,n,r){return e&&S(t,e),n&&S(t,n),r&&S(t,r),t}Object.prototype.hasOwnProperty;var C=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(v(e)||v(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(d(e)||d(n)){var a=Object.keys(e),u=Object.keys(n);if(a.length!==u.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1},j=(Object.prototype.hasOwnProperty,{}),_=function(t){return j[t=t||\"g\"]?j[t]+=1:j[t]=1,t+j[t]},E=function(){};!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}()},function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return i})),n.d(e,\"a\",(function(){return o})),n.d(e,\"c\",(function(){return a}));\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;function a(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}Object.create},function(t,e,n){\"use strict\";n.d(e,\"j\",(function(){return i})),n.d(e,\"c\",(function(){return o})),n.d(e,\"g\",(function(){return a})),n.d(e,\"b\",(function(){return u}));var r=n(0);function i(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}n.d(e,\"e\",(function(){return r.e})),n.d(e,\"d\",(function(){return r.d})),n.d(e,\"h\",(function(){return r.i})),n.d(e,\"f\",(function(){return r.h})),n.d(e,\"i\",(function(){return r.l})),n.d(e,\"a\",(function(){return r.a})),n.d(e,\"k\",(function(){return r.q}));var o=\"undefined\"!=typeof window&&void 0!==window.document;function a(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function u(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return r})),n.d(e,\"a\",(function(){return i})),n.d(e,\"c\",(function(){return o}));var r=1e-6,i=\"undefined\"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,n){\"use strict\";function r(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],h=t[8],f=e[0],d=e[1],p=e[2],g=e[3],y=e[4],v=e[5],m=e[6],b=e[7],w=e[8];return n[0]=f*r+d*a+p*l,n[1]=f*i+d*u+p*c,n[2]=f*o+d*s+p*h,n[3]=g*r+y*a+v*l,n[4]=g*i+y*u+v*c,n[5]=g*o+y*s+v*h,n[6]=m*r+b*a+w*l,n[7]=m*i+b*u+w*c,n[8]=m*o+b*s+w*h,n}function i(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function o(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7],c=t[8],h=c*a-u*l,f=-c*o+u*s,d=l*o-a*s,p=n*h+r*f+i*d;return p?(p=1/p,e[0]=h*p,e[1]=(-c*r+i*l)*p,e[2]=(u*r-i*a)*p,e[3]=f*p,e[4]=(c*n-i*s)*p,e[5]=(-u*n+i*o)*p,e[6]=d*p,e[7]=(-l*n+r*s)*p,e[8]=(a*n-r*o)*p,e):null}n.d(e,\"b\",(function(){return r})),n.d(e,\"c\",(function(){return i})),n.d(e,\"a\",(function(){return o}))},function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return c})),n.d(e,\"b\",(function(){return d})),n.d(e,\"c\",(function(){return u}));var r=n(0),i=\"\\t\\n\\v\\f\\r \\u2028\\u2029\",o=new RegExp(\"([a-z])[\"+i+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+i+\"]*,?[\"+i+\"]*)+)\",\"ig\"),a=new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+i+\"]*,?[\"+i+\"]*\",\"ig\"),u=function(t){if(!t)return null;if(Object(r.b)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(r,i,o){var u=[],s=i.toLowerCase();if(o.replace(a,(function(t,e){e&&u.push(+e)})),\"m\"===s&&u.length>2&&(n.push([i].concat(u.splice(0,2))),s=\"l\",i=\"m\"===i?\"l\":\"L\"),\"o\"===s&&1===u.length&&n.push([i,u[0]]),\"r\"===s)n.push([i].concat(u));else for(;u.length>=e[s]&&(n.push([i].concat(u.splice(0,e[s]))),e[s]););return t})),n};var s=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(r.a)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function l(t,e,n){var r=null,i=n;return e<i&&(i=e,r=\"add\"),t<i&&(i=t,r=\"del\"),{type:r,min:i}}var c=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var u=[],c=0;c<=i;c++)u[c]=[],u[c][0]={min:c};for(var h=0;h<=o;h++)u[0][h]={min:h};for(c=1;c<=i;c++){n=t[c-1];for(h=1;h<=o;h++){r=e[h-1],a=s(n,r)?0:1;var f=u[c-1][h].min+1,d=u[c][h-1].min+1,p=u[c-1][h-1].min+a;u[c][h]=l(f,d,p)}}return u}(t,e),r=t.length,i=e.length,o=[],a=1,u=1;if(n[r][i].min!==r){for(var c=1;c<=r;c++){var h=n[c][c].min;u=c;for(var f=a;f<=i;f++)n[c][f].min<h&&(h=n[c][f].min,u=f);a=u,n[c][a].type&&o.push({index:c-1,type:n[c][a].type})}for(c=o.length-1;c>=0;c--)a=o[c].index,\"add\"===o[c].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var d=i-(r=t.length);if(r<i)for(c=0;c<d;c++)\"z\"===t[r-1][0]||\"Z\"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function h(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=f(e)[0],u=1;u<=n;u++)o*=u,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function f(t){var e=[];switch(t[0]){case\"M\":case\"L\":e.push([t[1],t[2]]);break;case\"A\":e.push([t[6],t[7]]);break;case\"Q\":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case\"T\":e.push([t[1],t[2]]);break;case\"C\":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case\"S\":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case\"H\":case\"V\":e.push([t[1],t[1]])}return e}var d=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=f(t[r]),e[r][0]){case\"M\":t[r]=[\"M\"].concat(n[0]);break;case\"L\":t[r]=[\"L\"].concat(n[0]);break;case\"A\":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case\"Q\":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=h(n,t[r-1],1)}t[r]=[\"Q\"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case\"T\":t[r]=[\"T\"].concat(n[0]);break;case\"C\":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=h(n,t[r-1],2)}t[r]=[\"C\"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case\"S\":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=h(n,t[r-1],1)}t[r]=[\"S\"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t}},function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return o})),n.d(e,\"c\",(function(){return a})),n.d(e,\"a\",(function(){return u}));var r=n(2),i=n(9);function o(t,e,n){var i=1;return Object(r.h)(t)&&(i=t.split(\"\\n\").length),i>1?e*i+function(t,e){return e?e-t:.14*t}(e,n)*(i-1):e}function a(t,e){var n=Object(i.a)(),o=0;if(Object(r.e)(t)||\"\"===t)return o;if(n.save(),n.font=e,Object(r.h)(t)&&t.includes(\"\\n\")){var a=t.split(\"\\n\");Object(r.a)(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o}function u(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+\"px\",n].join(\" \").trim()}},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"create\",(function(){return i})),n.d(e,\"clone\",(function(){return o})),n.d(e,\"fromValues\",(function(){return a})),n.d(e,\"copy\",(function(){return u})),n.d(e,\"set\",(function(){return s})),n.d(e,\"add\",(function(){return l})),n.d(e,\"subtract\",(function(){return c})),n.d(e,\"multiply\",(function(){return h})),n.d(e,\"divide\",(function(){return f})),n.d(e,\"ceil\",(function(){return d})),n.d(e,\"floor\",(function(){return p})),n.d(e,\"min\",(function(){return g})),n.d(e,\"max\",(function(){return y})),n.d(e,\"round\",(function(){return v})),n.d(e,\"scale\",(function(){return m})),n.d(e,\"scaleAndAdd\",(function(){return b})),n.d(e,\"distance\",(function(){return w})),n.d(e,\"squaredDistance\",(function(){return x})),n.d(e,\"length\",(function(){return M})),n.d(e,\"squaredLength\",(function(){return N})),n.d(e,\"negate\",(function(){return k})),n.d(e,\"inverse\",(function(){return S})),n.d(e,\"normalize\",(function(){return O})),n.d(e,\"dot\",(function(){return C})),n.d(e,\"cross\",(function(){return j})),n.d(e,\"lerp\",(function(){return _})),n.d(e,\"random\",(function(){return E})),n.d(e,\"transformMat2\",(function(){return A})),n.d(e,\"transformMat2d\",(function(){return T})),n.d(e,\"transformMat3\",(function(){return B})),n.d(e,\"transformMat4\",(function(){return P})),n.d(e,\"rotate\",(function(){return W})),n.d(e,\"angle\",(function(){return I})),n.d(e,\"zero\",(function(){return L})),n.d(e,\"str\",(function(){return R})),n.d(e,\"exactEquals\",(function(){return D})),n.d(e,\"equals\",(function(){return q})),n.d(e,\"len\",(function(){return Y})),n.d(e,\"sub\",(function(){return F})),n.d(e,\"mul\",(function(){return z})),n.d(e,\"div\",(function(){return H})),n.d(e,\"dist\",(function(){return G})),n.d(e,\"sqrDist\",(function(){return $})),n.d(e,\"sqrLen\",(function(){return Q})),n.d(e,\"forEach\",(function(){return U}));var r=n(3);function i(){var t=new r.a(2);return r.a!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.a(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new r.a(2);return n[0]=t,n[1]=e,n}function u(t,e){return t[0]=e[0],t[1]=e[1],t}function s(t,e,n){return t[0]=e,t[1]=n,t}function l(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function y(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function M(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function N(t){var e=t[0],n=t[1];return e*e+n*n}function k(t,e){return t[0]=-e[0],t[1]=-e[1],t}function S(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function O(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function C(t,e){return t[0]*e[0]+t[1]*e[1]}function j(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function _(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function E(t,e){e=e||1;var n=2*r.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function A(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function T(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function B(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function P(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function W(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),u=Math.cos(r);return t[0]=i*u-o*a+n[0],t[1]=i*a+o*u+n[1],t}function I(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),u=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(u,-1),1))}function L(t){return t[0]=0,t[1]=0,t}function R(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"}function D(t,e){return t[0]===e[0]&&t[1]===e[1]}function q(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.b*Math.max(1,Math.abs(i),Math.abs(a))}var X,Y=M,F=c,z=h,H=f,G=w,$=x,Q=N,U=(X=i(),function(t,e,n,r,i,o){var a,u;for(e||(e=2),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,a=n;a<u;a+=e)X[0]=t[a],X[1]=t[a+1],i(X,X,o),t[a]=X[0],t[a+1]=X[1];return t})},function(t,e,n){\"use strict\";var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.a=r},function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i}));var r=null;function i(){if(!r){var t=document.createElement(\"canvas\");t.width=1,t.height=1,r=t.getContext(\"2d\")}return r}},function(t,e,n){\"use strict\";var r=n(1),i=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events[\"*\"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],u=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),u.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),o=n(2),a=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(o.i)(r,e),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(i);e.a=a},function(t,e,n){\"use strict\";var r=n(1),i=n(0),o=n(12),a=n(2),u={};var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],u=[],s=this.getChildren().filter((function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return s.length>0?(Object(a.a)(s,(function(t){var e=t.getBBox();o.push(e.minX,e.maxX),u.push(e.minY,e.maxY)})),t=Object(i.k)(o),e=Object(i.j)(o),n=Object(i.k)(u),r=Object(i.j)(u)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],u=[],s=this.getChildren().filter((function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return s.length>0?(Object(a.a)(s,(function(t){var e=t.getCanvasBBox();o.push(e.minX,e.maxX),u.push(e.minY,e.maxY)})),t=Object(i.k)(o),e=Object(i.j)(o),n=Object(i.k)(u),r=Object(i.j)(u)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),\"matrix\"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(a.a)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(a.f)(n)?r=n:r.type=n;var i=u[r.type];i||(i=Object(a.k)(r.type),u[r.type]=i);var o=this.getShapeBase(),s=new o[i](r);return this.add(s),s},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(Object(a.d)(r))n=new r(i||{parent:this});else{var o=r||{},u=this.getGroupBase();n=new u(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get(\"canvas\")},e.prototype.getShape=function(t,e,n){if(!Object(a.b)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var u=t[o];if(Object(a.b)(u)&&(u.isGroup()?i=u.getShape(e,n,r):u.isHit(e,n)&&(i=u)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get(\"timeline\"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set(\"parent\",null),e.set(\"canvas\",null)),Object(a.j)(t.getChildren(),e)}(i,t,!1),t.set(\"parent\",this),e&&function t(e,n){if(e.set(\"canvas\",n),e.isGroup()){var r=e.get(\"children\");r.length&&r.forEach((function(e){t(e,n)}))}}(t,e),r&&function t(e,n){if(e.set(\"timeline\",n),e.isGroup()){var r=e.get(\"children\");r.length&&r.forEach((function(e){t(e,n)}))}}(t,r),n.push(t),t.onCanvasChange(\"add\"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get(\"children\")},e.prototype.sort=function(){var t,e=this.getChildren();Object(a.a)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get(\"zIndex\")-e.get(\"zIndex\")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange(\"sort\")},e.prototype.clear=function(){if(this.set(\"clearing\",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set(\"children\",[]),this.onCanvasChange(\"clear\"),this.set(\"clearing\",!1)}},e.prototype.destroy=function(){this.get(\"destroyed\")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(a.a)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(a.a)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get(\"id\")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get(\"className\")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get(\"name\")===t}))},e}(o.a);e.a=s},function(t,e,n){\"use strict\";var r={};n.r(r),n.d(r,\"create\",(function(){return s})),n.d(r,\"fromMat4\",(function(){return l})),n.d(r,\"clone\",(function(){return c})),n.d(r,\"copy\",(function(){return h})),n.d(r,\"fromValues\",(function(){return f})),n.d(r,\"set\",(function(){return d})),n.d(r,\"identity\",(function(){return p})),n.d(r,\"transpose\",(function(){return g})),n.d(r,\"invert\",(function(){return y})),n.d(r,\"adjoint\",(function(){return v})),n.d(r,\"determinant\",(function(){return m})),n.d(r,\"multiply\",(function(){return b})),n.d(r,\"translate\",(function(){return w})),n.d(r,\"rotate\",(function(){return x})),n.d(r,\"scale\",(function(){return M})),n.d(r,\"fromTranslation\",(function(){return N})),n.d(r,\"fromRotation\",(function(){return k})),n.d(r,\"fromScaling\",(function(){return S})),n.d(r,\"fromMat2d\",(function(){return O})),n.d(r,\"fromQuat\",(function(){return C})),n.d(r,\"normalFromMat4\",(function(){return j})),n.d(r,\"projection\",(function(){return _})),n.d(r,\"str\",(function(){return E})),n.d(r,\"frob\",(function(){return A})),n.d(r,\"add\",(function(){return T})),n.d(r,\"subtract\",(function(){return B})),n.d(r,\"multiplyScalar\",(function(){return P})),n.d(r,\"multiplyScalarAndAdd\",(function(){return W})),n.d(r,\"exactEquals\",(function(){return I})),n.d(r,\"equals\",(function(){return L})),n.d(r,\"mul\",(function(){return R})),n.d(r,\"sub\",(function(){return D}));var i={};n.r(i),n.d(i,\"leftTranslate\",(function(){return X})),n.d(i,\"leftRotate\",(function(){return Y})),n.d(i,\"leftScale\",(function(){return F})),n.d(i,\"transform\",(function(){return z})),n.d(i,\"direction\",(function(){return H})),n.d(i,\"angleTo\",(function(){return G})),n.d(i,\"vertical\",(function(){return $}));var o=n(1),a=n(0),u=n(3);function s(){var t=new u.a(9);return u.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function c(t){var e=new u.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function f(t,e,n,r,i,o,a,s,l){var c=new u.a(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=l,c}function d(t,e,n,r,i,o,a,u,s,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t[8]=l,t}function p(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function g(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function y(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],l=e[7],c=e[8],h=c*a-u*l,f=-c*o+u*s,d=l*o-a*s,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-c*r+i*l)*p,t[2]=(u*r-i*a)*p,t[3]=f*p,t[4]=(c*n-i*s)*p,t[5]=(-u*n+i*o)*p,t[6]=d*p,t[7]=(-l*n+r*s)*p,t[8]=(a*n-r*o)*p,t):null}function v(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],l=e[7],c=e[8];return t[0]=a*c-u*l,t[1]=i*l-r*c,t[2]=r*u-i*a,t[3]=u*s-o*c,t[4]=n*c-i*s,t[5]=i*o-n*u,t[6]=o*l-a*s,t[7]=r*s-n*l,t[8]=n*a-r*o,t}function m(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],l=t[8];return e*(l*o-a*s)+n*(-l*i+a*u)+r*(s*i-o*u)}function b(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1],p=n[2],g=n[3],y=n[4],v=n[5],m=n[6],b=n[7],w=n[8];return t[0]=f*r+d*a+p*l,t[1]=f*i+d*u+p*c,t[2]=f*o+d*s+p*h,t[3]=g*r+y*a+v*l,t[4]=g*i+y*u+v*c,t[5]=g*o+y*s+v*h,t[6]=m*r+b*a+w*l,t[7]=m*i+b*u+w*c,t[8]=m*o+b*s+w*h,t}function w(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=f*r+d*a+l,t[7]=f*i+d*u+c,t[8]=f*o+d*s+h,t}function x(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*u,t[2]=d*o+f*s,t[3]=d*a-f*r,t[4]=d*u-f*i,t[5]=d*s-f*o,t[6]=l,t[7]=c,t[8]=h,t}function M(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function N(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function k(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function C(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,s=i+i,l=n*a,c=r*a,h=r*u,f=i*a,d=i*u,p=i*s,g=o*a,y=o*u,v=o*s;return t[0]=1-h-p,t[3]=c-v,t[6]=f+y,t[1]=c+v,t[4]=1-l-p,t[7]=d-g,t[2]=f-y,t[5]=d+g,t[8]=1-l-h,t}function j(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],y=e[14],v=e[15],m=n*u-r*a,b=n*s-i*a,w=n*l-o*a,x=r*s-i*u,M=r*l-o*u,N=i*l-o*s,k=c*g-h*p,S=c*y-f*p,O=c*v-d*p,C=h*y-f*g,j=h*v-d*g,_=f*v-d*y,E=m*_-b*j+w*C+x*O-M*S+N*k;return E?(E=1/E,t[0]=(u*_-s*j+l*C)*E,t[1]=(s*O-a*_-l*S)*E,t[2]=(a*j-u*O+l*k)*E,t[3]=(i*j-r*_-o*C)*E,t[4]=(n*_-i*O+o*S)*E,t[5]=(r*O-n*j-o*k)*E,t[6]=(g*N-y*M+v*x)*E,t[7]=(y*w-p*N-v*b)*E,t[8]=(p*M-g*w+v*m)*E,t):null}function _(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function E(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"}function A(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function T(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function B(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function P(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function W(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function I(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function L(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=t[8],f=e[0],d=e[1],p=e[2],g=e[3],y=e[4],v=e[5],m=e[6],b=e[7],w=e[8];return Math.abs(n-f)<=u.b*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=u.b*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=u.b*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-g)<=u.b*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-y)<=u.b*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(s-v)<=u.b*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-m)<=u.b*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(c-b)<=u.b*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(h-w)<=u.b*Math.max(1,Math.abs(h),Math.abs(w))}var R=b,D=B,q=n(7);function X(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromTranslation(i,n),r.multiply(t,i,e)}function Y(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromRotation(i,n),r.multiply(t,i,e)}function F(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromScaling(i,n),r.multiply(t,i,e)}function z(t,e){for(var n,i,o,a=t?[].concat(t):[1,0,0,0,1,0,0,0,1],u=0,s=e.length;u<s;u++){var l=e[u];switch(l[0]){case\"t\":X(a,a,[l[1],l[2]]);break;case\"s\":F(a,a,[l[1],l[2]]);break;case\"r\":Y(a,a,l[1]);break;case\"m\":n=a,i=a,o=l[1],r.multiply(n,o,i)}}return a}function H(t,e){return t[0]*e[1]-e[0]*t[1]}function G(t,e,n){var r=q.angle(t,e),i=H(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function $(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}var Q=n(2),U=n(4),V=n(10),Z=i.transform,K=[\"zIndex\",\"capture\",\"visible\",\"type\"],J=[\"repeat\"];function tt(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function et(t,e){var n={},r=e.attr();return Object(a.a)(t,(function(t,e){-1!==J.indexOf(e)||Object(a.c)(r[e],t)||(n[e]=t)})),n}function nt(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return Object(a.a)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&Object(a.a)(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var rt=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(a.l)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Object(o.b)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set(\"animable\",!0),this.set(\"animating\",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get(\"parent\")},e.prototype.getCanvas=function(){return this.get(\"canvas\")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(Object(a.h)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){\"matrix\"===t&&this.set(\"totalMatrix\",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange(\"clip\")}else this.onCanvasChange(\"attr\")},e.prototype.show=function(){return this.set(\"visible\",!0),this.onCanvasChange(\"show\"),this},e.prototype.hide=function(){return this.set(\"visible\",!1),this.onCanvasChange(\"hide\"),this},e.prototype.setZIndex=function(t){this.set(\"zIndex\",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get(\"el\"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange(\"zIndex\")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get(\"el\"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange(\"zIndex\")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(Q.j)(e.getChildren(),this),e.get(\"clearing\")||this.onCanvasChange(\"remove\")):this.onCanvasChange(\"remove\"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(\"matrix\",this.getDefaultMatrix()),this.onCanvasChange(\"matrix\")},e.prototype.getMatrix=function(){return this.attr(\"matrix\")},e.prototype.setMatrix=function(t){this.attr(\"matrix\",t),this.onCanvasChange(\"matrix\")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr(\"matrix\"),n=this.cfg.parentMatrix;t=n&&e?Object(U.b)(n,e):e||n,this.set(\"totalMatrix\",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr(\"matrix\"),n=null;n=t&&e?Object(U.b)(t,e):e||t,this.set(\"totalMatrix\",n),this.set(\"parentMatrix\",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr(\"matrix\");return e?Object(U.c)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr(\"matrix\");if(e){var n=Object(U.a)(e);if(n)return Object(U.c)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[Object(a.q)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set(\"clipShape\",n),this.onCanvasChange(\"clip\"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(a.a)(e,(function(t,r){Object(a.b)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)Object(a.b)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return Object(a.a)(K,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get(\"_pause\").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get(\"timeline\")||this.get(\"canvas\")){this.set(\"animating\",!0);var n=this.get(\"timeline\");n||(n=this.get(\"canvas\").get(\"timeline\"),this.set(\"timeline\",n));var r=this.get(\"animations\")||[];n.timer||n.initTimer();var i,o,u,s,l,c=t[0],h=t[1],f=t[2],d=void 0===f?\"easeLinear\":f,p=t[3],g=void 0===p?a.n:p,y=t[4],v=void 0===y?0:y;Object(a.d)(c)?(i=c,c={}):Object(a.h)(c)&&c.onFrame&&(i=c.onFrame,o=c.repeat),Object(a.h)(h)?(h=(l=h).duration,d=l.easing||\"easeLinear\",v=l.delay||0,o=l.repeat||o||!1,g=l.callback||a.n,u=l.pauseCallback||a.n,s=l.resumeCallback||a.n):(Object(a.f)(g)&&(v=g,g=null),Object(a.d)(d)?(g=d,d=\"easeLinear\"):d=d||\"easeLinear\");var m=et(c,this),b={fromAttrs:tt(m,this),toAttrs:m,duration:h,easing:d,repeat:o,callback:g,pauseCallback:u,resumeCallback:s,delay:v,startTime:n.getTime(),id:Object(a.p)(),onFrame:i,pathFormatted:!1};r.length>0?r=nt(r,b):n.addAnimator(this),r.push(b),this.set(\"animations\",r),this.set(\"_pause\",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get(\"animations\");Object(a.a)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set(\"animating\",!1),this.set(\"animations\",[])},e.prototype.pauseAnimate=function(){var t=this.get(\"timeline\"),e=this.get(\"animations\"),n=t.getTime();return Object(a.a)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set(\"_pause\",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get(\"timeline\").getTime(),e=this.get(\"animations\"),n=this.get(\"_pause\").pauseTime;return Object(a.a)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set(\"_pause\",{isPaused:!1}),this.set(\"animations\",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents();\"mouseenter\"===t?n=e.fromShape:\"mouseleave\"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],s=o.get(\"name\");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&Object(Q.g)(o,n))return\"break\";Object(a.b)(s)?Object(a.a)(s,(function(t){r.emitDelegateEvent(o,t,e)})):u.emitDelegateEvent(o,s,e)}},u=this,s=0;s<i.length;s++){if(\"break\"===o(s))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+\":\"+n.type;(r[i]||r[\"*\"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get(\"delegateObject\"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=Z(n,[[\"t\",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr(\"x\")||0,r=this.attr(\"y\")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=Z(n,[[\"s\",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=Z(e,[[\"r\",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=Z(i,[[\"t\",-n,-r],[\"r\",t],[\"t\",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=Z(r,[[\"t\",-t,-e],[\"r\",n],[\"t\",t,e]]);return this.setMatrix(i),this},e}(V.a);e.a=rt},function(t,e){},function(t,e){},function(t,e,n){\"use strict\";var r=n(1);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(r.b)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e}}(n(11).a)},function(t,e,n){\"use strict\";var r=n(1),i=n(12),o=n(4);!function(t){function e(e){return t.call(this,e)||this}Object(r.b)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set(\"bbox\",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set(\"canvasBBox\",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set(\"canvasBBox\",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;if(e){var u=Object(o.c)(e,[t.minX,t.minY]),s=Object(o.c)(e,[t.maxX,t.minY]),l=Object(o.c)(e,[t.minX,t.maxY]),c=Object(o.c)(e,[t.maxX,t.maxY]);n=Math.min(u[0],s[0],l[0],c[0]),i=Math.max(u[0],s[0],l[0],c[0]),r=Math.min(u[1],s[1],l[1],c[1]),a=Math.max(u[1],s[1],l[1],c[1])}var h=this.attrs;if(h.shadowColor){var f=h.shadowBlur,d=void 0===f?0:f,p=h.shadowOffsetX,g=void 0===p?0:p,y=h.shadowOffsetY,v=void 0===y?0:y,m=n-d+g,b=i+d+g,w=r-d+v,x=a+d+v;n=Math.min(n,m),i=Math.max(i,b),r=Math.min(r,w),a=Math.max(a,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:a,width:i-n,height:a-r}},e.prototype.clearCacheBBox=function(){this.set(\"bbox\",null),this.set(\"canvasBBox\",null)},e.prototype.isClipShape=function(){return this.get(\"isClipShape\")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get(\"startArrowShape\"),r=this.get(\"endArrowShape\"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],u=this._isInBBox(o,a);if(this.isOnlyHitBox())return u;if(u&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1}}(i.a)},function(t,e,n){\"use strict\";var r={};n.r(r),n.d(r,\"distance\",(function(){return c})),n.d(r,\"isNumberEqual\",(function(){return h})),n.d(r,\"getBBoxByArray\",(function(){return f})),n.d(r,\"getBBoxRange\",(function(){return d})),n.d(r,\"piMod\",(function(){return p}));var i=new Map;function o(t,e){i.set(t,e)}var a=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},u=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}};function s(t){return Math.min.apply(null,t)}function l(t){return Math.max.apply(null,t)}function c(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function h(t,e){return Math.abs(t-e)<.001}function f(t,e){var n=s(t),r=s(e);return{x:n,y:r,width:l(t)-n,height:l(e)-r}}function d(t,e,n,r){return{minX:s([t,n]),maxX:l([t,n]),minY:s([e,r]),maxY:l([e,r])}}function p(t){return(t+2*Math.PI)%(2*Math.PI)}n(7);function g(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function y(t,e,n){var r=t+n-2*e;if(h(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}var v=function(t,e,n,r,i,o){var a=y(t,n,i)[0],u=y(e,r,o)[0],s=[t,i],l=[e,o];return void 0!==a&&s.push(g(t,n,i,a)),void 0!==u&&l.push(g(e,r,o,u)),f(s,l)};function m(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function b(t,e,n,r){var i,o,a,u=-3*t+9*e-9*n+3*r,s=6*t-12*e+6*n,l=3*e-3*t,c=[];if(h(u,0))h(s,0)||(i=-l/s)>=0&&i<=1&&c.push(i);else{var f=s*s-4*u*l;h(f,0)?c.push(-s/(2*u)):f>0&&(o=(-s-(a=Math.sqrt(f)))/(2*u),(i=(-s+a)/(2*u))>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}var w=function(t,e,n,r,i,o,a,u){for(var s=[t,a],l=[e,u],c=b(t,n,i,a),h=b(e,r,o,u),d=0;d<c.length;d++)s.push(m(t,n,i,a,c[d]));for(d=0;d<h.length;d++)l.push(m(e,r,o,u,h[d]));return f(s,l)};function x(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function M(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}var N=function(t,e,n,r,i,o,a){for(var u=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),s=1/0,l=-1/0,c=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var f=u+h;o<a?o<f&&f<a&&c.push(f):a<f&&f<o&&c.push(f)}for(h=0;h<c.length;h++){var d=x(t,0,n,r,i,c[h]);d<s&&(s=d),d>l&&(l=d)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,y=-1/0,v=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=p+h;o<a?o<m&&m<a&&v.push(m):a<m&&m<o&&v.push(m)}for(h=0;h<v.length;h++){var b=M(0,e,n,r,i,v[h]);b<g&&(g=b),b>y&&(y=b)}return{x:s,y:g,width:l-s,height:y-g}};function k(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function S(t,e){var n=t.get(\"startArrowShape\"),r=t.get(\"endArrowShape\");return n&&(e=k(e,n.getCanvasBBox())),r&&(e=k(e,r.getCanvasBBox())),e}var O=n(6),C=n(0),j=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,_=/[^\\s\\,]+/gi;var E=function(t){var e=t||[];return Object(C.b)(e)?e:Object(C.i)(e)?(e=e.match(j),Object(C.a)(e,(function(t,n){if((t=t.match(_))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}Object(C.a)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};var A=\"\\t\\n\\v\\f\\r \\u2028\\u2029\";new RegExp(\"([a-z])[\"+A+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+A+\"]*,?[\"+A+\"]*)+)\",\"ig\"),new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+A+\"]*,?[\"+A+\"]*\",\"ig\");function T(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function B(t,e){return T(t)*T(e)?(t[0]*e[0]+t[1]*e[1])/(T(t)*T(e)):1}function P(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(B(t,e))}function W(t,e){return t[0]===e[0]&&t[1]===e[1]}function I(t,e){var n=e[1],r=e[2],i=Object(C.m)(Object(C.o)(e[3]),2*Math.PI),o=e[4],a=e[5],u=t[0],s=t[1],l=e[6],c=e[7],h=Math.cos(i)*(u-l)/2+Math.sin(i)*(s-c)/2,f=-1*Math.sin(i)*(u-l)/2+Math.cos(i)*(s-c)/2,d=h*h/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(h*h),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=r?g*n*f/r:0,v=n?g*-r*h/n:0,m=(u+l)/2+Math.cos(i)*y-Math.sin(i)*v,b=(s+c)/2+Math.sin(i)*y+Math.cos(i)*v,w=[(h-y)/n,(f-v)/r],x=[(-1*h-y)/n,(-1*f-v)/r],M=P([1,0],w),N=P(w,x);return B(w,x)<=-1&&(N=Math.PI),B(w,x)>=1&&(N=0),0===a&&N>0&&(N-=2*Math.PI),1===a&&N<0&&(N+=2*Math.PI),{cx:m,cy:b,rx:W(t,[l,c])?0:n,ry:W(t,[l,c])?0:r,startAngle:M,endAngle:M+N,xRotation:i,arcFlag:o,sweepFlag:a}}function L(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function R(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),u=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),s=Math.acos((o+a-u)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!s||0===Math.sin(s)||Object(C.g)(s,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(s/2-l)*(e/2*(1/Math.sin(s/2)))-e/2||0,yExtra:Math.cos(c-s/2)*(e/2*(1/Math.sin(s/2)))-e/2||0}}o(\"rect\",a),o(\"image\",a),o(\"circle\",u),o(\"marker\",u),o(\"polyline\",(function(t){for(var e=t.attr().points,n=[],i=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),i.push(a[1])}var u=r.getBBoxByArray(n,i),s=u.x,l=u.y,c={minX:s,minY:l,maxX:s+u.width,maxY:l+u.height};return{x:(c=S(t,c)).minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}})),o(\"polygon\",(function(t){for(var e=t.attr().points,n=[],i=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),i.push(a[1])}return r.getBBoxByArray(n,i)})),o(\"text\",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,u=e.font;u||(u=Object(O.a)(e));var s,l=Object(O.c)(i,u);if(l){var c=e.textAlign,h=e.textBaseline,f=Object(O.b)(i,o,a),d={x:n,y:r-f};c&&(\"end\"===c||\"right\"===c?d.x-=l:\"center\"===c&&(d.x-=l/2)),h&&(\"top\"===h?d.y+=f:\"middle\"===h&&(d.y+=f/2)),s={x:d.x,y:d.y,width:l,height:f}}else s={x:n,y:r,width:0,height:0};return s})),o(\"path\",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(g=t[o]).currentPoint,u=g.params,s=g.prePoint,l=void 0;switch(g.command){case\"Q\":l=v(s[0],s[1],u[1],u[2],u[3],u[4]);break;case\"C\":l=w(s[0],s[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case\"A\":var c=g.arcParams;l=N(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:n.push(a[0]),r.push(a[1])}l&&(g.box=l,n.push(l.x,l.x+l.width),r.push(l.y,l.y+l.height)),e&&(\"L\"===g.command||\"M\"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(t){return!Number.isNaN(t)})),r=r.filter((function(t){return!Number.isNaN(t)}));var h=Object(C.k)(n),f=Object(C.k)(r),d=Object(C.j)(n),p=Object(C.j)(r);if(0===i.length)return{x:h,y:f,width:d-h,height:p-f};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===h?h-=R(g,e).xExtra:a[0]===d&&(d+=R(g,e).xExtra),a[1]===f?f-=R(g,e).yExtra:a[1]===p&&(p+=R(g,e).yExtra)}return{x:h,y:f,width:d-h,height:p-f}}(t.get(\"segments\")||function(t){for(var e=[],n=null,r=null,i=null,o=0,a=(t=E(t)).length,u=0;u<a;u++){var s=t[u];r=t[u+1];var l=s[0],c={command:l,prePoint:n,params:s,startTangent:null,endTangent:null};switch(l){case\"M\":i=[s[1],s[2]],o=u;break;case\"A\":var h=I(n,s);c.arcParams=h}if(\"Z\"===l)n=i,r=t[o+1];else{var f=s.length;n=[s[f-2],s[f-1]]}r&&\"Z\"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),c.currentPoint=n,e[o]&&W(n,e[o].currentPoint)&&(e[o].prePoint=c.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=d;var p=c.prePoint;if([\"L\",\"H\",\"V\"].includes(l))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if(\"Q\"===l){var g=[s[1],s[2]];c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]}else if(\"T\"===l){g=L((m=e[u-1]).currentPoint,p);\"Q\"===m.command?(c.command=\"Q\",c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]):(c.command=\"TL\",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if(\"C\"===l){var y=[s[1],s[2]],v=[s[3],s[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]}else if(\"S\"===l){var m;y=L((m=e[u-1]).currentPoint,p),v=[s[1],s[2]];\"C\"===m.command?(c.command=\"C\",c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]):(c.command=\"SQ\",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]])}else if(\"A\"===l){var b=.001,w=c.arcParams||{},x=w.cx,M=void 0===x?0:x,N=w.cy,k=void 0===N?0:N,S=w.rx,O=void 0===S?0:S,C=w.ry,j=void 0===C?0:C,_=w.sweepFlag,A=void 0===_?0:_,T=w.startAngle,B=void 0===T?0:T,P=w.endAngle,R=void 0===P?0:P;0===A&&(b*=-1);var D=O*Math.cos(B-b)+M,q=j*Math.sin(B-b)+k;c.startTangent=[D-i[0],q-i[1]];var X=O*Math.cos(B+R+b)+M,Y=j*Math.sin(B+R-b)+k;c.endTangent=[p[0]-X,p[1]-Y]}e.push(c)}return e}(n),r),o=i.x,a=i.y,u={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(u=S(t,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}})),o(\"line\",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=S(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),o(\"ellipse\",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}))},function(t,e,n){\"use strict\";var r={};n.r(r),n.d(r,\"easeLinear\",(function(){return C})),n.d(r,\"easeQuad\",(function(){return E})),n.d(r,\"easeQuadIn\",(function(){return j})),n.d(r,\"easeQuadOut\",(function(){return _})),n.d(r,\"easeQuadInOut\",(function(){return E})),n.d(r,\"easeCubic\",(function(){return B})),n.d(r,\"easeCubicIn\",(function(){return A})),n.d(r,\"easeCubicOut\",(function(){return T})),n.d(r,\"easeCubicInOut\",(function(){return B})),n.d(r,\"easePoly\",(function(){return I})),n.d(r,\"easePolyIn\",(function(){return P})),n.d(r,\"easePolyOut\",(function(){return W})),n.d(r,\"easePolyInOut\",(function(){return I})),n.d(r,\"easeSin\",(function(){return X})),n.d(r,\"easeSinIn\",(function(){return D})),n.d(r,\"easeSinOut\",(function(){return q})),n.d(r,\"easeSinInOut\",(function(){return X})),n.d(r,\"easeExp\",(function(){return H})),n.d(r,\"easeExpIn\",(function(){return F})),n.d(r,\"easeExpOut\",(function(){return z})),n.d(r,\"easeExpInOut\",(function(){return H})),n.d(r,\"easeCircle\",(function(){return Q})),n.d(r,\"easeCircleIn\",(function(){return G})),n.d(r,\"easeCircleOut\",(function(){return $})),n.d(r,\"easeCircleInOut\",(function(){return Q})),n.d(r,\"easeBounce\",(function(){return Z})),n.d(r,\"easeBounceIn\",(function(){return V})),n.d(r,\"easeBounceOut\",(function(){return Z})),n.d(r,\"easeBounceInOut\",(function(){return K})),n.d(r,\"easeBack\",(function(){return et})),n.d(r,\"easeBackIn\",(function(){return J})),n.d(r,\"easeBackOut\",(function(){return tt})),n.d(r,\"easeBackInOut\",(function(){return et})),n.d(r,\"easeElastic\",(function(){return it})),n.d(r,\"easeElasticIn\",(function(){return rt})),n.d(r,\"easeElasticOut\",(function(){return it})),n.d(r,\"easeElasticInOut\",(function(){return ot}));var i=n(1),o=n(21),a=n(11),u=n(2),s=n(0);function l(t){return(l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var c,h,f=0,d=0,p=0,g=0,y=0,v=0,m=\"object\"===(\"undefined\"==typeof performance?\"undefined\":l(performance))&&performance.now?performance:Date,b=\"object\"===(\"undefined\"==typeof window?\"undefined\":l(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function w(){return y||(b(x),y=m.now()+v)}function x(){y=0}function M(){this._call=this._time=this._next=null}function N(t,e,n){var r=new M;return r.restart(t,e,n),r}function k(){y=(g=m.now())+v,f=d=0;try{!function(){w(),++f;for(var t,e=c;e;)(t=y-e._time)>=0&&e._call.call(null,t),e=e._next;--f}()}finally{f=0,function(){var t,e,n=c,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:c=e);h=t,O(r)}(),y=0}}function S(){var t=m.now(),e=t-g;e>1e3&&(v-=e,g=t)}function O(t){f||(d&&(d=clearTimeout(d)),t-y>24?(t<1/0&&(d=setTimeout(k,t-m.now()-v)),p&&(p=clearInterval(p))):(p||(g=m.now(),p=setInterval(S,1e3)),f=1,b(k)))}function C(t){return+t}function j(t){return t*t}function _(t){return t*(2-t)}function E(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function A(t){return t*t*t}function T(t){return--t*t*t+1}function B(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}M.prototype=N.prototype={constructor:M,restart:function(t,e,n){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");n=(null==n?w():+n)+(null==e?0:+e),this._next||h===this||(h?h._next=this:c=this,h=this),this._call=t,this._time=n,O()},stop:function(){this._call&&(this._call=null,this._time=1/0,O())}};var P=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),W=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),I=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),L=Math.PI,R=L/2;function D(t){return 1==+t?1:1-Math.cos(t*R)}function q(t){return Math.sin(t*R)}function X(t){return(1-Math.cos(L*t))/2}function Y(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function F(t){return Y(1-+t)}function z(t){return 1-Y(t)}function H(t){return((t*=2)<=1?Y(1-t):2-Y(t-1))/2}function G(t){return 1-Math.sqrt(1-t*t)}function $(t){return Math.sqrt(1- --t*t)}function Q(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var U=7.5625;function V(t){return 1-Z(1-t)}function Z(t){return(t=+t)<4/11?U*t*t:t<8/11?U*(t-=6/11)*t+3/4:t<10/11?U*(t-=9/11)*t+15/16:U*(t-=21/22)*t+63/64}function K(t){return((t*=2)<=1?1-Z(1-t):Z(t-1)+1)/2}var J=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),tt=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),et=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),nt=2*Math.PI,rt=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return e*Y(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),it=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return 1-e*Y(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),ot=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return((t=2*t-1)<0?e*Y(-t)*Math.sin((r-t)/n):2-e*Y(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),at=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function ut(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function st(){}var lt=\"\\\\s*([+-]?\\\\d+)\\\\s*\",ct=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",ht=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",ft=/^#([0-9a-f]{3,8})$/,dt=new RegExp(\"^rgb\\\\(\"+[lt,lt,lt]+\"\\\\)$\"),pt=new RegExp(\"^rgb\\\\(\"+[ht,ht,ht]+\"\\\\)$\"),gt=new RegExp(\"^rgba\\\\(\"+[lt,lt,lt,ct]+\"\\\\)$\"),yt=new RegExp(\"^rgba\\\\(\"+[ht,ht,ht,ct]+\"\\\\)$\"),vt=new RegExp(\"^hsl\\\\(\"+[ct,ht,ht]+\"\\\\)$\"),mt=new RegExp(\"^hsla\\\\(\"+[ct,ht,ht,ct]+\"\\\\)$\"),bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wt(){return this.rgb().formatHex()}function xt(){return this.rgb().formatRgb()}function Mt(t){var e,n;return t=(t+\"\").trim().toLowerCase(),(e=ft.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Nt(e):3===n?new Ct(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?kt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?kt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dt.exec(t))?new Ct(e[1],e[2],e[3],1):(e=pt.exec(t))?new Ct(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=gt.exec(t))?kt(e[1],e[2],e[3],e[4]):(e=yt.exec(t))?kt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=vt.exec(t))?At(e[1],e[2]/100,e[3]/100,1):(e=mt.exec(t))?At(e[1],e[2]/100,e[3]/100,e[4]):bt.hasOwnProperty(t)?Nt(bt[t]):\"transparent\"===t?new Ct(NaN,NaN,NaN,0):null}function Nt(t){return new Ct(t>>16&255,t>>8&255,255&t,1)}function kt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ct(t,e,n,r)}function St(t){return t instanceof st||(t=Mt(t)),t?new Ct((t=t.rgb()).r,t.g,t.b,t.opacity):new Ct}function Ot(t,e,n,r){return 1===arguments.length?St(t):new Ct(t,e,n,null==r?1:r)}function Ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function jt(){return\"#\"+Et(this.r)+Et(this.g)+Et(this.b)}function _t(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\")\":\", \"+t+\")\")}function Et(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?\"0\":\"\")+t.toString(16)}function At(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bt(t,e,n,r)}function Tt(t){if(t instanceof Bt)return new Bt(t.h,t.s,t.l,t.opacity);if(t instanceof st||(t=Mt(t)),!t)return new Bt;if(t instanceof Bt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Bt(a,u,s,t.opacity)}function Bt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Pt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Wt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}at(st,Mt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:wt,formatHex:wt,formatHsl:function(){return Tt(this).formatHsl()},formatRgb:xt,toString:xt}),at(Ct,Ot,ut(st,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jt,formatHex:jt,formatRgb:_t,toString:_t})),at(Bt,(function(t,e,n,r){return 1===arguments.length?Tt(t):new Bt(t,e,n,null==r?1:r)}),ut(st,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Bt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Bt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ct(Pt(t>=240?t-240:t+120,i,r),Pt(t,i,r),Pt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+100*(this.s||0)+\"%, \"+100*(this.l||0)+\"%\"+(1===t?\")\":\", \"+t+\")\")}}));var It=function(t){return function(){return t}};function Lt(t,e){return function(n){return t+n*e}}function Rt(t){return 1==(t=+t)?Dt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):It(isNaN(e)?n:e)}}function Dt(t,e){var n=e-t;return n?Lt(t,n):It(isNaN(t)?e:t)}var qt=function t(e){var n=Rt(e);function r(t,e){var r=n((t=Ot(t)).r,(e=Ot(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Dt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+\"\"}}return r.gamma=t,r}(1);function Xt(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Ot(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+\"\"}}}Xt((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Wt((n-r/e)*e,a,i,o,u)}})),Xt((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Wt((n-r/e)*e,i,o,a,u)}}));var Yt=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function Ft(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Jt(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var Ht=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},Gt=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}};function $t(t){return($t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var Qt=function(t,e){var n,r={},i={};for(n in null!==t&&\"object\"===$t(t)||(t={}),null!==e&&\"object\"===$t(e)||(e={}),e)n in t?r[n]=Jt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Ut=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Vt=new RegExp(Ut.source,\"g\");var Zt=function(t,e){var n,r,i,o=Ut.lastIndex=Vt.lastIndex=0,a=-1,u=[],s=[];for(t+=\"\",e+=\"\";(n=Ut.exec(t))&&(r=Vt.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Gt(n,r)})),o=Vt.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+\"\"}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join(\"\")})};function Kt(t){return(Kt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var Jt=function(t,e){var n,r=Kt(e);return null==e||\"boolean\"===r?It(e):(\"number\"===r?Gt:\"string\"===r?(n=Mt(e))?(e=n,qt):Zt:e instanceof Mt?qt:e instanceof Date?Ht:Ft(e)?Yt:Array.isArray(e)?zt:\"function\"!=typeof e.valueOf&&\"function\"!=typeof e.toString||isNaN(e)?Qt:Gt)(t,e)},te=n(5),ee=[1,0,0,0,1,0,0,0,1];function ne(t,e,n){var i,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var a=e.duration,u=e.easing;if(n=n-o-e.delay,e.repeat)i=n%a/a,i=r[u](i);else{if(!((i=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;i=r[u](i)}if(e.onFrame){var l=e.onFrame(i);t.attr(l)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,u,l,c;for(var h in o)if(!Object(s.c)(i[h],o[h]))if(\"path\"===h){var f=o[h],d=i[h];f.length>d.length?(f=te.c(o[h]),d=te.c(i[h]),d=te.a(d,f),d=te.b(d,f),e.fromAttrs.path=d,e.toAttrs.path=f):e.pathFormatted||(f=te.c(o[h]),d=te.c(i[h]),d=te.b(d,f),e.fromAttrs.path=d,e.toAttrs.path=f,e.pathFormatted=!0),r[h]=[];for(var p=0;p<f.length;p++){for(var g=f[p],y=d[p],v=[],m=0;m<g.length;m++)Object(s.f)(g[m])&&y&&Object(s.f)(y[m])?(a=Jt(y[m],g[m]),v.push(a(n))):v.push(g[m]);r[h].push(v)}}else if(\"matrix\"===h){var b=(l=i[h]||ee,(Ft(c=o[h]||ee)?Yt:zt)(l,c))(n);r[h]=b}else[\"fill\",\"stroke\",\"fillStyle\",\"strokeStyle\"].includes(h)&&(u=o[h],/^[r,R,L,l]{1}[\\s]*\\(/.test(u))?r[h]=o[h]:Object(s.d)(o[h])||(a=Jt(i[h],o[h]),r[h]=a(n));t.attr(r)}}(t,e,i);return!1}var re=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=N((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get(\"animations\")).length-1;a>=0;a--)n=e[a],ne(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get(\"autoDraw\")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ie=n(8),oe=[\"mousedown\",\"mouseup\",\"dblclick\",\"mouseout\",\"mouseover\",\"mousemove\",\"mouseleave\",\"mouseenter\",\"touchstart\",\"touchmove\",\"touchend\",\"dragenter\",\"dragover\",\"dragleave\",\"drop\",\"contextmenu\",\"mousewheel\"];function ae(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function ue(t,e,n){if(n.bubbles){var r=void 0,i=!1;if(\"mouseenter\"===e?(r=n.fromShape,i=!0):\"mouseleave\"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Object(u.g)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var se=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get(\"el\")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent(\"drag\",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get(\"el\")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent(\"drop\",t,n,null),e._emitEvent(\"dragend\",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get(\"el\");Object(u.a)(oe,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener(\"mousemove\",this._onDocumentMove),document.addEventListener(\"mouseup\",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get(\"el\");Object(u.a)(oe,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener(\"mousemove\",this._onDocumentMove),document.removeEventListener(\"mouseup\",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new ie.a(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this[\"_on\"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;\"mouseenter\"===t||\"dragenter\"===t||\"mouseover\"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),\"mouseenter\"===t&&this.draggingShape&&this._emitEvent(\"dragenter\",e,n,null)):\"mouseleave\"===t||\"dragleave\"===t||\"mouseout\"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),\"mouseleave\"===t&&this.draggingShape&&this._emitEvent(\"dragleave\",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get(\"destroyed\")){var u=this.canvas;u.get(\"el\").style.cursor=r.attr(\"cursor\")||u.get(\"cursor\")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent(\"mousedown\",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get(\"el\");n!==r&&(n&&(this._emitEvent(\"mouseout\",t,e,n,n,r),this._emitEvent(\"mouseleave\",t,e,n,n,r),r&&!r.get(\"destroyed\")||(i.style.cursor=this.canvas.get(\"cursor\"))),r&&(this._emitEvent(\"mouseover\",t,e,r,n,r),this._emitEvent(\"mouseenter\",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent(\"dragleave\",t,e,n,n,r),this._emitEvent(\"dragenter\",t,e,r,n,r)),i||this._emitEvent(\"dragover\",t,e,r)):n&&this._emitEvent(\"dragleave\",t,e,n,n,r),i&&this._emitEvent(\"dragover\",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set(\"capture\",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent(\"drop\",n,t,e),this._emitEvent(\"dragend\",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent(\"mouseup\",n,t,e),e===this.mousedownShape&&this._emitEvent(\"click\",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent(\"drag\",n,t,o);else{var a=this.mousedownPoint;if(a){var u=this.mousedownShape,s=n.timeStamp-this.mousedownTimeStamp,l=a.clientX-t.clientX,c=a.clientY-t.clientY;s>120||l*l+c*c>40?u&&u.get(\"draggable\")?((o=this.mousedownShape).set(\"capture\",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent(\"dragstart\",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!u&&r.get(\"draggable\")?(this.dragging=!0,this._emitEvent(\"dragstart\",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent(\"mousemove\",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent(\"mousemove\",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent(\"mousemove\",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,ae(r,t,a);for(var u=r.getParent();u;)u.emitDelegation(t,a),a.propagationStopped||ue(u,t,a),a.propagationPath.push(u),u=u.getParent()}else{ae(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),le=Object(o.a)(),ce=le&&\"firefox\"===le.name;!function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}Object(i.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor=\"default\",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get(\"container\");Object(u.h)(t)&&(t=document.getElementById(t),this.set(\"container\",t))},e.prototype.initDom=function(){var t=this.createDom();this.set(\"el\",t),this.get(\"container\").appendChild(t),this.setDOMSize(this.get(\"width\"),this.get(\"height\"))},e.prototype.initEvents=function(){var t=new se({canvas:this});t.init(),this.set(\"eventController\",t)},e.prototype.initTimeline=function(){var t=new re(this);this.set(\"timeline\",t)},e.prototype.setDOMSize=function(t,e){var n=this.get(\"el\");u.c&&(n.style.width=t+\"px\",n.style.height=e+\"px\")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set(\"width\",t),this.set(\"height\",e),this.onCanvasChange(\"changeSize\")},e.prototype.getRenderer=function(){return this.get(\"renderer\")},e.prototype.getCursor=function(){return this.get(\"cursor\")},e.prototype.setCursor=function(t){this.set(\"cursor\",t);var e=this.get(\"el\");u.c&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get(\"supportCSSTransform\")){if(ce&&!Object(u.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(u.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e=\"touchend\"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get(\"el\").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get(\"el\").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get(\"el\");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get(\"eventController\").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get(\"timeline\");this.get(\"destroyed\")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))}}(a.a)},function(t,e,n){var r,i,o;function a(t){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}i=[],void 0===(o=\"function\"==typeof(r=function(){var n=function(){var t={row:\"left\",\"row-reverse\":\"right\",column:\"top\",\"column-reverse\":\"bottom\"},e={row:\"right\",\"row-reverse\":\"left\",column:\"bottom\",\"column-reverse\":\"top\"},n={row:\"left\",\"row-reverse\":\"right\",column:\"top\",\"column-reverse\":\"bottom\"},r={row:\"width\",\"row-reverse\":\"width\",column:\"height\",\"column-reverse\":\"height\"};function i(t){return void 0===t}function o(t){return\"row\"===t||\"row-reverse\"===t}function a(t,e){if(void 0!==t.style.marginStart&&o(e))return t.style.marginStart;var n=null;switch(e){case\"row\":n=t.style.marginLeft;break;case\"row-reverse\":n=t.style.marginRight;break;case\"column\":n=t.style.marginTop;break;case\"column-reverse\":n=t.style.marginBottom}return void 0!==n?n:void 0!==t.style.margin?t.style.margin:0}function u(t,e){if(void 0!==t.style.marginEnd&&o(e))return t.style.marginEnd;var n=null;switch(e){case\"row\":n=t.style.marginRight;break;case\"row-reverse\":n=t.style.marginLeft;break;case\"column\":n=t.style.marginBottom;break;case\"column-reverse\":n=t.style.marginTop}return null!=n?n:void 0!==t.style.margin?t.style.margin:0}function s(t,e){if(void 0!==t.style.borderStartWidth&&t.style.borderStartWidth>=0&&o(e))return t.style.borderStartWidth;var n=null;switch(e){case\"row\":n=t.style.borderLeftWidth;break;case\"row-reverse\":n=t.style.borderRightWidth;break;case\"column\":n=t.style.borderTopWidth;break;case\"column-reverse\":n=t.style.borderBottomWidth}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function l(t,e){if(void 0!==t.style.borderEndWidth&&t.style.borderEndWidth>=0&&o(e))return t.style.borderEndWidth;var n=null;switch(e){case\"row\":n=t.style.borderRightWidth;break;case\"row-reverse\":n=t.style.borderLeftWidth;break;case\"column\":n=t.style.borderBottomWidth;break;case\"column-reverse\":n=t.style.borderTopWidth}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function c(t,e){return function(t,e){if(void 0!==t.style.paddingStart&&t.style.paddingStart>=0&&o(e))return t.style.paddingStart;var n=null;switch(e){case\"row\":n=t.style.paddingLeft;break;case\"row-reverse\":n=t.style.paddingRight;break;case\"column\":n=t.style.paddingTop;break;case\"column-reverse\":n=t.style.paddingBottom}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}(t,e)+s(t,e)}function h(t,e){return function(t,e){if(void 0!==t.style.paddingEnd&&t.style.paddingEnd>=0&&o(e))return t.style.paddingEnd;var n=null;switch(e){case\"row\":n=t.style.paddingRight;break;case\"row-reverse\":n=t.style.paddingLeft;break;case\"column\":n=t.style.paddingBottom;break;case\"column-reverse\":n=t.style.paddingTop}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}(t,e)+l(t,e)}function f(t,e){return s(t,e)+l(t,e)}function d(t,e){return a(t,e)+u(t,e)}function p(t,e){return c(t,e)+h(t,e)}function g(t,e){return e.style.alignSelf?e.style.alignSelf:t.style.alignItems?t.style.alignItems:\"stretch\"}function y(t,e){if(\"rtl\"===e){if(\"row\"===t)return\"row-reverse\";if(\"row-reverse\"===t)return\"row\"}return t}function v(t){return t.style.position?t.style.position:\"relative\"}function m(t){return\"relative\"===v(t)&&t.style.flex>0}function b(t,e){return t.layout[r[e]]+d(t,e)}function w(t,e){return void 0!==t.style[r[e]]&&t.style[r[e]]>=0}function x(t,e){return void 0!==t.style[e]}function M(t,e){return void 0!==t.style[e]?t.style[e]:0}function N(t,e,n){var r={row:t.style.minWidth,\"row-reverse\":t.style.minWidth,column:t.style.minHeight,\"column-reverse\":t.style.minHeight}[e],i={row:t.style.maxWidth,\"row-reverse\":t.style.maxWidth,column:t.style.maxHeight,\"column-reverse\":t.style.maxHeight}[e],o=n;return void 0!==i&&i>=0&&o>i&&(o=i),void 0!==r&&r>=0&&o<r&&(o=r),o}function k(t,e){return t>e?t:e}function S(t,e){void 0===t.layout[r[e]]&&w(t,e)&&(t.layout[r[e]]=k(N(t,e,t.style[r[e]]),p(t,e)))}function O(t,i,o){i.layout[e[o]]=t.layout[r[o]]-i.layout[r[o]]-i.layout[n[o]]}function C(n,r){return void 0!==n.style[t[r]]?M(n,t[r]):-M(n,e[r])}function j(l,j,E){var A=function(t,e){var n;return\"inherit\"===(n=t.style.direction?t.style.direction:\"inherit\")&&(n=void 0===e?\"ltr\":e),n}(l,E),T=y(function(t){return t.style.flexDirection?t.style.flexDirection:\"column\"}(l),A),B=function(t,e){return function(t){return\"column\"===t||\"column-reverse\"===t}(t)?y(\"row\",e):\"column\"}(T,A),P=y(\"row\",A);S(l,T),S(l,B),l.layout.direction=A,l.layout[t[T]]+=a(l,T)+C(l,T),l.layout[e[T]]+=u(l,T)+C(l,T),l.layout[t[B]]+=a(l,B)+C(l,B),l.layout[e[B]]+=u(l,B)+C(l,B);var W=l.children.length,I=p(l,P);if(function(t){return void 0!==t.style.measure}(l)){var L=!i(l.layout[r[P]]),R=void 0;R=w(l,P)?l.style.width:L?l.layout[r[P]]:j-d(l,P),R-=I;var D=!w(l,P)&&!L,q=!w(l,\"column\")&&i(l.layout[r.column]);if(D||q){var X=l.style.measure(R);D&&(l.layout.width=X.width+I),q&&(l.layout.height=X.height+p(l,\"column\"))}if(0===W)return}var Y,F,z,H,G=function(t){return\"wrap\"===t.style.flexWrap}(l),$=function(t){return t.style.justifyContent?t.style.justifyContent:\"flex-start\"}(l),Q=c(l,T),U=c(l,B),V=p(l,T),Z=p(l,B),K=!i(l.layout[r[T]]),J=!i(l.layout[r[B]]),tt=o(T),et=null,nt=null,rt=void 0;K&&(rt=l.layout[r[T]]-V);for(var it=0,ot=0,at=0,ut=0,st=0,lt=0;ot<W;){var ct,ht=0,ft=0,dt=0,pt=0,gt=K&&\"flex-start\"===$||!K&&\"center\"!==$,yt=gt?W:it,vt=!0,mt=W,bt=null,wt=null,xt=Q,Mt=0;for(Y=it;Y<W;++Y){if((z=l.children[Y]).lineIndex=lt,z.nextAbsoluteChild=null,z.nextFlexChild=null,\"stretch\"===(At=g(l,z))&&\"relative\"===v(z)&&J&&!w(z,B))z.layout[r[B]]=k(N(z,B,l.layout[r[B]]-Z-d(z,B)),p(z,B));else if(\"absolute\"===v(z))for(null===et&&(et=z),null!==nt&&(nt.nextAbsoluteChild=z),nt=z,F=0;F<2;F++)H=0!==F?\"row\":\"column\",!i(l.layout[r[H]])&&!w(z,H)&&x(z,t[H])&&x(z,e[H])&&(z.layout[r[H]]=k(N(z,H,l.layout[r[H]]-p(l,H)-d(z,H)-M(z,t[H])-M(z,e[H])),p(z,H)));var Nt=0;if(K&&m(z)?(ft++,dt+=z.style.flex,null===bt&&(bt=z),null!==wt&&(wt.nextFlexChild=z),wt=z,Nt=p(z,T)+d(z,T)):(ct=void 0,tt||(ct=w(l,P)?l.layout[r[P]]-I:j-d(l,P)-I),0===at&&_(z,ct,A),\"relative\"===v(z)&&(pt++,Nt=b(z,T))),G&&K&&ht+Nt>rt&&Y!==it){pt--,at=1;break}gt&&(\"relative\"!==v(z)||m(z))&&(gt=!1,yt=Y),vt&&(\"relative\"!==v(z)||\"stretch\"!==At&&\"flex-start\"!==At||i(z.layout[r[B]]))&&(vt=!1,mt=Y),gt&&(z.layout[n[T]]+=xt,K&&O(l,z,T),xt+=b(z,T),Mt=k(Mt,N(z,B,b(z,B)))),vt&&(z.layout[n[B]]+=ut+U,J&&O(l,z,B)),at=0,ht+=Nt,ot=Y+1}var kt=0,St=0,Ot=0;if(Ot=K?rt-ht:k(ht,0)-ht,0!==ft){var Ct,jt,_t=Ot/dt;for(wt=bt;null!==wt;)(Ct=_t*wt.style.flex+p(wt,T))!==(jt=N(wt,T,Ct))&&(Ot-=jt,dt-=wt.style.flex),wt=wt.nextFlexChild;for((_t=Ot/dt)<0&&(_t=0),wt=bt;null!==wt;)wt.layout[r[T]]=N(wt,T,_t*wt.style.flex+p(wt,T)),ct=void 0,w(l,P)?ct=l.layout[r[P]]-I:tt||(ct=j-d(l,P)-I),_(wt,ct,A),z=wt,wt=wt.nextFlexChild,z.nextFlexChild=null}else\"flex-start\"!==$&&(\"center\"===$?kt=Ot/2:\"flex-end\"===$?kt=Ot:\"space-between\"===$?(Ot=k(Ot,0),St=ft+pt-1!=0?Ot/(ft+pt-1):0):\"space-around\"===$&&(kt=(St=Ot/(ft+pt))/2));for(xt+=kt,Y=yt;Y<ot;++Y)\"absolute\"===v(z=l.children[Y])&&x(z,t[T])?z.layout[n[T]]=M(z,t[T])+s(l,T)+a(z,T):(z.layout[n[T]]+=xt,K&&O(l,z,T),\"relative\"===v(z)&&(xt+=St+b(z,T),Mt=k(Mt,N(z,B,b(z,B)))));var Et=l.layout[r[B]];for(J||(Et=k(N(l,B,Mt+Z),Z)),Y=mt;Y<ot;++Y)if(\"absolute\"===v(z=l.children[Y])&&x(z,t[B]))z.layout[n[B]]=M(z,t[B])+s(l,B)+a(z,B);else{var At,Tt=U;if(\"relative\"===v(z))if(\"stretch\"===(At=g(l,z)))i(z.layout[r[B]])&&(z.layout[r[B]]=k(N(z,B,Et-Z-d(z,B)),p(z,B)));else if(\"flex-start\"!==At){var Bt=Et-Z-b(z,B);Tt+=\"center\"===At?Bt/2:Bt}z.layout[n[B]]+=ut+Tt,J&&O(l,z,B)}ut+=Mt,st=k(st,xt),lt+=1,it=ot}if(lt>1&&J){var Pt=l.layout[r[B]]-Z,Wt=Pt-ut,It=0,Lt=U,Rt=function(t){return t.style.alignContent?t.style.alignContent:\"flex-start\"}(l);\"flex-end\"===Rt?Lt+=Wt:\"center\"===Rt?Lt+=Wt/2:\"stretch\"===Rt&&Pt>ut&&(It=Wt/lt);var Dt=0;for(Y=0;Y<lt;++Y){var qt=Dt,Xt=0;for(F=qt;F<W;++F)if(\"relative\"===v(z=l.children[F])){if(z.lineIndex!==Y)break;i(z.layout[r[B]])||(Xt=k(Xt,z.layout[r[B]]+d(z,B)))}for(Dt=F,Xt+=It,F=qt;F<Dt;++F)if(\"relative\"===v(z=l.children[F])){var Yt=g(l,z);if(\"flex-start\"===Yt)z.layout[n[B]]=Lt+a(z,B);else if(\"flex-end\"===Yt)z.layout[n[B]]=Lt+Xt-u(z,B)-z.layout[r[B]];else if(\"center\"===Yt){var Ft=z.layout[r[B]];z.layout[n[B]]=Lt+(Xt-Ft)/2}else\"stretch\"===Yt&&(z.layout[n[B]]=Lt+a(z,B))}Lt+=Xt}}var zt=!1,Ht=!1;if(K||(l.layout[r[T]]=k(N(l,T,st+h(l,T)),V),\"row-reverse\"!==T&&\"column-reverse\"!==T||(zt=!0)),J||(l.layout[r[B]]=k(N(l,B,ut+Z),Z),\"row-reverse\"!==B&&\"column-reverse\"!==B||(Ht=!0)),zt||Ht)for(Y=0;Y<W;++Y)z=l.children[Y],zt&&O(l,z,T),Ht&&O(l,z,B);for(nt=et;null!==nt;){for(F=0;F<2;F++)H=0!==F?\"row\":\"column\",!i(l.layout[r[H]])&&!w(nt,H)&&x(nt,t[H])&&x(nt,e[H])&&(nt.layout[r[H]]=k(N(nt,H,l.layout[r[H]]-f(l,H)-d(nt,H)-M(nt,t[H])-M(nt,e[H])),p(nt,H))),x(nt,e[H])&&!x(nt,t[H])&&(nt.layout[t[H]]=l.layout[r[H]]-nt.layout[r[H]]-M(nt,e[H]));z=nt,nt=nt.nextAbsoluteChild,z.nextAbsoluteChild=null}}function _(t,e,n){t.shouldUpdate=!0;var r=t.style.direction||\"ltr\";!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===e&&t.lastLayout.direction===r?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=e,t.lastLayout.direction=r,t.children.forEach((function(t){t.layout.width=void 0,t.layout.height=void 0,t.layout.top=0,t.layout.left=0})),j(t,e,n),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left)}return{layoutNodeImpl:j,computeLayout:_,fillNodes:function t(e){return e.layout&&!e.isDirty||(e.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),e.style||(e.style={}),e.children||(e.children=[]),e.children.forEach(t),e}}}();return\"object\"===a(e)&&(t.exports=n),function(t){n.fillNodes(t),n.computeLayout(t)}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){\"use strict\";n(5),n(13),n(14),n(8),n(10),n(18),n(15),n(16),n(17);var r=n(6);n.d(e,\"assembleFont\",(function(){return r.a}));n(2),n(4),n(9)},function(t,e,n){\"use strict\";(function(t){n.d(e,\"a\",(function(){return f}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type=\"browser\"},o=function(e){this.version=e,this.type=\"node\",this.name=\"node\",this.os=t.platform},a=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type=\"bot-device\"},u=function(){this.type=\"bot\",this.bot=!0,this.name=\"bot\",this.version=null,this.os=null},s=function(){this.type=\"react-native\",this.name=\"react-native\",this.version=null,this.os=null},l=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/,c=[[\"aol\",/AOLShield\\/([0-9\\._]+)/],[\"edge\",/Edge\\/([0-9\\._]+)/],[\"edge-ios\",/EdgiOS\\/([0-9\\._]+)/],[\"yandexbrowser\",/YaBrowser\\/([0-9\\._]+)/],[\"kakaotalk\",/KAKAOTALK\\s([0-9\\.]+)/],[\"samsung\",/SamsungBrowser\\/([0-9\\.]+)/],[\"silk\",/\\bSilk\\/([0-9._-]+)\\b/],[\"miui\",/MiuiBrowser\\/([0-9\\.]+)$/],[\"beaker\",/BeakerBrowser\\/([0-9\\.]+)/],[\"edge-chromium\",/EdgA?\\/([0-9\\.]+)/],[\"chromium-webview\",/(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"chrome\",/(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"phantomjs\",/PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],[\"crios\",/CriOS\\/([0-9\\.]+)(:?\\s|$)/],[\"firefox\",/Firefox\\/([0-9\\.]+)(?:\\s|$)/],[\"fxios\",/FxiOS\\/([0-9\\.]+)/],[\"opera-mini\",/Opera Mini.*Version\\/([0-9\\.]+)/],[\"opera\",/Opera\\/([0-9\\.]+)(?:\\s|$)/],[\"opera\",/OPR\\/([0-9\\.]+)(:?\\s|$)/],[\"ie\",/Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],[\"ie\",/MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],[\"ie\",/MSIE\\s(7\\.0)/],[\"bb10\",/BB10;\\sTouch.*Version\\/([0-9\\.]+)/],[\"android\",/Android\\s([0-9\\.]+)/],[\"ios\",/Version\\/([0-9\\._]+).*Mobile.*Safari.*/],[\"safari\",/Version\\/([0-9\\._]+).*Safari/],[\"facebook\",/FBAV\\/([0-9\\.]+)/],[\"instagram\",/Instagram\\s([0-9\\.]+)/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Mobile/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],[\"searchbot\",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[[\"iOS\",/iP(hone|od|ad)/],[\"Android OS\",/Android/],[\"BlackBerry OS\",/BlackBerry|BB10/],[\"Windows Mobile\",/IEMobile/],[\"Amazon OS\",/Kindle/],[\"Windows 3.11\",/Win16/],[\"Windows 95\",/(Windows 95)|(Win95)|(Windows_95)/],[\"Windows 98\",/(Windows 98)|(Win98)/],[\"Windows 2000\",/(Windows NT 5.0)|(Windows 2000)/],[\"Windows XP\",/(Windows NT 5.1)|(Windows XP)/],[\"Windows Server 2003\",/(Windows NT 5.2)/],[\"Windows Vista\",/(Windows NT 6.0)/],[\"Windows 7\",/(Windows NT 6.1)/],[\"Windows 8\",/(Windows NT 6.2)/],[\"Windows 8.1\",/(Windows NT 6.3)/],[\"Windows 10\",/(Windows NT 10.0)/],[\"Windows ME\",/Windows ME/],[\"Open BSD\",/OpenBSD/],[\"Sun OS\",/SunOS/],[\"Chrome OS\",/CrOS/],[\"Linux\",/(Linux)|(X11)/],[\"Mac OS\",/(Mac_PowerPC)|(Macintosh)/],[\"QNX\",/QNX/],[\"BeOS\",/BeOS/],[\"OS/2\",/OS\\/2/]];function f(e){return e?p(e):\"undefined\"==typeof document&&\"undefined\"!=typeof navigator&&\"ReactNative\"===navigator.product?new s:\"undefined\"!=typeof navigator?p(navigator.userAgent):void 0!==t&&t.version?new o(t.version.slice(1)):null}function d(t){return\"\"!==t&&c.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function p(t){var e=d(t);if(!e)return null;var n=e[0],o=e[1];if(\"searchbot\"===n)return new u;var s=o[1]&&o[1].split(/[._]/).slice(0,3);s?s.length<3&&(s=r(s,function(t){for(var e=[],n=0;n<t;n++)e.push(\"0\");return e}(3-s.length))):s=[];var c=s.join(\".\"),f=function(t){for(var e=0,n=h.length;e<n;e++){var r=h[e],i=r[0];if(r[1].exec(t))return i}return null}(t),p=l.exec(t);return p&&p[1]?new a(n,c,f,p[1]):new i(n,c,f)}}).call(this,n(30))},,,,,,,,,function(t,e){var n,r,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,l=[],c=!1,h=-1;function f(){c&&s&&(c=!1,s.length?l=s.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=u(f);c=!0;for(var e=l.length;e;){for(s=l,l=[];++h<e;)s&&s[h].run();h=-1,e=l.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"UIBaseNode\",(function(){return A})),n.d(e,\"createUI\",(function(){return R})),n.d(e,\"registerUINode\",(function(){return _})),n.d(e,\"registerAttr\",(function(){return f})),n.d(e,\"createSegmentNode\",(function(){return D}));var r,i=n(1);function o(t){if(/^[-\\+\\.\\d]+$/.test(t))return Number(t);if(/true|false/.test(t))return Boolean(t);if(/^\\s*\\[/.test(t))try{return JSON.parse(t)}catch(e){throw new Error(\"\"+t+\"\")}if(/^\\s*\\{/.test(t))try{return JSON.parse(t)}catch(e){throw new Error(\"\"+t+\"\")}return t}function a(t){return r[t]||t.startsWith(\"rgb(\")||t.startsWith(\"rgba(\")||t.startsWith(\"#\")&&!isNaN(Number(\"0x\"+t.slice(1)))}function u(t,e){t&&e&&(t.attrs.id&&e(\"id\",t.attrs.id),t.attrs.class&&s(t.attrs.class,/\\s+/g).forEach((function(t){return e(\"class\",t)})),e(\"tagName\",t.tagName))}function s(t,e){return e?t.split(e).filter((function(t){return\"\"!=t})):[t]}function l(t,e){if(!t||!e)return!1;var n=e.match(/(^[^\\.#]+)/g),r=e.match(/#[^\\.#]+/g),o=e.match(/\\.[^\\.#]+/g),a=Object(i.c)(n||[],r||[],o||[]),s={};u(t,(function(t,e){switch(t){case\"id\":s[\"#\"+e]=1;break;case\"class\":s[\".\"+e]=1;break;case\"tagName\":s[\"\"+e]=1}}));for(var l=0,c=a;l<c.length;l++){var h=c[l];if(!s[h])return!1}return!0}!function(t){t[t.aliceblue=0]=\"aliceblue\",t[t.antiquewhite=1]=\"antiquewhite\",t[t.aqua=2]=\"aqua\",t[t.aquamarine=3]=\"aquamarine\",t[t.azure=4]=\"azure\",t[t.beige=5]=\"beige\",t[t.bisque=6]=\"bisque\",t[t.black=7]=\"black\",t[t.blanchedalmond=8]=\"blanchedalmond\",t[t.blue=9]=\"blue\",t[t.blueviolet=10]=\"blueviolet\",t[t.brown=11]=\"brown\",t[t.burlywood=12]=\"burlywood\",t[t.cadetblue=13]=\"cadetblue\",t[t.chartreuse=14]=\"chartreuse\",t[t.chocolate=15]=\"chocolate\",t[t.coral=16]=\"coral\",t[t.cornflowerblue=17]=\"cornflowerblue\",t[t.cornsilk=18]=\"cornsilk\",t[t.crimson=19]=\"crimson\",t[t.cyan=20]=\"cyan\",t[t.darkblue=21]=\"darkblue\",t[t.darkcyan=22]=\"darkcyan\",t[t.darkgoldenrod=23]=\"darkgoldenrod\",t[t.darkgray=24]=\"darkgray\",t[t.darkgreen=25]=\"darkgreen\",t[t.darkgrey=26]=\"darkgrey\",t[t.darkkhaki=27]=\"darkkhaki\",t[t.darkmagenta=28]=\"darkmagenta\",t[t.darkolivegreen=29]=\"darkolivegreen\",t[t.darkorange=30]=\"darkorange\",t[t.darkorchid=31]=\"darkorchid\",t[t.darkred=32]=\"darkred\",t[t.darksalmon=33]=\"darksalmon\",t[t.darkseagreen=34]=\"darkseagreen\",t[t.darkslateblue=35]=\"darkslateblue\",t[t.darkslategray=36]=\"darkslategray\",t[t.darkslategrey=37]=\"darkslategrey\",t[t.darkturquoise=38]=\"darkturquoise\",t[t.darkviolet=39]=\"darkviolet\",t[t.deeppink=40]=\"deeppink\",t[t.deepskyblue=41]=\"deepskyblue\",t[t.dimgray=42]=\"dimgray\",t[t.dimgrey=43]=\"dimgrey\",t[t.dodgerblue=44]=\"dodgerblue\",t[t.firebrick=45]=\"firebrick\",t[t.floralwhite=46]=\"floralwhite\",t[t.forestgreen=47]=\"forestgreen\",t[t.fuchsia=48]=\"fuchsia\",t[t.gainsboro=49]=\"gainsboro\",t[t.ghostwhite=50]=\"ghostwhite\",t[t.gold=51]=\"gold\",t[t.goldenrod=52]=\"goldenrod\",t[t.gray=53]=\"gray\",t[t.green=54]=\"green\",t[t.greenyellow=55]=\"greenyellow\",t[t.grey=56]=\"grey\",t[t.honeydew=57]=\"honeydew\",t[t.hotpink=58]=\"hotpink\",t[t.indianred=59]=\"indianred\",t[t.indigo=60]=\"indigo\",t[t.ivory=61]=\"ivory\",t[t.khaki=62]=\"khaki\",t[t.lavender=63]=\"lavender\",t[t.lavenderblush=64]=\"lavenderblush\",t[t.lawngreen=65]=\"lawngreen\",t[t.lemonchiffon=66]=\"lemonchiffon\",t[t.lightblue=67]=\"lightblue\",t[t.lightcoral=68]=\"lightcoral\",t[t.lightcyan=69]=\"lightcyan\",t[t.lightgoldenrodyellow=70]=\"lightgoldenrodyellow\",t[t.lightgray=71]=\"lightgray\",t[t.lightgreen=72]=\"lightgreen\",t[t.lightgrey=73]=\"lightgrey\",t[t.lightpink=74]=\"lightpink\",t[t.lightsalmon=75]=\"lightsalmon\",t[t.lightseagreen=76]=\"lightseagreen\",t[t.lightskyblue=77]=\"lightskyblue\",t[t.lightslategray=78]=\"lightslategray\",t[t.lightslategrey=79]=\"lightslategrey\",t[t.lightsteelblue=80]=\"lightsteelblue\",t[t.lightyellow=81]=\"lightyellow\",t[t.lime=82]=\"lime\",t[t.limegreen=83]=\"limegreen\",t[t.linen=84]=\"linen\",t[t.magenta=85]=\"magenta\",t[t.maroon=86]=\"maroon\",t[t.mediumaquamarine=87]=\"mediumaquamarine\",t[t.mediumblue=88]=\"mediumblue\",t[t.mediumorchid=89]=\"mediumorchid\",t[t.mediumpurple=90]=\"mediumpurple\",t[t.mediumseagreen=91]=\"mediumseagreen\",t[t.mediumslateblue=92]=\"mediumslateblue\",t[t.mediumspringgreen=93]=\"mediumspringgreen\",t[t.mediumturquoise=94]=\"mediumturquoise\",t[t.mediumvioletred=95]=\"mediumvioletred\",t[t.midnightblue=96]=\"midnightblue\",t[t.mintcream=97]=\"mintcream\",t[t.mistyrose=98]=\"mistyrose\",t[t.moccasin=99]=\"moccasin\",t[t.navajowhite=100]=\"navajowhite\",t[t.navy=101]=\"navy\",t[t.oldlace=102]=\"oldlace\",t[t.olive=103]=\"olive\",t[t.olivedrab=104]=\"olivedrab\",t[t.orange=105]=\"orange\",t[t.orangered=106]=\"orangered\",t[t.orchid=107]=\"orchid\",t[t.palegoldenrod=108]=\"palegoldenrod\",t[t.palegreen=109]=\"palegreen\",t[t.paleturquoise=110]=\"paleturquoise\",t[t.palevioletred=111]=\"palevioletred\",t[t.papayawhip=112]=\"papayawhip\",t[t.peachpuff=113]=\"peachpuff\",t[t.peru=114]=\"peru\",t[t.pink=115]=\"pink\",t[t.plum=116]=\"plum\",t[t.powderblue=117]=\"powderblue\",t[t.purple=118]=\"purple\",t[t.red=119]=\"red\",t[t.rosybrown=120]=\"rosybrown\",t[t.royalblue=121]=\"royalblue\",t[t.saddlebrown=122]=\"saddlebrown\",t[t.salmon=123]=\"salmon\",t[t.sandybrown=124]=\"sandybrown\",t[t.seagreen=125]=\"seagreen\",t[t.seashell=126]=\"seashell\",t[t.sienna=127]=\"sienna\",t[t.silver=128]=\"silver\",t[t.skyblue=129]=\"skyblue\",t[t.slateblue=130]=\"slateblue\",t[t.slategray=131]=\"slategray\",t[t.slategrey=132]=\"slategrey\",t[t.snow=133]=\"snow\",t[t.springgreen=134]=\"springgreen\",t[t.steelblue=135]=\"steelblue\",t[t.tan=136]=\"tan\",t[t.teal=137]=\"teal\",t[t.thistle=138]=\"thistle\",t[t.tomato=139]=\"tomato\",t[t.turquoise=140]=\"turquoise\",t[t.violet=141]=\"violet\",t[t.wheat=142]=\"wheat\",t[t.white=143]=\"white\",t[t.whitesmoke=144]=\"whitesmoke\",t[t.yellow=145]=\"yellow\",t[t.yellowgreen=146]=\"yellowgreen\"}(r||(r={}));var c={position:1,display:1,width:1,height:1,minWidth:1,minHeight:1,top:1,left:1,right:1,bottom:1,flex:1,margin:1,marginLeft:1,marginRight:1,marginTop:1,marginBottom:1,padding:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1,borderWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,flexDirection:1,justifyContent:1,alignItems:1,alignSelf:1,flexWrap:1},h={};function f(t,e){if(t){var n=t;Array.isArray(n)||(n=[n]),n.forEach((function(t){h[t]=\"function\"==typeof e?e:o}))}}var d=function(t,e){var n={},r=e.split(/\\s/g).filter((function(t){return\"\"!==t}));return 1!==r.length||isNaN(r[0])||(n[\"\"+t]=Number(r[0])),2===r.length&&(!isNaN(Number(r[0]))&&(n[t+\"Bottom\"]=n[t+\"Top\"]=Number(r[0])),!isNaN(Number(r[1]))&&(n[t+\"Left\"]=n[t+\"Right\"]=Number(r[1]))),3===r.length&&(!isNaN(Number(r[0]))&&(n[t+\"Top\"]=Number(r[0])),!isNaN(Number(r[1]))&&(n[t+\"Left\"]=n[t+\"Right\"]=Number(r[1])),!isNaN(Number(r[2]))&&(n[t+\"Bottom\"]=Number(r[2]))),4===r.length&&(!isNaN(Number(r[0]))&&(n[t+\"Top\"]=Number(r[0])),!isNaN(Number(r[1]))&&(n[t+\"Right\"]=Number(r[1])),!isNaN(Number(r[2]))&&(n[t+\"Bottom\"]=Number(r[2])),!isNaN(Number(r[3]))&&(n[t+\"Left\"]=Number(r[3]))),n},p=[\"solid\",\"dashed\"];function g(t,e){if(h[t])return h[t](e);try{return o(e)}catch(t){return console.error(t),e}}f(\"padding\",d.bind(null,\"padding\")),f(\"margin\",d.bind(null,\"margin\")),f(\"border-radius\",(function(t){var e={},n=t.split(/\\s/g).filter((function(t){return\"\"!==t}));return 1!==n.length||isNaN(n[0])||(e.borderTopLeftRadius=Number(n[0]),e.borderTopRightRadius=Number(n[0]),e.borderBottomRightRadius=Number(n[0]),e.borderBottomLeftRadius=Number(n[0])),2===n.length&&(!isNaN(Number(n[0]))&&(e.borderTopLeftRadius=e.borderBottomRightRadius=Number(n[0])),!isNaN(Number(n[2]))&&(e.borderBottomLeftRadius=e.borderTopRightRadius=Number(n[1]))),3===n.length&&(!isNaN(Number(n[0]))&&(e.borderTopLeftRadius=Number(n[0])),!isNaN(Number(n[1]))&&(e.borderBottomLeftRadius=e.borderTopRightRadius=Number(n[1])),!isNaN(Number(n[2]))&&(e.borderBottomRightRadius=Number(n[2]))),4===n.length&&(!isNaN(Number(n[0]))&&(e.borderTopLeftRadius=Number(n[0])),!isNaN(Number(n[1]))&&(e.borderTopRightRadius=Number(n[1])),!isNaN(Number(n[2]))&&(e.borderBottomRightRadius=Number(n[2])),!isNaN(Number(n[3]))&&(e.borderBottomLeftRadius=Number(n[3]))),e})),f(\"border\",(function(t){for(var e={},n=0,r=t.split(/\\s/g).filter((function(t){return\"\"!==t}));n<r.length;n++){var i=r[n];isNaN(Number(i))?a(i)?e.borderColor=i:p.includes(i)&&(e.borderStyle=i):e.borderWidth=Number(i)}return e})),f(\"background\",(function(t){for(var e={},n=0,r=t.split(/\\s/g).filter((function(t){return\"\"!==t}));n<r.length;n++)if(a(t=r[n]))e.backgroundColor=t;else if(null==t?void 0:t.startsWith(\"url\")){var i=t.match(/url\\((.+?)\\)/);i&&(e.backgroundImage=i[1])}return e})),f([\"box-shadow\",\"text-shadow\"],(function(t){for(var e={},n=t.split(/\\s/g).filter((function(t){return\"\"!==t})),r=[\"shadowOffsetX\",\"shadowOffsetY\",\"shadowBlur\",\"shadowColor\"];n.length;){var i=n.shift();if(isNaN(Number(i)))a(i)&&(e.shadowColor=i);else e[r.shift()]=Number(i)}return e}));var y=function(){this.type=\"\",this.tagName=\"\",this.attrs={},this.children=[],this.text=\"\"},v=function(){function t(t){this.input=\"\",this.index=0,this.input=t}return t.prototype.stepNext=function(){this.index++},t.prototype.cur=function(){return this.input[this.index]},t.prototype.twoChar=function(){return this.input[this.index]+this.input[this.index+1]},t.prototype.stepWhile=function(t){for(var e=\"\";this.index<this.input.length&&t&&t(this.input[this.index]);)e+=this.input[this.index++];return e},t.prototype.skipWhiteSpace=function(){this.stepWhile((function(t){return/\\s/.test(t)}))},t.prototype.getText=function(){return this.stepWhile((function(t){return/[a-zA-Z0-9_]/.test(t)}))},t.prototype.eof=function(){return this.index>=this.input.length},t}(),m=function(){function t(t){this.helper=new v(t)}return t.prototype.parse=function(){return this.parseNodes()},t.prototype.parseNodes=function(){for(var t=[];t.push(this.parseNode()),this.helper.skipWhiteSpace(),!this.helper.eof()&&\"</\"!==this.helper.twoChar(););return t},t.prototype.parseNode=function(){return this.helper.skipWhiteSpace(),\"<\"===this.helper.cur()?this.parseElement():this.parseTextNode()},t.prototype.parseElement=function(){var t,e=new y;e.type=\"element\",this.helper.stepNext();var n=this.helper.getText();if(e.tagName=n,e.attrs=this.parseAttributes(),\"/>\"===this.helper.twoChar())return this.helper.stepNext(),this.helper.stepNext(),e;if(\">\"!==this.helper.cur())throw new Error(\"\");if(this.helper.stepNext(),this.helper.skipWhiteSpace(),\"</\"!==this.helper.twoChar()&&((t=e.children).push.apply(t,this.parseNodes()),this.helper.skipWhiteSpace()),\"</\"!==this.helper.twoChar())throw new Error(\"\");if(this.helper.stepNext(),this.helper.stepNext(),this.helper.getText()!==n)throw new Error(\"\");if(\">\"!==this.helper.cur())throw new Error(\"\");return this.helper.stepNext(),e},t.prototype.parseTextNode=function(){var t=new y,e=this.helper.stepWhile((function(t){return/[^<]/.test(t)}));return t.type=\"text\",t.tagName=\"text\",t.text=e,t},t.prototype.parseAttributes=function(){var t={};for(this.helper.skipWhiteSpace();!this.helper.eof()&&\">\"!==this.helper.cur()&&\"/>\"!==this.helper.twoChar();){var e=this.helper.stepWhile((function(t){return/[^\\s=]/.test(t)}));this.helper.skipWhiteSpace(),this.helper.stepNext(),this.helper.skipWhiteSpace();var n=\"\";'\"'===this.helper.cur()?(this.helper.stepNext(),n=this.helper.stepWhile((function(t){return/[^\"]/.test(t)})),this.helper.stepNext()):\"'\"===this.helper.cur()?(this.helper.stepNext(),n=this.helper.stepWhile((function(t){return/[^']/.test(t)})),this.helper.stepNext()):n=this.helper.stepWhile((function(t){return/[^\\s</>/]/.test(t)})),t[e]=g(e,n),this.helper.skipWhiteSpace()}return t},t.prototype.removeQuote=function(t){var e=t;return/^[\"']/.test(e[0])&&(e=e.slice(1)),/[\"']$/.test(e[e.length-1])&&(e=e.slice(0,-1)),e},t}();var b=/\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;function w(t){return t?t.replace(/^\\s+|\\s+$/g,\"\"):\"\"}var x=function(t,e){e=e||{};var n=1,r=1;function i(t){var e=t.match(/\\n/g);e&&(n+=e.length);var i=t.lastIndexOf(\"\\n\");r=~i?t.length-i:r+t.length}function o(){var t={line:n,column:r};return function(e){return e.position=new a(t),d(),e}}function a(t){this.start=t,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;var u=[];function s(i){var o=new Error(e.source+\":\"+n+\":\"+r+\": \"+i);if(o.reason=i,o.filename=e.source,o.line=n,o.column=r,o.source=t,!e.silent)throw o;u.push(o)}function l(){return f(/^{\\s*/)}function c(){return f(/^}/)}function h(){var e,n=[];for(d(),p(n);t.length&&\"}\"!=t.charAt(0)&&(e=C()||j());)!1!==e&&(n.push(e),p(n));return n}function f(e){var n=e.exec(t);if(n){var r=n[0];return i(r),t=t.slice(r.length),n}}function d(){f(/^\\s*/)}function p(t){var e;for(t=t||[];e=g();)!1!==e&&t.push(e);return t}function g(){var e=o();if(\"/\"==t.charAt(0)&&\"*\"==t.charAt(1)){for(var n=2;\"\"!=t.charAt(n)&&(\"*\"!=t.charAt(n)||\"/\"!=t.charAt(n+1));)++n;if(n+=2,\"\"===t.charAt(n-1))return s(\"End of comment missing\");var a=t.slice(2,n-2);return r+=2,i(a),t=t.slice(n),r+=2,e({type:\"comment\",comment:a})}}function y(){var t=f(/^([^{]+)/);if(t)return w(t[0]).replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g,\"\").replace(/\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g,(function(t){return t.replace(/,/g,\"\")})).split(/\\s*(?![^(]*\\)),\\s*/).map((function(t){return t.replace(/\\u200C/g,\",\")}))}function v(){var t=o(),e=f(/^(\\*?[-#\\/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/);if(e){if(e=w(e[0]),!f(/^:\\s*/))return s(\"property missing ':'\");var n=f(/^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/),r=t({type:\"declaration\",property:e.replace(b,\"\"),value:n?w(n[0]).replace(b,\"\"):\"\"});return f(/^[;\\s]*/),r}}function m(){var t,e=[];if(!l())return s(\"missing '{'\");for(p(e);t=v();)!1!==t&&(e.push(t),p(e));return c()?e:s(\"missing '}'\")}function x(){for(var t,e=[],n=o();t=f(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/);)e.push(t[1]),f(/^,\\s*/);if(e.length)return n({type:\"keyframe\",values:e,declarations:m()})}var M,N=O(\"import\"),k=O(\"charset\"),S=O(\"namespace\");function O(t){var e=new RegExp(\"^@\"+t+\"\\\\s*([^;]+);\");return function(){var n=o(),r=f(e);if(r){var i={type:t};return i[t]=r[1].trim(),n(i)}}}function C(){if(\"@\"==t[0])return function(){var t=o();if(e=f(/^@([-\\w]+)?keyframes\\s*/)){var e,n=e[1];if(!(e=f(/^([-\\w]+)\\s*/)))return s(\"@keyframes missing name\");var r,i=e[1];if(!l())return s(\"@keyframes missing '{'\");for(var a=p();r=x();)a.push(r),a=a.concat(p());return c()?t({type:\"keyframes\",name:i,vendor:n,keyframes:a}):s(\"@keyframes missing '}'\")}}()||function(){var t=o(),e=f(/^@media *([^{]+)/);if(e){var n=w(e[1]);if(!l())return s(\"@media missing '{'\");var r=p().concat(h());return c()?t({type:\"media\",media:n,rules:r}):s(\"@media missing '}'\")}}()||function(){var t=o(),e=f(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);if(e)return t({type:\"custom-media\",name:w(e[1]),media:w(e[2])})}()||function(){var t=o(),e=f(/^@supports *([^{]+)/);if(e){var n=w(e[1]);if(!l())return s(\"@supports missing '{'\");var r=p().concat(h());return c()?t({type:\"supports\",supports:n,rules:r}):s(\"@supports missing '}'\")}}()||N()||k()||S()||function(){var t=o(),e=f(/^@([-\\w]+)?document *([^{]+)/);if(e){var n=w(e[1]),r=w(e[2]);if(!l())return s(\"@document missing '{'\");var i=p().concat(h());return c()?t({type:\"document\",document:r,vendor:n,rules:i}):s(\"@document missing '}'\")}}()||function(){var t=o();if(f(/^@page */)){var e=y()||[];if(!l())return s(\"@page missing '{'\");for(var n,r=p();n=v();)r.push(n),r=r.concat(p());return c()?t({type:\"page\",selectors:e,declarations:r}):s(\"@page missing '}'\")}}()||function(){var t=o();if(f(/^@host\\s*/)){if(!l())return s(\"@host missing '{'\");var e=p().concat(h());return c()?t({type:\"host\",rules:e}):s(\"@host missing '}'\")}}()||function(){var t=o();if(f(/^@font-face\\s*/)){if(!l())return s(\"@font-face missing '{'\");for(var e,n=p();e=v();)n.push(e),n=n.concat(p());return c()?t({type:\"font-face\",declarations:n}):s(\"@font-face missing '}'\")}}()}function j(){var t=o(),e=y();return e?(p(),t({type:\"rule\",selectors:e,declarations:m()})):s(\"selector missing\")}return function t(e,n){var r=e&&\"string\"==typeof e.type,i=r?e:n;for(var o in e){var a=e[o];Array.isArray(a)?a.forEach((function(e){t(e,i)})):a&&\"object\"==typeof a&&t(a,i)}r&&Object.defineProperty(e,\"parent\",{configurable:!0,writable:!0,enumerable:!1,value:n||null});return e}((M=h(),{type:\"stylesheet\",stylesheet:{source:e.source,rules:M,parsingErrors:u}}))},M=n(19),N=n.n(M);var k=function(){this.dom=null,this.style=null,this.children=[],this.originChildren=[]},S={\"font-family\":\"serif\"},O=[\"font\",\"fontFamily\",\"fontWeight\",\"fontSize\",\"fontVariant\",\"fontStretch\",\"textIndent\",\"textAlign\",\"textShadow\",\"lineHeight\",\"color\",\"direction\",\"wordSpacing\",\"letterSpacing\",\"textTransform\",\"captionSide\",\"borderCollapse\",\"emptyCells\",\"listStyleType\",\"listStyleImage\",\"listStylePosition\",\"listStyle\",\"visibility\",\"cursor\"],C=function(){function t(t,e){this.domTree=null,this.cssTree=null,this.rulesHash={ids:{},classes:{},tagNames:{}},this.domTree=t,this.cssTree=e}return t.prototype.parse=function(){return this.parseRulesHash(this.cssTree),this.genStyleTree(this.domTree)},t.prototype.parseRulesHash=function(t){for(var e=this.rulesHash,n=0,r=t.stylesheet.rules;n<r.length;n++){var o=r[n];if(\"rule\"===o.type)for(var a=0,u=o.selectors;a<u.length;a++){var s=u[a],l=this.genKeySelector(s);switch(l[0]){case\"#\":var c=l.slice(1);e.ids[c]=Object(i.c)(e.ids[c]||[],[{selector:s,specificity:this.genSpecificity(s),style:this.genStyleFromRule(o)}]);break;case\".\":var h=l.slice(1);e.classes[h]=Object(i.c)(e.classes[h]||[],[{selector:s,specificity:this.genSpecificity(s),style:this.genStyleFromRule(o)}]);break;default:e.tagNames[l]=Object(i.c)(e.tagNames[l]||[],[{selector:s,specificity:this.genSpecificity(s),style:this.genStyleFromRule(o)}])}}}},t.prototype.genStyleTree=function(t){for(var e=new k,n=[[t,[],e]];n.length;){var r=n.pop(),o=r[0],a=r[1],u=r[2],s=r[3];u.dom=o,u.style=this.computeCSS(o,a,null==s?void 0:s.style);for(var l=0,c=o.children;l<c.length;l++){var h=c[l],f=new k;u.originChildren.push(f),n.push([h,Object(i.c)(a,[o]),f,u])}}return e},t.prototype.genSpecificity=function(t){var e,n,r=(null===(e=t.match(/#\\w+/g))||void 0===e?void 0:e.length)||0,i=(null===(n=t.match(/\\.\\w+/g))||void 0===n?void 0:n.length)||0;return 100*r+10*i+(t.split(/\\s+|#|\\./).filter((function(t){return\"\"!==t})).length-r-i)},t.prototype.genKeySelector=function(t){var e=s(t,/\\s/).pop(),n=e.match(/(#[^\\.#]+)/);return(null==n?void 0:n.length)>0||(null==(n=e.match(/\\.[^\\.#]+/))?void 0:n.length)>0?n[0]:e},t.prototype.genStyleFromRule=function(t){return this.genStyleFromDeclaration(t.declarations)},t.prototype.genStyleFromDeclaration=function(t){var e={};return t.forEach((function(t){var n=t.value;e[t.property]=n})),e},t.prototype.computeCSS=function(t,e,n){var r=this,o=[];u(t,(function(t,e){switch(t){case\"id\":o.push.apply(o,r.rulesHash.ids[e]||[]);break;case\"class\":o.push.apply(o,r.rulesHash.classes[e]||[]);break;case\"tagName\":o.push.apply(o,r.rulesHash.tagNames[e]||[])}}));var a=o.filter((function(t){for(var n=s(t.selector,/\\s+/g),r=n.length-2,i=e.length-1,o=!0;r>-1;r--){for(var a=!1;i>-1;i--){if(l(e[i],n[r])){a=!0;break}}if(!a){o=!1;break}}return o}));a.sort((function(t,e){return t.specificity-e.specificity}));for(var c=a.reduce((function(t,e){return Object.assign(t,e.style)}),Object(i.a)({},S)),h={},f=0,d=Object.entries(c);f<d.length;f++){var p=d[f],y=p[0],v=p[1],m=y.split(\"-\").map((function(t,e){return e>0?\"\"+t[0].toUpperCase()+t.slice(1):t})).join(\"\"),b=g(y,v);\"object\"==typeof b?h=Object(i.a)(Object(i.a)({},h),b):h[m]=b}if(n){for(var w=0,x=Object.entries(h);w<x.length;w++){var M=x[w];y=M[0];\"inherit\"===(v=M[1])&&O.includes(y)&&(delete h[y],void 0!==n[y]&&(h[y]=n[y]))}for(var N=0,k=Object.entries(n);N<k.length;N++){var C=k[N];y=C[0],v=C[1];O.includes(y)&&!h[y]&&(h[y]=v)}}return h},t}(),j={};function _(t,e){j[t]=e}function E(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=j[t];if(!r)throw new Error(\"\"+t+\"\");var o=new(r.bind.apply(r,Object(i.c)([void 0],e)));return o}var A=function(){function t(t){var e=this;this.styleNode=null,this.gNode=null,this.parent=null,this.children=[],this.isMounted=!1,this.isDisplay=!0,this._parentGNode=null,this._prevAttrs=null,this._prevStyle=null,this._prevLayout=null,this.events={},this.trigger=function(t){for(var n,r,i=t.target;i&&!i.get(\"uiNode\");)i=i.get(\"parent\");t.targetGNode=i||null,t.uiNode=null!==(n=null==i?void 0:i.get(\"uiNode\"))&&void 0!==n?n:null,null===(r=e.events[t.type])||void 0===r||r.forEach((function(n){return n(t,e)}))},this.styleNode=t}return Object.defineProperty(t.prototype,\"top\",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.layout)||void 0===e?void 0:e.top},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"left\",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.layout)||void 0===e?void 0:e.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"width\",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.layout)||void 0===e?void 0:e.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"height\",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.layout)||void 0===e?void 0:e.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"tagName\",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.dom)||void 0===e?void 0:e.tagName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"style\",{get:function(){var t;return null===(t=this.styleNode)||void 0===t?void 0:t.style},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"attributes\",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.dom)||void 0===e?void 0:e.attrs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"_layout\",{get:function(){var t;return null===(t=this.styleNode)||void 0===t?void 0:t._layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"parentGNode\",{get:function(){var t;return(null===(t=this.parent)||void 0===t?void 0:t.gNode)||this._parentGNode},set:function(t){this._parentGNode=t},enumerable:!1,configurable:!0}),t.prototype.setParent=function(t){this.parent=t},t.prototype.appendChild=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){e.setParent(t),t.children.push(e),e.styleNode&&t.styleNode&&!t.styleNode.originChildren.includes(e.styleNode)&&t.styleNode.originChildren.push(e.styleNode)})),this.reflow()},t.prototype.removeChild=function(t){t&&t.remove()},t.prototype.remove=function(){var t,e,n=this.parent;null===(t=this.gNode)||void 0===t||t.remove(),n&&(n.children.splice(1,n.children.indexOf(this)),null===(e=n.styleNode)||void 0===e||e.children.splice(1,n.children.indexOf(this.styleNode)),this.isMounted&&n.reflow()),this.isMounted&&this.unmount()},t.prototype.query=function(t){if(\"string\"==typeof t)for(var e=[[this,t.split(/\\s+/g).filter((function(t){return\"\"!==t}))]];e.length;)for(var n=e.shift(),r=n[0],i=n[1],o=0,a=r.children;o<a.length;o++){var u=a[o],s=[];if(u.styleNode&&l(u.styleNode.dom,i[0])){if(0===i.slice(1).length)return u;s=i.slice(1)}else s=i;e.push([u,s])}},t.prototype.queryAll=function(t){if(\"string\"==typeof t){for(var e=[],n=[[this,t.split(/\\s+/g).filter((function(t){return\"\"!==t})),e]];n.length;)for(var r=n.shift(),i=r[0],o=r[1],a=r[2],u=0,s=i.children;u<s.length;u++){var c=s[u],h=[];c.styleNode&&l(c.styleNode.dom,o[0])?0===o.slice(1).length?(a.push(c),h=[o[0]]):h=o.slice(1):h=o,n.push([c,h,a])}return e}},t.prototype.manualMount=function(t){this.parentGNode=t,this.layout(),this.mount()},t.prototype.reflow=function(){var t;this.parentGNode&&(\"absolute\"!==(null===(t=this.style)||void 0===t?void 0:t.position)&&this.parent?this.parent.reflow():(this.layout(),this.render()))},t.prototype.layout=function(){this._prevLayout=Object(i.a)({},this._layout||{}),this.clearLayout(),function(t){for(var e=[t];e.length;){var n=e.pop();n.children=n.originChildren.filter((function(t){return\"none\"!==t.style.display&&(e.push(t),!0)}))}N()(t)}(this.styleNode)},t.prototype.mount=function(){var t;this.isMounted||(\"none\"!==(null===(t=this.style)||void 0===t?void 0:t.display)?(this._prevAttrs=this.attributes,this._prevStyle=this.style,this.draw(this.parentGNode),this.isMounted=!0,this.gNode.set(\"uiNode\",this),this.gNode.on(\"*\",this.trigger),this.children.forEach((function(t){return t.mount()})),this.didMount()):this.isDisplay=!1)},t.prototype.didMount=function(){},t.prototype.unmount=function(){this.isMounted&&(this.isMounted=!1,this.children.forEach((function(t){return t.unmount()})),this.didUnmount())},t.prototype.didUnmount=function(){},t.prototype.render=function(){var t,e,n;if(this.isMounted){if(\"none\"===(null===(t=this.style)||void 0===t?void 0:t.display))return this.isDisplay=!1,null===(e=this.gNode)||void 0===e||e.remove(!1),!1;!1===this.isDisplay&&(this.isDisplay=!0,null===(n=this.parentGNode)||void 0===n||n.add(this.gNode));var r=this.shouldUpdate(this._prevAttrs,this._prevStyle,this._prevLayout);r&&this.draw(),this.children.forEach((function(t){return t.render()})),r&&this.didUpdate()}else this.mount()},t.prototype.didUpdate=function(){},t.prototype.shouldUpdate=function(t,e,n){return!0},t.prototype.draw=function(t){},t.prototype.animate=function(){},t.prototype.clearLayout=function(){this.styleNode.isDirty=!0,this.children.forEach((function(t){t.clearLayout()}))},t.prototype.setAttribute=function(t,e){var n;if(this.styleNode&&this.styleNode.dom){if(this._prevAttrs=Object(i.a)({},this.styleNode.dom.attrs),this.styleNode.dom.attrs[t]=e,!(null===(n=this.parent)||void 0===n?void 0:n.isMounted))return;this.render()}},t.prototype.setStyle=function(t,e){if(this.styleNode&&this.styleNode.style){if(this._prevStyle=Object(i.a)({},this.styleNode.dom.style),this.styleNode.style[t]=e,this.parent&&!this.parent.isMounted)return;c[t]?this.reflow():this.render()}},t.prototype.getAttribute=function(t){var e,n;return null===(n=null===(e=this.styleNode)||void 0===e?void 0:e.dom)||void 0===n?void 0:n.attrs[t]},t.prototype.getStyle=function(t){var e,n,r;return null!==(n=null===(e=this.styleNode)||void 0===e?void 0:e.layout[t])&&void 0!==n?n:null===(r=this.styleNode)||void 0===r?void 0:r.style[t]},t.prototype.setText=function(t){var e=this.query(\"text\");e&&e.styleNode&&e.styleNode.dom&&(e.styleNode.dom.text=t,e.render())},t.prototype.on=function(t,e){this.events[t]=Object(i.c)(this.events[t]||[],[e])},t.prototype.off=function(t,e){if(e){var n=this.events[t],r=null==n?void 0:n.indexOf(e);r&&-1!==r&&(null==n||n.splice(r,1))}else delete this.events[t]},t}(),T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroudNode=null,e}return Object(i.b)(e,t),e.prototype.draw=function(t){var e,n;this.gNode||(this.gNode=t.addGroup({id:null===(e=this.attributes)||void 0===e?void 0:e.id,className:this.styleNode.dom.attrs.class}));var r=this.gNode,i=this.styleNode;r.resetMatrix(),null===(n=this.backgroudNode)||void 0===n||n.remove();var o=this.backgroudNode=r.addGroup();r.translate(this.left,this.top);var a=i.style;\"number\"==typeof a.zIndex&&r.setZIndex(a.zIndex),o.addShape(\"rect\",{attrs:{x:0,y:0,fill:a.backgroundColor||\"#fff\",fillOpacity:a.backgroundOpacity,opacity:a.opacity,width:this.width,height:this.height,radius:[a.borderTopLeftRadius||0,a.borderTopRightRadius||0,a.borderBottomLeftRadius||0,a.borderBottomLeftRadius||0],shadowBlur:a.shadowBlur||0,shadowColor:a.shadowColor||null,shadowOffsetX:a.shadowOffsetX||0,shadowOffsetY:a.shadowOffsetY||0},capture:\"none\"!==a.pointerEvents}),a.backgroundImage&&o.addShape(\"image\",{attrs:{x:0,y:0,img:a.url,width:this.width,height:this.height},capture:!1});var u={attrs:{x:(a.borderWidth||0)/2,y:(a.borderWidth||0)/2,lineWidth:a.borderWidth,stroke:a.borderColor,width:this.width-(a.borderWidth||0),height:this.height-(a.borderWidth||0),radius:[(a.borderTopLeftRadius||0)*((this.width-(a.borderWidth||0))/this.width),(a.borderTopRightRadius||0)*((this.width-(a.borderWidth||0))/this.width),(a.borderBottomLeftRadius||0)*((this.width-(a.borderWidth||0))/this.width),(a.borderBottomLeftRadius||0)*((this.width-(a.borderWidth||0))/this.width)]},capture:!1};\"dashed\"===a.borderStyle&&(u.attrs.lineDash=a.lineDash||[2,2]),o.addShape(\"rect\",u),\"hidden\"===a.overflow&&r.setClip({type:\"rect\",attrs:{width:this.width,height:this.height,radius:[a.borderTopLeftRadius||0,a.borderTopRightRadius||0,a.borderBottomLeftRadius||0,a.borderBottomLeftRadius||0]}}),o.toBack()},e}(A),B=n(20),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.b)(e,t),e.prototype.getAttrs=function(){var t=this.styleNode.style;return{x:this.styleNode.layout.left,y:this.styleNode.layout.top,textAlign:t.textAlign,fill:t.color,fontSize:t.fontSize||12,fontStyle:t.fontStyle,fontFamily:t.fontFamily,lineHeight:t.lineHeight||0,fontVariant:t.fontVariant,fontWeight:t.fontWeight,textBaseline:\"top\",opacity:t.opacity,fillOpacity:t.backgroundOpacity}},e.prototype.draw=function(t){var e=this.getAttrs();this.gNode||(this.gNode=t.addShape(\"text\",{type:\"text\",attrs:e,capture:!1})),this.update()},e.prototype.getMultiLineText=function(t,e,n){var r,i=null===(r=this.parent.gNode.get(\"canvas\"))||void 0===r?void 0:r.get(\"context\");if(!i)return t;i.save();var o=Object(B.assembleFont)(e);if(i.font=o,i.measureText(t).width<n)return t;for(var a=\"\",u=0,s=0,l=t;s<l.length;s++){var c=l[s],h=i.measureText(c).width;(u+=h)>=n?(u=h,a+=\"\\n\"+c):a+=c}return i.restore(),a},e.prototype.update=function(){var t=this.styleNode.style,e=this.getAttrs(),n=this.gNode;switch(n.attr(e),n.resetMatrix(),t.textAlign){case\"center\":n.translate(this.styleNode.layout.width/2);break;case\"right\":n.translate(this.styleNode.layout.width)}\"nowrap\"===t.whiteSpace?n.attr(\"text\",String(this.styleNode.dom.text)):n.attr(\"text\",this.getMultiLineText(String(this.styleNode.dom.text),e,this.styleNode.layout.width))},e}(A),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.b)(e,t),e.prototype.getAttrs=function(){var t=this.styleNode,e=t.style,n=t.layout,r=t.dom;return Object(i.a)({fill:e.backgroundColor,lineWidth:e.borderWidth,fillOpacity:e.backgroundOpacity,stroke:e.borderColor,width:n.width-(e.borderWidth||0),height:n.height-(e.borderWidth||0)},r.attrs)},e.prototype.draw=function(t){var e=this.styleNode,n=this.getAttrs(),r=e.dom;this.gNode||(this.gNode=t.addShape(r.attrs.type,{attrs:n})),this.update()},e.prototype.update=function(){var t,e=this.getAttrs(),n=this.gNode,r=\"none\"!==this.styleNode.style.pointerEvents;n.attr(e),n.set(\"capture\",r),n.resetMatrix(),n.translate(this.left,this.top),\"number\"==typeof(null===(t=this.style)||void 0===t?void 0:t.zIndex)&&n.setZIndex(this.style.zIndex)},e}(A),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.b)(e,t),e.prototype.draw=function(t){var e={x:this.styleNode.layout.left,y:this.styleNode.layout.top,img:this.styleNode.dom.attrs.src,width:this.styleNode.layout.width||0,height:this.styleNode.layout.height||0},n=\"none\"!==this.styleNode.style.pointerEvents;this.gNode||(this.gNode=t.addShape(\"image\",{type:\"image\",attrs:e,capture:n}));var r=this.gNode;switch(r.resetMatrix(),r.set(\"capture\",n),r.attr(e),\"number\"==typeof this.styleNode.style.zIndex&&r.setZIndex(this.styleNode.style.zIndex),this.styleNode.style.textAlign){case\"center\":r.translate(this.styleNode.layout.width/2);break;case\"right\":r.translate(this.styleNode.layout.width)}},e}(A),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.b)(e,t),e}(T);function R(t,e,n){var r=q(t,e,!0);return r.manualMount(n),r}function D(t,e,n){var r=q(t,e,!1);return n&&r.manualMount(n),r}function q(t,e,n){void 0===n&&(n=!1);for(var r=function(t,e){return new C(t,e).parse()}(function(t,e){var n;void 0===e&&(e=!0);var r=new m(t).parse(),i=r[0];return\"root\"!==(null===(n=r[0])||void 0===n?void 0:n.tagName)&&e&&((i=new y).tagName=\"root\",i.children=r),i}(t,n),x(e)),i=E(r.dom.tagName,r),o=[[r,i]];o.length;)for(var a=o.pop(),u=a[0],s=a[1],l=0,c=u.originChildren;l<c.length;l++){var h=c[l],f=E(h.dom.tagName,h);s.children.push(f),f.setParent(s),o.push([h,f])}return i}_(\"div\",T),_(\"text\",P),_(\"shape\",W),_(\"image\",I),_(\"root\",L);var X={UIBaseNode:A,createUI:R,registerUINode:_,registerAttr:f,createSegmentNode:D};e.default=X}]).default}));\n//# sourceMappingURL=f6UI.js.map","/**\n * @fileoverview  gl-matrix,  g-mobile  g-webgl  matrix \n *  2D  gl-matrix\n * @author dxq613@gmail.com\n */\n/**\n * 3\n * @param {number[]} a 1\n * @param {number[]} b 2\n */\nexport function multiplyMatrix(a, b) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b00 = b[0];\n    var b01 = b[1];\n    var b02 = b[2];\n    var b10 = b[3];\n    var b11 = b[4];\n    var b12 = b[5];\n    var b20 = b[6];\n    var b21 = b[7];\n    var b22 = b[8];\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\n/**\n * 32\n * @param {number[]} m \n * @param {number[]} v \n */\nexport function multiplyVec2(m, v) {\n    var out = [];\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\n/**\n * \n * @param {number[]} a \n */\nexport function invert(a) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b01 = a22 * a11 - a12 * a21;\n    var b11 = -a22 * a10 + a12 * a20;\n    var b21 = a21 * a10 - a11 * a20;\n    // Calculate the determinant\n    var det = a00 * b01 + a01 * b11 + a02 * b21;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\n//# sourceMappingURL=matrix.js.map","import { each, isArray } from '@antv/util';\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp(\"([a-z])[\" + SPACES + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + SPACES + \"]*,?[\" + SPACES + \"]*)+)\", 'ig');\nvar PATH_VALUES = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + SPACES + \"]*,?[\" + SPACES + \"]*\", 'ig');\n// Parse given path string into an array of arrays of path segments\nvar parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (isArray(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return pathString;\n    });\n    return data;\n};\n// http://schepers.cc/getting-to-the-point\nvar catmullRomToBezier = function (crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [\n            {\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            },\n            {\n                x: +crp[i],\n                y: +crp[i + 1],\n            },\n            {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            },\n            {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            },\n        ];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push([\n            'C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n};\nvar ellipsePath = function (x, y, rx, ry, a) {\n    var res = [];\n    if (a === null && ry === null) {\n        ry = rx;\n    }\n    x = +x;\n    y = +y;\n    rx = +rx;\n    ry = +ry;\n    if (a !== null) {\n        var rad = Math.PI / 180;\n        var x1 = x + rx * Math.cos(-ry * rad);\n        var x2 = x + rx * Math.cos(-a * rad);\n        var y1 = y + rx * Math.sin(-ry * rad);\n        var y2 = y + rx * Math.sin(-a * rad);\n        res = [\n            ['M', x1, y1],\n            ['A', rx, rx, 0, +(a - ry > 180), 0, x2, y2],\n        ];\n    }\n    else {\n        res = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    }\n    return res;\n};\nvar pathToAbsolute = function (pathArray) {\n    pathArray = parsePathString(pathArray);\n    if (!pathArray || !pathArray.length) {\n        return [['M', 0, 0]];\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    if (pathArray[0][0] === 'M') {\n        x = +pathArray[0][1];\n        y = +pathArray[0][2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    var crz = pathArray.length === 3 &&\n        pathArray[0][0] === 'M' &&\n        pathArray[1][0].toUpperCase() === 'R' &&\n        pathArray[2][0].toUpperCase() === 'Z';\n    for (var r = void 0, pa = void 0, i = start, ii = pathArray.length; i < ii; i++) {\n        res.push((r = []));\n        pa = pathArray[i];\n        pa0 = pa[0];\n        if (pa0 !== pa0.toUpperCase()) {\n            r[0] = pa0.toUpperCase();\n            switch (r[0]) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'R':\n                    dots = [x, y].concat(pa.slice(1));\n                    for (var j = 2, jj = dots.length; j < jj; j++) {\n                        dots[j] = +dots[j] + x;\n                        dots[++j] = +dots[j] + y;\n                    }\n                    res.pop();\n                    res = res.concat(catmullRomToBezier(dots, crz));\n                    break;\n                case 'O':\n                    res.pop();\n                    dots = ellipsePath(x, y, pa[1], pa[2]);\n                    dots.push(dots[0]);\n                    res = res.concat(dots);\n                    break;\n                case 'U':\n                    res.pop();\n                    res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                    r = ['U'].concat(res[res.length - 1].slice(-2));\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + (j % 2 ? x : y);\n                    }\n            }\n        }\n        else if (pa0 === 'R') {\n            dots = [x, y].concat(pa.slice(1));\n            res.pop();\n            res = res.concat(catmullRomToBezier(dots, crz));\n            r = ['R'].concat(pa.slice(-2));\n        }\n        else if (pa0 === 'O') {\n            res.pop();\n            dots = ellipsePath(x, y, pa[1], pa[2]);\n            dots.push(dots[0]);\n            res = res.concat(dots);\n        }\n        else if (pa0 === 'U') {\n            res.pop();\n            res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n            r = ['U'].concat(res[res.length - 1].slice(-2));\n        }\n        else {\n            for (var k = 0, kk = pa.length; k < kk; k++) {\n                r[k] = pa[k];\n            }\n        }\n        pa0 = pa0.toUpperCase();\n        if (pa0 !== 'O') {\n            switch (r[0]) {\n                case 'Z':\n                    x = +mx;\n                    y = +my;\n                    break;\n                case 'H':\n                    x = r[1];\n                    break;\n                case 'V':\n                    y = r[1];\n                    break;\n                case 'M':\n                    mx = r[r.length - 2];\n                    my = r[r.length - 1];\n                    break; // for lint\n                default:\n                    x = r[r.length - 2];\n                    y = r[r.length - 1];\n            }\n        }\n    }\n    return res;\n};\nvar l2c = function (x1, y1, x2, y2) {\n    return [x1, y1, x2, y2, x2, y2];\n};\nvar q2c = function (x1, y1, ax, ay, x2, y2) {\n    var _13 = 1 / 3;\n    var _23 = 2 / 3;\n    return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\nvar a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n    // for more information of where this math came from visit:\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    if (rx === ry) {\n        rx += 1;\n    }\n    var _120 = (Math.PI * 120) / 180;\n    var rad = (Math.PI / 180) * (+angle || 0);\n    var res = [];\n    var xy;\n    var f1;\n    var f2;\n    var cx;\n    var cy;\n    var rotate = function (x, y, rad) {\n        var X = x * Math.cos(rad) - y * Math.sin(rad);\n        var Y = x * Math.sin(rad) + y * Math.cos(rad);\n        return {\n            x: X,\n            y: Y,\n        };\n    };\n    if (!recursive) {\n        xy = rotate(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotate(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        if (x1 === x2 && y1 === y2) {\n            // \n            x2 += 1;\n            y2 += 1;\n        }\n        // const cos = Math.cos(Math.PI / 180 * angle);\n        // const sin = Math.sin(Math.PI / 180 * angle);\n        var x = (x1 - x2) / 2;\n        var y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            rx = h * rx;\n            ry = h * ry;\n        }\n        var rx2 = rx * rx;\n        var ry2 = ry * ry;\n        var k = (large_arc_flag === sweep_flag ? -1 : 1) *\n            Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n        cx = (k * rx * y) / ry + (x1 + x2) / 2;\n        cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n        // @ts-ignore\n        f1 = Math.asin(((y1 - cy) / ry).toFixed(9));\n        // @ts-ignore\n        f2 = Math.asin(((y2 - cy) / ry).toFixed(9));\n        f1 = x1 < cx ? Math.PI - f1 : f1;\n        f2 = x2 < cx ? Math.PI - f2 : f2;\n        f1 < 0 && (f1 = Math.PI * 2 + f1);\n        f2 < 0 && (f2 = Math.PI * 2 + f2);\n        if (sweep_flag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweep_flag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    else {\n        f1 = recursive[0];\n        f2 = recursive[1];\n        cx = recursive[2];\n        cy = recursive[3];\n    }\n    var df = f2 - f1;\n    if (Math.abs(df) > _120) {\n        var f2old = f2;\n        var x2old = x2;\n        var y2old = y2;\n        f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * Math.cos(f2);\n        y2 = cy + ry * Math.sin(f2);\n        res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    var c1 = Math.cos(f1);\n    var s1 = Math.sin(f1);\n    var c2 = Math.cos(f2);\n    var s2 = Math.sin(f2);\n    var t = Math.tan(df / 4);\n    var hx = (4 / 3) * rx * t;\n    var hy = (4 / 3) * ry * t;\n    var m1 = [x1, y1];\n    var m2 = [x1 + hx * s1, y1 - hy * c1];\n    var m3 = [x2 + hx * s2, y2 - hy * c2];\n    var m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(res);\n    }\n    res = [m2, m3, m4].concat(res).join().split(',');\n    var newres = [];\n    for (var i = 0, ii = res.length; i < ii; i++) {\n        newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n    return newres;\n};\nvar pathToCurve = function (path, path2) {\n    var p = pathToAbsolute(path);\n    var p2 = path2 && pathToAbsolute(path2);\n    var attrs = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var attrs2 = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var pcoms1 = []; // path commands of original path p\n    var pcoms2 = []; // path commands of original path p2\n    var pfirst = ''; // temporary holder for original path command\n    var pcom = ''; // holder for previous path command of original path\n    var ii;\n    var processPath = function (path, d, pcom) {\n        var nx;\n        var ny;\n        if (!path) {\n            return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n        !(path[0] in\n            {\n                T: 1,\n                Q: 1,\n            }) && (d.qx = d.qy = null);\n        switch (path[0]) {\n            case 'M':\n                d.X = path[1];\n                d.Y = path[2];\n                break;\n            case 'A':\n                path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                break;\n            case 'S':\n                if (pcom === 'C' || pcom === 'S') {\n                    // In \"S\" case we have to take into account, if the previous command is C/S.\n                    nx = d.x * 2 - d.bx; // And reflect the previous\n                    ny = d.y * 2 - d.by; // command's control point relative to the current point.\n                }\n                else {\n                    // or some else or nothing\n                    nx = d.x;\n                    ny = d.y;\n                }\n                path = ['C', nx, ny].concat(path.slice(1));\n                break;\n            case 'T':\n                if (pcom === 'Q' || pcom === 'T') {\n                    // In \"T\" case we have to take into account, if the previous command is Q/T.\n                    d.qx = d.x * 2 - d.qx; // And make a reflection similar\n                    d.qy = d.y * 2 - d.qy; // to case \"S\".\n                }\n                else {\n                    // or something else or nothing\n                    d.qx = d.x;\n                    d.qy = d.y;\n                }\n                path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                break;\n            case 'Q':\n                d.qx = path[1];\n                d.qy = path[2];\n                path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                break;\n            case 'L':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n                break;\n            case 'H':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n                break;\n            case 'V':\n                path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n                break;\n            case 'Z':\n                path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n                break;\n            default:\n                break;\n        }\n        return path;\n    };\n    var fixArc = function (pp, i) {\n        if (pp[i].length > 7) {\n            pp[i].shift();\n            var pi = pp[i];\n            while (pi.length) {\n                pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n                p2 && (pcoms2[i] = 'A'); // the same as above\n                pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n            }\n            pp.splice(i, 1);\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    var fixM = function (path1, path2, a1, a2, i) {\n        if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n            path2.splice(i, 0, ['M', a2.x, a2.y]);\n            a1.bx = 0;\n            a1.by = 0;\n            a1.x = path1[i][1];\n            a1.y = path1[i][2];\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    ii = Math.max(p.length, (p2 && p2.length) || 0);\n    for (var i = 0; i < ii; i++) {\n        p[i] && (pfirst = p[i][0]); // save current path command\n        if (pfirst !== 'C') {\n            // C is not saved yet, because it may be result of conversion\n            pcoms1[i] = pfirst; // Save current path command\n            i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n        }\n        p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n        if (pcoms1[i] !== 'A' && pfirst === 'C')\n            pcoms1[i] = 'C'; // A is the only command\n        // which may produce multiple C:s\n        // so we have to make sure that C is also C in original path\n        fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n        if (p2) {\n            // the same procedures is done to p2\n            p2[i] && (pfirst = p2[i][0]);\n            if (pfirst !== 'C') {\n                pcoms2[i] = pfirst;\n                i && (pcom = pcoms2[i - 1]);\n            }\n            p2[i] = processPath(p2[i], attrs2, pcom);\n            if (pcoms2[i] !== 'A' && pfirst === 'C') {\n                pcoms2[i] = 'C';\n            }\n            fixArc(p2, i);\n        }\n        fixM(p, p2, attrs, attrs2, i);\n        fixM(p2, p, attrs2, attrs, i);\n        var seg = p[i];\n        var seg2 = p2 && p2[i];\n        var seglen = seg.length;\n        var seg2len = p2 && seg2.length;\n        attrs.x = seg[seglen - 2];\n        attrs.y = seg[seglen - 1];\n        attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n        attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n        attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n        attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n        attrs2.x = p2 && seg2[seg2len - 2];\n        attrs2.y = p2 && seg2[seg2len - 1];\n    }\n    return p2 ? [p, p2] : p;\n};\nvar p2s = /,?([a-z]),?/gi;\nvar parsePathArray = function (path) {\n    return path.join(',').replace(p2s, '$1');\n};\nvar base3 = function (t, p1, p2, p3, p4) {\n    var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n    var t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n    return t * t2 - 3 * p1 + 3 * p2;\n};\nvar bezlen = function (x1, y1, x2, y2, x3, y3, x4, y4, z) {\n    if (z === null) {\n        z = 1;\n    }\n    z = z > 1 ? 1 : z < 0 ? 0 : z;\n    var z2 = z / 2;\n    var n = 12;\n    var Tvalues = [\n        -0.1252,\n        0.1252,\n        -0.3678,\n        0.3678,\n        -0.5873,\n        0.5873,\n        -0.7699,\n        0.7699,\n        -0.9041,\n        0.9041,\n        -0.9816,\n        0.9816,\n    ];\n    var Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n    var sum = 0;\n    for (var i = 0; i < n; i++) {\n        var ct = z2 * Tvalues[i] + z2;\n        var xbase = base3(ct, x1, x2, x3, x4);\n        var ybase = base3(ct, y1, y2, y3, y4);\n        var comb = xbase * xbase + ybase * ybase;\n        sum += Cvalues[i] * Math.sqrt(comb);\n    }\n    return z2 * sum;\n};\nvar curveDim = function (x0, y0, x1, y1, x2, y2, x3, y3) {\n    var tvalues = [];\n    var bounds = [[], []];\n    var a;\n    var b;\n    var c;\n    var t;\n    for (var i = 0; i < 2; ++i) {\n        if (i === 0) {\n            b = 6 * x0 - 12 * x1 + 6 * x2;\n            a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n            c = 3 * x1 - 3 * x0;\n        }\n        else {\n            b = 6 * y0 - 12 * y1 + 6 * y2;\n            a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n            c = 3 * y1 - 3 * y0;\n        }\n        if (Math.abs(a) < 1e-12) {\n            if (Math.abs(b) < 1e-12) {\n                continue;\n            }\n            t = -c / b;\n            if (t > 0 && t < 1) {\n                tvalues.push(t);\n            }\n            continue;\n        }\n        var b2ac = b * b - 4 * c * a;\n        var sqrtb2ac = Math.sqrt(b2ac);\n        if (b2ac < 0) {\n            continue;\n        }\n        var t1 = (-b + sqrtb2ac) / (2 * a);\n        if (t1 > 0 && t1 < 1) {\n            tvalues.push(t1);\n        }\n        var t2 = (-b - sqrtb2ac) / (2 * a);\n        if (t2 > 0 && t2 < 1) {\n            tvalues.push(t2);\n        }\n    }\n    var j = tvalues.length;\n    var jlen = j;\n    var mt;\n    while (j--) {\n        t = tvalues[j];\n        mt = 1 - t;\n        bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n        bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n    }\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n    return {\n        min: {\n            x: Math.min.apply(0, bounds[0]),\n            y: Math.min.apply(0, bounds[1]),\n        },\n        max: {\n            x: Math.max.apply(0, bounds[0]),\n            y: Math.max.apply(0, bounds[1]),\n        },\n    };\n};\nvar intersect = function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    if (Math.max(x1, x2) < Math.min(x3, x4) ||\n        Math.min(x1, x2) > Math.max(x3, x4) ||\n        Math.max(y1, y2) < Math.min(y3, y4) ||\n        Math.min(y1, y2) > Math.max(y3, y4)) {\n        return;\n    }\n    var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4);\n    var ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4);\n    var denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (!denominator) {\n        return;\n    }\n    var px = nx / denominator;\n    var py = ny / denominator;\n    var px2 = +px.toFixed(2);\n    var py2 = +py.toFixed(2);\n    if (px2 < +Math.min(x1, x2).toFixed(2) ||\n        px2 > +Math.max(x1, x2).toFixed(2) ||\n        px2 < +Math.min(x3, x4).toFixed(2) ||\n        px2 > +Math.max(x3, x4).toFixed(2) ||\n        py2 < +Math.min(y1, y2).toFixed(2) ||\n        py2 > +Math.max(y1, y2).toFixed(2) ||\n        py2 < +Math.min(y3, y4).toFixed(2) ||\n        py2 > +Math.max(y3, y4).toFixed(2)) {\n        return;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n};\nvar isPointInsideBBox = function (bbox, x, y) {\n    return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;\n};\nvar rectPath = function (x, y, w, h, r) {\n    if (r) {\n        return [\n            ['M', +x + +r, y],\n            ['l', w - r * 2, 0],\n            ['a', r, r, 0, 0, 1, r, r],\n            ['l', 0, h - r * 2],\n            ['a', r, r, 0, 0, 1, -r, r],\n            ['l', r * 2 - w, 0],\n            ['a', r, r, 0, 0, 1, -r, -r],\n            ['l', 0, r * 2 - h],\n            ['a', r, r, 0, 0, 1, r, -r],\n            ['z'],\n        ];\n    }\n    var res = [['M', x, y], ['l', w, 0], ['l', 0, h], ['l', -w, 0], ['z']];\n    // @ts-ignore\n    res.parsePathArray = parsePathArray;\n    return res;\n};\nvar box = function (x, y, width, height) {\n    if (x === null) {\n        x = y = width = height = 0;\n    }\n    if (y === null) {\n        y = x.y;\n        width = x.width;\n        height = x.height;\n        x = x.x;\n    }\n    return {\n        x: x,\n        y: y,\n        width: width,\n        w: width,\n        height: height,\n        h: height,\n        x2: x + width,\n        y2: y + height,\n        cx: x + width / 2,\n        cy: y + height / 2,\n        r1: Math.min(width, height) / 2,\n        r2: Math.max(width, height) / 2,\n        r0: Math.sqrt(width * width + height * height) / 2,\n        path: rectPath(x, y, width, height),\n        vb: [x, y, width, height].join(' '),\n    };\n};\nvar isBBoxIntersect = function (bbox1, bbox2) {\n    bbox1 = box(bbox1);\n    bbox2 = box(bbox2);\n    return (isPointInsideBBox(bbox2, bbox1.x, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x, bbox1.y2) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2) ||\n        (((bbox1.x < bbox2.x2 && bbox1.x > bbox2.x) || (bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)) &&\n            ((bbox1.y < bbox2.y2 && bbox1.y > bbox2.y) || (bbox2.y < bbox1.y2 && bbox2.y > bbox1.y))));\n};\nvar bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n    if (!isArray(p1x)) {\n        p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n    }\n    var bbox = curveDim.apply(null, p1x);\n    return box(bbox.min.x, bbox.min.y, bbox.max.x - bbox.min.x, bbox.max.y - bbox.min.y);\n};\nvar findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n    var t1 = 1 - t;\n    var t13 = Math.pow(t1, 3);\n    var t12 = Math.pow(t1, 2);\n    var t2 = t * t;\n    var t3 = t2 * t;\n    var x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x;\n    var y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n    var mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x);\n    var my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y);\n    var nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x);\n    var ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y);\n    var ax = t1 * p1x + t * c1x;\n    var ay = t1 * p1y + t * c1y;\n    var cx = t1 * c2x + t * p2x;\n    var cy = t1 * c2y + t * p2y;\n    var alpha = 90 - (Math.atan2(mx - nx, my - ny) * 180) / Math.PI;\n    // (mx > nx || my < ny) && (alpha += 180);\n    return {\n        x: x,\n        y: y,\n        m: {\n            x: mx,\n            y: my,\n        },\n        n: {\n            x: nx,\n            y: ny,\n        },\n        start: {\n            x: ax,\n            y: ay,\n        },\n        end: {\n            x: cx,\n            y: cy,\n        },\n        alpha: alpha,\n    };\n};\nvar interHelper = function (bez1, bez2, justCount) {\n    var bbox1 = bezierBBox(bez1);\n    var bbox2 = bezierBBox(bez2);\n    if (!isBBoxIntersect(bbox1, bbox2)) {\n        return justCount ? 0 : [];\n    }\n    var l1 = bezlen.apply(0, bez1);\n    var l2 = bezlen.apply(0, bez2);\n    var n1 = ~~(l1 / 8);\n    var n2 = ~~(l2 / 8);\n    var dots1 = [];\n    var dots2 = [];\n    var xy = {};\n    var res = justCount ? 0 : [];\n    for (var i = 0; i < n1 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n        dots1.push({\n            x: d.x,\n            y: d.y,\n            t: i / n1,\n        });\n    }\n    for (var i = 0; i < n2 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n        dots2.push({\n            x: d.x,\n            y: d.y,\n            t: i / n2,\n        });\n    }\n    for (var i = 0; i < n1; i++) {\n        for (var j = 0; j < n2; j++) {\n            var di = dots1[i];\n            var di1 = dots1[i + 1];\n            var dj = dots2[j];\n            var dj1 = dots2[j + 1];\n            var ci = Math.abs(di1.x - di.x) < 0.001 ? 'y' : 'x';\n            var cj = Math.abs(dj1.x - dj.x) < 0.001 ? 'y' : 'x';\n            var is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n            if (is) {\n                if (xy[is.x.toFixed(4)] === is.y.toFixed(4)) {\n                    continue;\n                }\n                xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                var t1 = di.t + Math.abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t);\n                var t2 = dj.t + Math.abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                    if (justCount) {\n                        // @ts-ignore\n                        res += 1;\n                    }\n                    else {\n                        // @ts-ignore\n                        res.push({\n                            x: is.x,\n                            y: is.y,\n                            t1: t1,\n                            t2: t2,\n                        });\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar interPathHelper = function (path1, path2, justCount) {\n    path1 = pathToCurve(path1);\n    path2 = pathToCurve(path2);\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var x1m;\n    var y1m;\n    var x2m;\n    var y2m;\n    var bez1;\n    var bez2;\n    var res = justCount ? 0 : [];\n    for (var i = 0, ii = path1.length; i < ii; i++) {\n        var pi = path1[i];\n        if (pi[0] === 'M') {\n            x1 = x1m = pi[1];\n            y1 = y1m = pi[2];\n        }\n        else {\n            if (pi[0] === 'C') {\n                bez1 = [x1, y1].concat(pi.slice(1));\n                x1 = bez1[6];\n                y1 = bez1[7];\n            }\n            else {\n                bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                x1 = x1m;\n                y1 = y1m;\n            }\n            for (var j = 0, jj = path2.length; j < jj; j++) {\n                var pj = path2[j];\n                if (pj[0] === 'M') {\n                    x2 = x2m = pj[1];\n                    y2 = y2m = pj[2];\n                }\n                else {\n                    if (pj[0] === 'C') {\n                        bez2 = [x2, y2].concat(pj.slice(1));\n                        x2 = bez2[6];\n                        y2 = bez2[7];\n                    }\n                    else {\n                        bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                        x2 = x2m;\n                        y2 = y2m;\n                    }\n                    var intr = interHelper(bez1, bez2, justCount);\n                    if (justCount) {\n                        // @ts-ignore\n                        res += intr;\n                    }\n                    else {\n                        // @ts-ignore\n                        for (var k = 0, kk = intr.length; k < kk; k++) {\n                            intr[k].segment1 = i;\n                            intr[k].segment2 = j;\n                            intr[k].bez1 = bez1;\n                            intr[k].bez2 = bez2;\n                        }\n                        // @ts-ignore\n                        res = res.concat(intr);\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar intersection = function (path1, path2) {\n    return interPathHelper(path1, path2);\n};\nfunction decasteljau(points, t) {\n    var left = [];\n    var right = [];\n    function recurse(points, t) {\n        if (points.length === 1) {\n            left.push(points[0]);\n            right.push(points[0]);\n        }\n        else {\n            var middlePoints = [];\n            for (var i = 0; i < points.length - 1; i++) {\n                if (i === 0) {\n                    left.push(points[0]);\n                }\n                if (i === points.length - 2) {\n                    right.push(points[i + 1]);\n                }\n                middlePoints[i] = [\n                    (1 - t) * points[i][0] + t * points[i + 1][0],\n                    (1 - t) * points[i][1] + t * points[i + 1][1],\n                ];\n            }\n            recurse(middlePoints, t);\n        }\n    }\n    if (points.length) {\n        recurse(points, t);\n    }\n    return { left: left, right: right.reverse() };\n}\nfunction splitCurve(start, end, count) {\n    var points = [[start[1], start[2]]];\n    count = count || 2;\n    var segments = [];\n    if (end[0] === 'A') {\n        points.push(end[6]);\n        points.push(end[7]);\n    }\n    else if (end[0] === 'C') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n        points.push([end[5], end[6]]);\n    }\n    else if (end[0] === 'S' || end[0] === 'Q') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n    }\n    else {\n        points.push([end[1], end[2]]);\n    }\n    var leftSegments = points;\n    var t = 1 / count;\n    for (var i = 0; i < count - 1; i++) {\n        var rt = t / (1 - t * i);\n        var split = decasteljau(leftSegments, rt);\n        segments.push(split.left);\n        leftSegments = split.right;\n    }\n    segments.push(leftSegments);\n    var result = segments.map(function (segment) {\n        var cmd = [];\n        if (segment.length === 4) {\n            cmd.push('C');\n            cmd = cmd.concat(segment[2]);\n        }\n        if (segment.length >= 3) {\n            if (segment.length === 3) {\n                cmd.push('Q');\n            }\n            cmd = cmd.concat(segment[1]);\n        }\n        if (segment.length === 2) {\n            cmd.push('L');\n        }\n        cmd = cmd.concat(segment[segment.length - 1]);\n        return cmd;\n    });\n    return result;\n}\nvar splitSegment = function (start, end, count) {\n    if (count === 1) {\n        return [[].concat(start)];\n    }\n    var segments = [];\n    if (end[0] === 'L' || end[0] === 'C' || end[0] === 'Q') {\n        segments = segments.concat(splitCurve(start, end, count));\n    }\n    else {\n        var temp = [].concat(start);\n        if (temp[0] === 'M') {\n            temp[0] = 'L';\n        }\n        for (var i = 0; i <= count - 1; i++) {\n            segments.push(temp);\n        }\n    }\n    return segments;\n};\nvar fillPath = function (source, target) {\n    if (source.length === 1) {\n        return source;\n    }\n    var sourceLen = source.length - 1;\n    var targetLen = target.length - 1;\n    var ratio = sourceLen / targetLen;\n    var segmentsToFill = [];\n    if (source.length === 1 && source[0][0] === 'M') {\n        for (var i = 0; i < targetLen - sourceLen; i++) {\n            source.push(source[0]);\n        }\n        return source;\n    }\n    for (var i = 0; i < targetLen; i++) {\n        var index = Math.floor(ratio * i);\n        segmentsToFill[index] = (segmentsToFill[index] || 0) + 1;\n    }\n    var filled = segmentsToFill.reduce(function (filled, count, i) {\n        if (i === sourceLen) {\n            return filled.concat(source[sourceLen]);\n        }\n        return filled.concat(splitSegment(source[i], source[i + 1], count));\n    }, []);\n    filled.unshift(source[0]);\n    if (target[targetLen] === 'Z' || target[targetLen] === 'z') {\n        filled.push('Z');\n    }\n    return filled;\n};\nvar isEqual = function (obj1, obj2) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    var result = true;\n    each(obj1, function (item, i) {\n        if (item !== obj2[i]) {\n            result = false;\n            return false;\n        }\n    });\n    return result;\n};\nfunction getMinDiff(del, add, modify) {\n    var type = null;\n    var min = modify;\n    if (add < min) {\n        min = add;\n        type = 'add';\n    }\n    if (del < min) {\n        min = del;\n        type = 'del';\n    }\n    return {\n        type: type,\n        min: min,\n    };\n}\n/*\n * https://en.wikipedia.org/wiki/Levenshtein_distance\n * path\n */\nvar levenshteinDistance = function (source, target) {\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var sourceSegment;\n    var targetSegment;\n    var temp = 0;\n    if (sourceLen === 0 || targetLen === 0) {\n        return null;\n    }\n    var dist = [];\n    for (var i = 0; i <= sourceLen; i++) {\n        dist[i] = [];\n        dist[i][0] = { min: i };\n    }\n    for (var j = 0; j <= targetLen; j++) {\n        dist[0][j] = { min: j };\n    }\n    for (var i = 1; i <= sourceLen; i++) {\n        sourceSegment = source[i - 1];\n        for (var j = 1; j <= targetLen; j++) {\n            targetSegment = target[j - 1];\n            if (isEqual(sourceSegment, targetSegment)) {\n                temp = 0;\n            }\n            else {\n                temp = 1;\n            }\n            var del = dist[i - 1][j].min + 1;\n            var add = dist[i][j - 1].min + 1;\n            var modify = dist[i - 1][j - 1].min + temp;\n            dist[i][j] = getMinDiff(del, add, modify);\n        }\n    }\n    return dist;\n};\nvar fillPathByDiff = function (source, target) {\n    var diffMatrix = levenshteinDistance(source, target);\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var changes = [];\n    var index = 1;\n    var minPos = 1;\n    // sourcetarget\n    if (diffMatrix[sourceLen][targetLen].min !== sourceLen) {\n        // sourcetarget\n        for (var i = 1; i <= sourceLen; i++) {\n            var min = diffMatrix[i][i].min;\n            minPos = i;\n            for (var j = index; j <= targetLen; j++) {\n                if (diffMatrix[i][j].min < min) {\n                    min = diffMatrix[i][j].min;\n                    minPos = j;\n                }\n            }\n            index = minPos;\n            if (diffMatrix[i][index].type) {\n                changes.push({ index: i - 1, type: diffMatrix[i][index].type });\n            }\n        }\n        // sourcepath\n        for (var i = changes.length - 1; i >= 0; i--) {\n            index = changes[i].index;\n            if (changes[i].type === 'add') {\n                source.splice(index, 0, [].concat(source[index]));\n            }\n            else {\n                source.splice(index, 1);\n            }\n        }\n    }\n    // source\n    sourceLen = source.length;\n    var diff = targetLen - sourceLen;\n    if (sourceLen < targetLen) {\n        for (var i = 0; i < diff; i++) {\n            if (source[sourceLen - 1][0] === 'z' || source[sourceLen - 1][0] === 'Z') {\n                source.splice(sourceLen - 2, 0, source[sourceLen - 2]);\n            }\n            else {\n                source.push(source[sourceLen - 1]);\n            }\n            sourceLen += 1;\n        }\n    }\n    return source;\n};\n// count\nfunction _splitPoints(points, former, count) {\n    var result = [].concat(points);\n    var index;\n    var t = 1 / (count + 1);\n    var formerEnd = _getSegmentPoints(former)[0];\n    for (var i = 1; i <= count; i++) {\n        t *= i;\n        index = Math.floor(points.length * t);\n        if (index === 0) {\n            result.unshift([formerEnd[0] * t + points[index][0] * (1 - t), formerEnd[1] * t + points[index][1] * (1 - t)]);\n        }\n        else {\n            result.splice(index, 0, [\n                formerEnd[0] * t + points[index][0] * (1 - t),\n                formerEnd[1] * t + points[index][1] * (1 - t),\n            ]);\n        }\n    }\n    return result;\n}\n/*\n * pathSegment\n * M,L,A,Q,H,V\n * Q, S\n * C\n */\nfunction _getSegmentPoints(segment) {\n    var points = [];\n    switch (segment[0]) {\n        case 'M':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'L':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'A':\n            points.push([segment[6], segment[7]]);\n            break;\n        case 'Q':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'T':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'C':\n            points.push([segment[5], segment[6]]);\n            points.push([segment[1], segment[2]]);\n            points.push([segment[3], segment[4]]);\n            break;\n        case 'S':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'H':\n            points.push([segment[1], segment[1]]);\n            break;\n        case 'V':\n            points.push([segment[1], segment[1]]);\n            break;\n        default:\n    }\n    return points;\n}\nvar formatPath = function (fromPath, toPath) {\n    if (fromPath.length <= 1) {\n        return fromPath;\n    }\n    var points;\n    for (var i = 0; i < toPath.length; i++) {\n        if (fromPath[i][0] !== toPath[i][0]) {\n            // fromPathpathSegmenttoPath\n            points = _getSegmentPoints(fromPath[i]);\n            switch (toPath[i][0]) {\n                case 'M':\n                    fromPath[i] = ['M'].concat(points[0]);\n                    break;\n                case 'L':\n                    fromPath[i] = ['L'].concat(points[0]);\n                    break;\n                case 'A':\n                    fromPath[i] = [].concat(toPath[i]);\n                    fromPath[i][6] = points[0][0];\n                    fromPath[i][7] = points[0][1];\n                    break;\n                case 'Q':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['Q'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'T':\n                    fromPath[i] = ['T'].concat(points[0]);\n                    break;\n                case 'C':\n                    if (points.length < 3) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 2);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['C'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'S':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['S'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                default:\n                    fromPath[i] = toPath[i];\n            }\n        }\n    }\n    return fromPath;\n};\nexport { catmullRomToBezier, fillPath, fillPathByDiff, formatPath, intersection, parsePathArray, parsePathString, pathToAbsolute, pathToCurve, rectPath, };\n//# sourceMappingURL=path.js.map","import { each, isArray, isString } from '@antv/util';\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig;\nvar regexDot = /[^\\s\\,]+/ig;\nfunction parsePath(p) {\n    var path = p || [];\n    if (isArray(path)) {\n        return path;\n    }\n    if (isString(path)) {\n        path = path.match(regexTags);\n        each(path, function (item, index) {\n            // @ts-ignore\n            item = item.match(regexDot);\n            if (item[0].length > 1) {\n                var tag = item[0].charAt(0);\n                // @ts-ignore\n                item.splice(1, 0, item[0].substr(1));\n                // @ts-ignore\n                item[0] = tag;\n            }\n            // @ts-ignore\n            each(item, function (sub, i) {\n                if (!isNaN(sub)) {\n                    // @ts-ignore\n                    item[i] = +sub;\n                }\n            });\n            // @ts-ignore\n            path[index] = item;\n        });\n        return path;\n    }\n}\nexport default parsePath;\n//# sourceMappingURL=parse-path.js.map","// http://schepers.cc/getting-to-the-point\nexport default function catmullRom2Bezier(crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [{\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            }, {\n                x: +crp[i],\n                y: +crp[i + 1],\n            }, {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            }, {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            }];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push(['C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n}\n//# sourceMappingURL=catmull-rom-2-bezier.js.map","import { isArray } from '@antv/util';\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig');\n// Parses given path string into an array of arrays of path segments\nexport default function parsePathString(pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (isArray(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return '';\n    });\n    return data;\n}\n//# sourceMappingURL=parse-path-string.js.map","import { mod, toRadian } from '@antv/util';\n// \nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|\nfunction vRatio(u, v) {\n    //  0  0 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// \nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n/**\n *  [x, y]\n * @param {Array} point1 \n * @param {Array} point2 \n */\nexport function isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nexport default function getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = mod(toRadian(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // \n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // \n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    //  0  (0, 0) \n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // \n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // \n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // \n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    //  x \n    var theta = vAngle([1, 0], u);\n    // \n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        //  0 \n        rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\n//# sourceMappingURL=get-arc-params.js.map","import getArcParams from './get-arc-params';\nimport { isSamePoint } from './get-arc-params';\nimport parsePath from './parse-path';\n// \nfunction toSymmetry(point, center) {\n    return [center[0] + (center[0] - point[0]), center[1] + (center[1] - point[1])];\n}\nexport default function getSegments(path) {\n    path = parsePath(path);\n    var segments = [];\n    var currentPoint = null; // \n    var nextParams = null; //  path \n    var startMovePoint = null; //  M \n    var lastStartMovePointIndex = 0; //  M \n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        nextParams = path[i + 1];\n        var command = params[0];\n        // \n        var segment = {\n            command: command,\n            prePoint: currentPoint,\n            params: params,\n            startTangent: null,\n            endTangent: null,\n        };\n        switch (command) {\n            case 'M':\n                startMovePoint = [params[1], params[2]];\n                lastStartMovePointIndex = i;\n                break;\n            case 'A':\n                var arcParams = getArcParams(currentPoint, params);\n                segment['arcParams'] = arcParams;\n                break;\n            default:\n                break;\n        }\n        if (command === 'Z') {\n            //  Z  M \n            currentPoint = startMovePoint;\n            //  Z M  M \n            nextParams = path[lastStartMovePointIndex + 1];\n        }\n        else {\n            var len = params.length;\n            currentPoint = [params[len - 2], params[len - 1]];\n        }\n        if (nextParams && nextParams[0] === 'Z') {\n            //  Z M \n            nextParams = path[lastStartMovePointIndex];\n            if (segments[lastStartMovePointIndex]) {\n                //  Z M \n                segments[lastStartMovePointIndex].prePoint = currentPoint;\n            }\n        }\n        segment['currentPoint'] = currentPoint;\n        //  M  M \n        if (segments[lastStartMovePointIndex] &&\n            isSamePoint(currentPoint, segments[lastStartMovePointIndex].currentPoint)) {\n            segments[lastStartMovePointIndex].prePoint = segment.prePoint;\n        }\n        var nextPoint = nextParams ? [nextParams[nextParams.length - 2], nextParams[nextParams.length - 1]] : null;\n        segment['nextPoint'] = nextPoint;\n        // Add startTangent and endTangent\n        var prePoint = segment.prePoint;\n        if (['L', 'H', 'V'].includes(command)) {\n            segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n            segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n        }\n        else if (command === 'Q') {\n            // \n            var cp = [params[1], params[2]];\n            //  currentPoint\n            segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n            segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n        }\n        else if (command === 'T') {\n            var preSegment = segments[i - 1];\n            var cp = toSymmetry(preSegment.currentPoint, prePoint);\n            if (preSegment.command === 'Q') {\n                segment.command = 'Q';\n                segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n                segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n            }\n            else {\n                segment.command = 'TL';\n                segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n                segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n            }\n        }\n        else if (command === 'C') {\n            // \n            var cp1 = [params[1], params[2]];\n            var cp2 = [params[3], params[4]];\n            segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n            segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n        }\n        else if (command === 'S') {\n            var preSegment = segments[i - 1];\n            var cp1 = toSymmetry(preSegment.currentPoint, prePoint);\n            var cp2 = [params[1], params[2]];\n            if (preSegment.command === 'C') {\n                segment.command = 'C'; //  S  C \n                segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n            else {\n                segment.command = 'SQ'; //  S  SQ \n                segment.startTangent = [prePoint[0] - cp2[0], prePoint[1] - cp2[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n        }\n        else if (command === 'A') {\n            var d = 0.001;\n            var _a = segment['arcParams'] || {}, _b = _a.cx, cx = _b === void 0 ? 0 : _b, _c = _a.cy, cy = _c === void 0 ? 0 : _c, _d = _a.rx, rx = _d === void 0 ? 0 : _d, _e = _a.ry, ry = _e === void 0 ? 0 : _e, _f = _a.sweepFlag, sweepFlag = _f === void 0 ? 0 : _f, _g = _a.startAngle, startAngle = _g === void 0 ? 0 : _g, _h = _a.endAngle, endAngle = _h === void 0 ? 0 : _h;\n            if (sweepFlag === 0) {\n                d *= -1;\n            }\n            var dx1 = rx * Math.cos(startAngle - d) + cx;\n            var dy1 = ry * Math.sin(startAngle - d) + cy;\n            segment.startTangent = [dx1 - startMovePoint[0], dy1 - startMovePoint[1]];\n            var dx2 = rx * Math.cos(startAngle + endAngle + d) + cx;\n            var dy2 = ry * Math.sin(startAngle + endAngle - d) + cy;\n            segment.endTangent = [prePoint[0] - dx2, prePoint[1] - dy2];\n        }\n        segments.push(segment);\n    }\n    return segments;\n}\n//# sourceMappingURL=path-2-segments.js.map","import { isNil, each, isString } from './util';\nimport { getOffScreenContext } from './offscreen';\n/**\n * \n * @param text \n * @param fontSize \n * @param lineHeight \n */\nexport function getTextHeight(text, fontSize, lineHeight) {\n    var lineCount = 1;\n    if (isString(text)) {\n        lineCount = text.split('\\n').length;\n    }\n    if (lineCount > 1) {\n        var spaceingY = getLineSpaceing(fontSize, lineHeight);\n        return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n}\n/**\n * \n * @param fontSize \n * @param lineHeight \n */\nexport function getLineSpaceing(fontSize, lineHeight) {\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n}\n/**\n * \n * @param text \n * @param font \n */\nexport function getTextWidth(text, font) {\n    var context = getOffScreenContext(); //  ctx \n    var width = 0;\n    // null  undefined  0\n    if (isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexport function assembleFont(attrs) {\n    var fontSize = attrs.fontSize, fontFamily = attrs.fontFamily, fontWeight = attrs.fontWeight, fontStyle = attrs.fontStyle, fontVariant = attrs.fontVariant;\n    return [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ').trim();\n}\n//# sourceMappingURL=text.js.map","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","var GraphEvent = /** @class */ (function () {\n    function GraphEvent(type, event) {\n        /**\n         * \n         * @type {boolean}\n         */\n        this.bubbles = true;\n        /**\n         * \n         * @type {object}\n         */\n        this.target = null;\n        /**\n         * \n         * @type {object}\n         */\n        this.currentTarget = null;\n        /**\n         * \n         * @type {object}\n         */\n        this.delegateTarget = null;\n        /**\n         *  ev.delegateObject = ev.currentTarget.get('delegateObject')\n         * @type {object}\n         */\n        this.delegateObject = null;\n        /**\n         * \n         * @type {boolean}\n         */\n        this.defaultPrevented = false;\n        /**\n         * \n         * @type {boolean}\n         */\n        this.propagationStopped = false;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.shape = null;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.fromShape = null;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.toShape = null;\n        // \n        this.propagationPath = [];\n        this.type = type;\n        this.name = type;\n        this.originalEvent = event;\n        this.timeStamp = event.timeStamp;\n    }\n    /**\n     * \n     */\n    GraphEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n        if (this.originalEvent.preventDefault) {\n            this.originalEvent.preventDefault();\n        }\n    };\n    /**\n     * \n     */\n    GraphEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    GraphEvent.prototype.toString = function () {\n        var type = this.type;\n        return \"[Event (type=\" + type + \")]\";\n    };\n    GraphEvent.prototype.save = function () { };\n    GraphEvent.prototype.restore = function () { };\n    return GraphEvent;\n}());\nexport default GraphEvent;\n//# sourceMappingURL=graph-event.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\nimport { mix } from '../util/util';\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /**\n         * \n         * @type {boolean}\n         */\n        _this.destroyed = false;\n        var defaultCfg = _this.getDefaultCfg();\n        _this.cfg = mix(defaultCfg, cfg);\n        return _this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    // \n    Base.prototype.get = function (name) {\n        return this.cfg[name];\n    };\n    // \n    Base.prototype.set = function (name, value) {\n        this.cfg[name] = value;\n    };\n    // \n    Base.prototype.destroy = function () {\n        this.cfg = {\n            destroyed: true,\n        };\n        this.off();\n        this.destroyed = true;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","//  ctx isPointInPath\nvar offScreenCtx = null;\nexport function getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\n//# sourceMappingURL=offscreen.js.map","// dom\nexport { default as addEventListener } from './add-event-listener';\nexport { default as createDom } from './create-dom';\nexport { default as getHeight } from './get-height';\nexport { default as getOuterHeight } from './get-outer-height';\nexport { default as getOuterWidth } from './get-outer-width';\nexport { default as getRatio } from './get-ratio';\nexport { default as getStyle } from './get-style';\nexport { default as getWidth } from './get-width';\nexport { default as modifyCSS } from './modify-css';\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { max, min } from '@antv/util';\nimport Element from './element';\nimport { isFunction, isObject, each, removeFromArray, upperFirst, isAllowCapture } from '../util/util';\nvar SHAPE_MAP = {};\nvar INDEX = '_INDEX';\n/**\n *  canvas\n * @param {IElement} element \n * @param {ICanvas}  canvas  \n */\nfunction setCanvas(element, canvas) {\n    element.set('canvas', canvas);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setCanvas(child, canvas);\n            });\n        }\n    }\n}\n/**\n *  timeline\n * @param {IElement} element  \n * @param {Timeline} timeline \n */\nfunction setTimeline(element, timeline) {\n    element.set('timeline', timeline);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setTimeline(child, timeline);\n            });\n        }\n    }\n}\nfunction contains(container, element) {\n    var children = container.getChildren();\n    return children.indexOf(element) >= 0;\n}\nfunction removeChild(container, element, destroy) {\n    if (destroy === void 0) { destroy = true; }\n    //  element.remove() \n    if (destroy) {\n        element.destroy();\n    }\n    else {\n        element.set('parent', null);\n        element.set('canvas', null);\n    }\n    removeFromArray(container.getChildren(), element);\n}\nfunction getComparer(compare) {\n    return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n    };\n}\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Container.prototype.isCanvas = function () {\n        return false;\n    };\n    //  BBox\n    Container.prototype.getBBox = function () {\n        // \n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // \n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = min(xArr);\n            maxX = max(xArr);\n            minY = min(yArr);\n            maxY = max(yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    // \n    Container.prototype.getCanvasBBox = function () {\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // \n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getCanvasBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = min(xArr);\n            maxX = max(xArr);\n            minY = min(yArr);\n            maxY = max(yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    Container.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        cfg['children'] = [];\n        return cfg;\n    };\n    Container.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'matrix') {\n            var totalMatrix = this.getTotalMatrix();\n            this._applyChildrenMarix(totalMatrix);\n        }\n    };\n    // \n    Container.prototype.applyMatrix = function (matrix) {\n        var preTotalMatrix = this.getTotalMatrix();\n        _super.prototype.applyMatrix.call(this, matrix);\n        var totalMatrix = this.getTotalMatrix();\n        // totalMatrix  null \n        // \n        if (totalMatrix === preTotalMatrix) {\n            return;\n        }\n        this._applyChildrenMarix(totalMatrix);\n    };\n    // \n    Container.prototype._applyChildrenMarix = function (totalMatrix) {\n        var children = this.getChildren();\n        each(children, function (child) {\n            child.applyMatrix(totalMatrix);\n        });\n    };\n    // \n    Container.prototype.addShape = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var type = args[0];\n        var cfg = args[1];\n        if (isObject(type)) {\n            cfg = type;\n        }\n        else {\n            cfg['type'] = type;\n        }\n        var shapeType = SHAPE_MAP[cfg.type];\n        if (!shapeType) {\n            shapeType = upperFirst(cfg.type);\n            SHAPE_MAP[cfg.type] = shapeType;\n        }\n        var ShapeBase = this.getShapeBase();\n        var shape = new ShapeBase[shapeType](cfg);\n        this.add(shape);\n        return shape;\n    };\n    Container.prototype.addGroup = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var groupClass = args[0], cfg = args[1];\n        var group;\n        if (isFunction(groupClass)) {\n            if (cfg) {\n                group = new groupClass(cfg);\n            }\n            else {\n                group = new groupClass({\n                    // canvas,\n                    parent: this,\n                });\n            }\n        }\n        else {\n            var tmpCfg = groupClass || {};\n            var TmpGroupClass = this.getGroupBase();\n            group = new TmpGroupClass(tmpCfg);\n        }\n        this.add(group);\n        return group;\n    };\n    Container.prototype.getCanvas = function () {\n        var canvas;\n        if (this.isCanvas()) {\n            canvas = this;\n        }\n        else {\n            canvas = this.get('canvas');\n        }\n        return canvas;\n    };\n    Container.prototype.getShape = function (x, y, ev) {\n        // \n        if (!isAllowCapture(this)) {\n            return null;\n        }\n        var children = this.getChildren();\n        var shape;\n        //  group\n        if (!this.isCanvas()) {\n            var v = [x, y, 1];\n            //  x, y  group \n            v = this.invertFromMatrix(v);\n            if (!this.isClipped(v[0], v[1])) {\n                shape = this._findShape(children, v[0], v[1], ev);\n            }\n        }\n        else {\n            shape = this._findShape(children, x, y, ev);\n        }\n        return shape;\n    };\n    Container.prototype._findShape = function (children, x, y, ev) {\n        var shape = null;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (isAllowCapture(child)) {\n                if (child.isGroup()) {\n                    shape = child.getShape(x, y, ev);\n                }\n                else if (child.isHit(x, y)) {\n                    shape = child;\n                }\n            }\n            if (shape) {\n                break;\n            }\n        }\n        return shape;\n    };\n    Container.prototype.add = function (element) {\n        var canvas = this.getCanvas();\n        var children = this.getChildren();\n        var timeline = this.get('timeline');\n        var preParent = element.getParent();\n        if (preParent) {\n            removeChild(preParent, element, false);\n        }\n        element.set('parent', this);\n        if (canvas) {\n            setCanvas(element, canvas);\n        }\n        if (timeline) {\n            setTimeline(element, timeline);\n        }\n        children.push(element);\n        element.onCanvasChange('add');\n        this._applyElementMatrix(element);\n    };\n    // \n    Container.prototype._applyElementMatrix = function (element) {\n        var totalMatrix = this.getTotalMatrix();\n        // \n        if (totalMatrix) {\n            element.applyMatrix(totalMatrix);\n        }\n    };\n    Container.prototype.getChildren = function () {\n        return this.get('children');\n    };\n    Container.prototype.sort = function () {\n        var children = this.getChildren();\n        // \n        each(children, function (child, index) {\n            child[INDEX] = index;\n            return child;\n        });\n        children.sort(getComparer(function (obj1, obj2) {\n            return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        this.onCanvasChange('sort');\n    };\n    Container.prototype.clear = function () {\n        this.set('clearing', true);\n        if (this.destroyed) {\n            return;\n        }\n        var children = this.getChildren();\n        for (var i = children.length - 1; i >= 0; i--) {\n            children[i].destroy(); // \n        }\n        this.set('children', []);\n        this.onCanvasChange('clear');\n        this.set('clearing', false);\n    };\n    Container.prototype.destroy = function () {\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getLast = function () {\n        var children = this.getChildren();\n        return this.getChildByIndex(children.length - 1);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getChildByIndex = function (index) {\n        var children = this.getChildren();\n        return children[index];\n    };\n    /**\n     * \n     * @return {number} \n     */\n    Container.prototype.getCount = function () {\n        var children = this.getChildren();\n        return children.length;\n    };\n    /**\n     * \n     * @param {IElement} element \n     * @return {boolean}\n     */\n    Container.prototype.contain = function (element) {\n        var children = this.getChildren();\n        return children.indexOf(element) > -1;\n    };\n    /**\n     * \n     * @param {IElement} element \n     * @param {boolean} destroy  true\n     */\n    Container.prototype.removeChild = function (element, destroy) {\n        if (destroy === void 0) { destroy = true; }\n        if (this.contain(element)) {\n            element.remove(destroy);\n        }\n    };\n    /**\n     * \n     * @param  {ElementFilterFn}   fn  \n     * @return {IElement[]} \n     */\n    Container.prototype.findAll = function (fn) {\n        var rst = [];\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst.push(element);\n            }\n            if (element.isGroup()) {\n                rst = rst.concat(element.findAll(fn));\n            }\n        });\n        return rst;\n    };\n    /**\n     * \n     * @param  {ElementFilterFn} fn    \n     * @return {IElement|null} \n     */\n    Container.prototype.find = function (fn) {\n        var rst = null;\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst = element;\n            }\n            else if (element.isGroup()) {\n                rst = element.find(fn);\n            }\n            if (rst) {\n                return false;\n            }\n        });\n        return rst;\n    };\n    /**\n     *  ID \n     * @param {string} id  id\n     * @return {IElement|null} \n     */\n    Container.prototype.findById = function (id) {\n        return this.find(function (element) {\n            return element.get('id') === id;\n        });\n    };\n    /**\n     * \n     *  className \n     * TODO:  G6 3.3  G6  findByClassName G \n     * @param {string} className  className\n     * @return {IElement | null} \n     */\n    Container.prototype.findByClassName = function (className) {\n        return this.find(function (element) {\n            return element.get('className') === className;\n        });\n    };\n    /**\n     *  name \n     * @param {string}      name \n     * @return {IElement[]} \n     */\n    Container.prototype.findAllByName = function (name) {\n        return this.findAll(function (element) {\n            return element.get('name') === name;\n        });\n    };\n    return Container;\n}(Element));\nexport default Container;\n//# sourceMappingURL=container.js.map","import { __extends } from \"tslib\";\nimport { each, isEqual, isFunction, isNumber, isObject, isArray, noop, mix, upperFirst, uniqueId } from '@antv/util';\nimport { ext } from '@antv/matrix-util';\nimport { removeFromArray, isParent } from '../util/util';\nimport { multiplyMatrix, multiplyVec2, invert } from '../util/matrix';\nimport Base from './base';\nvar transform = ext.transform;\nvar MATRIX = 'matrix';\nvar CLONE_CFGS = ['zIndex', 'capture', 'visible', 'type'];\n//  toAttrs \nvar RESERVED_PORPS = ['repeat'];\nvar DELEGATION_SPLIT = ':';\nvar WILDCARD = '*';\n// \n// \nfunction _cloneArrayAttr(arr) {\n    var result = [];\n    for (var i = 0; i < arr.length; i++) {\n        if (isArray(arr[i])) {\n            result.push([].concat(arr[i]));\n        }\n        else {\n            result.push(arr[i]);\n        }\n    }\n    return result;\n}\nfunction getFormatFromAttrs(toAttrs, shape) {\n    var fromAttrs = {};\n    var attrs = shape.attrs;\n    for (var k in toAttrs) {\n        fromAttrs[k] = attrs[k];\n    }\n    return fromAttrs;\n}\nfunction getFormatToAttrs(props, shape) {\n    var toAttrs = {};\n    var attrs = shape.attr();\n    each(props, function (v, k) {\n        if (RESERVED_PORPS.indexOf(k) === -1 && !isEqual(attrs[k], v)) {\n            toAttrs[k] = v;\n        }\n    });\n    return toAttrs;\n}\nfunction checkExistedAttrs(animations, animation) {\n    if (animation.onFrame) {\n        return animations;\n    }\n    var startTime = animation.startTime, delay = animation.delay, duration = animation.duration;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    each(animations, function (item) {\n        //  <  &&  > \n        if (startTime + delay < item.startTime + item.delay + item.duration && duration > item.delay) {\n            each(animation.toAttrs, function (v, k) {\n                if (hasOwnProperty.call(item.toAttrs, k)) {\n                    delete item.toAttrs[k];\n                    delete item.fromAttrs[k];\n                }\n            });\n        }\n    });\n    return animations;\n}\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /**\n         * @protected\n         * \n         * @type {ShapeAttrs}\n         */\n        _this.attrs = {};\n        var attrs = _this.getDefaultAttrs();\n        mix(attrs, cfg.attrs);\n        _this.attrs = attrs;\n        _this.initAttrs(attrs);\n        _this.initAnimate(); // \n        return _this;\n    }\n    // override\n    Element.prototype.getDefaultCfg = function () {\n        return {\n            visible: true,\n            capture: true,\n            zIndex: 0,\n        };\n    };\n    /**\n     * @protected\n     * \n     */\n    Element.prototype.getDefaultAttrs = function () {\n        return {\n            matrix: this.getDefaultMatrix(),\n            opacity: 1,\n        };\n    };\n    /**\n     * @protected\n     * \n     * @param {ChangeType} changeType \n     */\n    Element.prototype.onCanvasChange = function (changeType) { };\n    /**\n     * @protected\n     * \n     * @param {object} attrs \n     */\n    Element.prototype.initAttrs = function (attrs) { };\n    /**\n     * @protected\n     * \n     */\n    Element.prototype.initAnimate = function () {\n        this.set('animable', true);\n        this.set('animating', false);\n    };\n    Element.prototype.isGroup = function () {\n        return false;\n    };\n    Element.prototype.getParent = function () {\n        return this.get('parent');\n    };\n    Element.prototype.getCanvas = function () {\n        return this.get('canvas');\n    };\n    Element.prototype.attr = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var name = args[0], value = args[1];\n        if (!name)\n            return this.attrs;\n        if (isObject(name)) {\n            for (var k in name) {\n                this.setAttr(k, name[k]);\n            }\n            this.afterAttrsChange(name);\n            return this;\n        }\n        if (args.length === 2) {\n            this.setAttr(name, value);\n            this.afterAttrsChange((_a = {},\n                _a[name] = value,\n                _a));\n            return this;\n        }\n        return this.attrs[name];\n    };\n    // \n    Element.prototype.isClipped = function (refX, refY) {\n        var clip = this.getClip();\n        return clip && !clip.isHit(refX, refY);\n    };\n    /**\n     * \n     * @param {string} name \n     * @param {any} value \n     */\n    Element.prototype.setAttr = function (name, value) {\n        var originValue = this.attrs[name];\n        if (originValue !== value) {\n            this.attrs[name] = value;\n            this.onAttrChange(name, value, originValue);\n        }\n    };\n    /**\n     * @protected\n     * \n     * @param {string} name \n     * @param {any} value \n     * @param {any} originValue \n     */\n    Element.prototype.onAttrChange = function (name, value, originValue) {\n        if (name === 'matrix') {\n            this.set('totalMatrix', null);\n        }\n    };\n    /**\n     * \n     * @protected\n     */\n    Element.prototype.afterAttrsChange = function (targetAttrs) {\n        if (this.cfg.isClipShape) {\n            var applyTo = this.cfg.applyTo;\n            if (applyTo) {\n                applyTo.onCanvasChange('clip');\n            }\n        }\n        else {\n            this.onCanvasChange('attr');\n        }\n    };\n    Element.prototype.show = function () {\n        //  set\n        this.set('visible', true);\n        this.onCanvasChange('show');\n        return this;\n    };\n    Element.prototype.hide = function () {\n        //  set\n        this.set('visible', false);\n        this.onCanvasChange('hide');\n        return this;\n    };\n    Element.prototype.setZIndex = function (zIndex) {\n        this.set('zIndex', zIndex);\n        var parent = this.getParent();\n        if (parent) {\n            //  zIndex  ( onCanvasChange('zIndex')) sort \n            parent.sort();\n        }\n        return this;\n    };\n    Element.prototype.toFront = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.push(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.toBack = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.unshift(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.remove = function (destroy) {\n        if (destroy === void 0) { destroy = true; }\n        var parent = this.getParent();\n        if (parent) {\n            removeFromArray(parent.getChildren(), this);\n            if (!parent.get('clearing')) {\n                //  remove\n                this.onCanvasChange('remove');\n            }\n        }\n        else {\n            this.onCanvasChange('remove');\n        }\n        if (destroy) {\n            this.destroy();\n        }\n    };\n    Element.prototype.resetMatrix = function () {\n        this.attr(MATRIX, this.getDefaultMatrix());\n        this.onCanvasChange('matrix');\n    };\n    Element.prototype.getMatrix = function () {\n        return this.attr(MATRIX);\n    };\n    Element.prototype.setMatrix = function (m) {\n        this.attr(MATRIX, m);\n        this.onCanvasChange('matrix');\n    };\n    //  matrix\n    Element.prototype.getTotalMatrix = function () {\n        var totalMatrix = this.cfg.totalMatrix;\n        if (!totalMatrix) {\n            var currentMatrix = this.attr('matrix');\n            var parentMatrix = this.cfg.parentMatrix;\n            if (parentMatrix && currentMatrix) {\n                totalMatrix = multiplyMatrix(parentMatrix, currentMatrix);\n            }\n            else {\n                totalMatrix = currentMatrix || parentMatrix;\n            }\n            this.set('totalMatrix', totalMatrix);\n        }\n        return totalMatrix;\n    };\n    //  matrix\n    Element.prototype.applyMatrix = function (matrix) {\n        var currentMatrix = this.attr('matrix');\n        var totalMatrix = null;\n        if (matrix && currentMatrix) {\n            totalMatrix = multiplyMatrix(matrix, currentMatrix);\n        }\n        else {\n            totalMatrix = currentMatrix || matrix;\n        }\n        this.set('totalMatrix', totalMatrix);\n        this.set('parentMatrix', matrix);\n    };\n    /**\n     * @protected\n     * \n     * @returns {number[]|null} \n     */\n    Element.prototype.getDefaultMatrix = function () {\n        return null;\n    };\n    // \n    Element.prototype.applyToMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            return multiplyVec2(matrix, v);\n        }\n        return v;\n    };\n    // /\n    Element.prototype.invertFromMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            var invertMatrix = invert(matrix);\n            if (invertMatrix) {\n                return multiplyVec2(invertMatrix, v);\n            }\n        }\n        return v;\n    };\n    //  clip\n    Element.prototype.setClip = function (clipCfg) {\n        var canvas = this.getCanvas();\n        //  clip clip  clip \n        // TODO: setClip  shape  shape \n        // const preShape = this.get('clipShape');\n        // if (preShape) {\n        //   //  clipShape \n        //   preShape.destroy();\n        // }\n        var clipShape = null;\n        //  null clipShape\n        if (clipCfg) {\n            var ShapeBase = this.getShapeBase();\n            var shapeType = upperFirst(clipCfg.type);\n            var Cons = ShapeBase[shapeType];\n            if (Cons) {\n                clipShape = new Cons({\n                    type: clipCfg.type,\n                    isClipShape: true,\n                    applyTo: this,\n                    attrs: clipCfg.attrs,\n                    canvas: canvas,\n                });\n            }\n        }\n        this.set('clipShape', clipShape);\n        this.onCanvasChange('clip');\n        return clipShape;\n    };\n    Element.prototype.getClip = function () {\n        //  this.cfg.xxx\n        var clipShape = this.cfg.clipShape;\n        //  Null\n        if (!clipShape) {\n            return null;\n        }\n        return clipShape;\n    };\n    Element.prototype.clone = function () {\n        var _this = this;\n        var originAttrs = this.attrs;\n        var attrs = {};\n        each(originAttrs, function (i, k) {\n            if (isArray(originAttrs[k])) {\n                attrs[k] = _cloneArrayAttr(originAttrs[k]);\n            }\n            else {\n                attrs[k] = originAttrs[k];\n            }\n        });\n        var cons = this.constructor;\n        // @ts-ignore\n        var clone = new cons({ attrs: attrs });\n        each(CLONE_CFGS, function (cfgName) {\n            clone.set(cfgName, _this.get(cfgName));\n        });\n        return clone;\n    };\n    Element.prototype.destroy = function () {\n        var destroyed = this.destroyed;\n        if (destroyed) {\n            return;\n        }\n        this.attrs = {};\n        _super.prototype.destroy.call(this);\n        // this.onCanvasChange('destroy');\n    };\n    /**\n     * \n     * @return {boolean} \n     */\n    Element.prototype.isAnimatePaused = function () {\n        return this.get('_pause').isPaused;\n    };\n    /**\n     * \n     * 1. animate(toAttrs: ElementAttrs, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 2. animate(onFrame: OnFrame, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 3. animate(toAttrs: ElementAttrs, cfg: AnimateCfg)\n     * 4. animate(onFrame: OnFrame, cfg: AnimateCfg)\n     * :\n     *   toAttrs  \n     *   onFrame  \n     *   duration \n     *   easing   \n     *   callback \n     *   delay    \n     */\n    Element.prototype.animate = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.get('timeline') && !this.get('canvas')) {\n            return;\n        }\n        this.set('animating', true);\n        var timeline = this.get('timeline');\n        if (!timeline) {\n            timeline = this.get('canvas').get('timeline');\n            this.set('timeline', timeline);\n        }\n        var animations = this.get('animations') || [];\n        //  tick\n        if (!timeline.timer) {\n            timeline.initTimer();\n        }\n        var toAttrs = args[0], duration = args[1], _a = args[2], easing = _a === void 0 ? 'easeLinear' : _a, _b = args[3], callback = _b === void 0 ? noop : _b, _c = args[4], delay = _c === void 0 ? 0 : _c;\n        var onFrame;\n        var repeat;\n        var pauseCallback;\n        var resumeCallback;\n        var animateCfg;\n        //  toAttrs onFrame\n        if (isFunction(toAttrs)) {\n            onFrame = toAttrs;\n            toAttrs = {};\n        }\n        else if (isObject(toAttrs) && toAttrs.onFrame) {\n            //  3.0 onFrame  repeat  toAttrs \n            onFrame = toAttrs.onFrame;\n            repeat = toAttrs.repeat;\n        }\n        //  duration animateCfg\n        if (isObject(duration)) {\n            animateCfg = duration;\n            duration = animateCfg.duration;\n            easing = animateCfg.easing || 'easeLinear';\n            delay = animateCfg.delay || 0;\n            // animateCfg \n            repeat = animateCfg.repeat || repeat || false;\n            callback = animateCfg.callback || noop;\n            pauseCallback = animateCfg.pauseCallback || noop;\n            resumeCallback = animateCfg.resumeCallback || noop;\n        }\n        else {\n            //  callback delay\n            if (isNumber(callback)) {\n                delay = callback;\n                callback = null;\n            }\n            //  easing callback\n            if (isFunction(easing)) {\n                callback = easing;\n                easing = 'easeLinear';\n            }\n            else {\n                easing = easing || 'easeLinear';\n            }\n        }\n        var formatToAttrs = getFormatToAttrs(toAttrs, this);\n        var animation = {\n            fromAttrs: getFormatFromAttrs(formatToAttrs, this),\n            toAttrs: formatToAttrs,\n            duration: duration,\n            easing: easing,\n            repeat: repeat,\n            callback: callback,\n            pauseCallback: pauseCallback,\n            resumeCallback: resumeCallback,\n            delay: delay,\n            startTime: timeline.getTime(),\n            id: uniqueId(),\n            onFrame: onFrame,\n            pathFormatted: false,\n        };\n        // \n        if (animations.length > 0) {\n            // ,\n            animations = checkExistedAttrs(animations, animation);\n        }\n        else {\n            // \n            timeline.addAnimator(this);\n        }\n        animations.push(animation);\n        this.set('animations', animations);\n        this.set('_pause', { isPaused: false });\n    };\n    /**\n     * \n     * @param {boolean} toEnd \n     */\n    Element.prototype.stopAnimate = function (toEnd) {\n        var _this = this;\n        if (toEnd === void 0) { toEnd = true; }\n        var animations = this.get('animations');\n        each(animations, function (animation) {\n            // \n            if (toEnd) {\n                if (animation.onFrame) {\n                    _this.attr(animation.onFrame(1));\n                }\n                else {\n                    _this.attr(animation.toAttrs);\n                }\n            }\n            if (animation.callback) {\n                // \n                animation.callback();\n            }\n        });\n        this.set('animating', false);\n        this.set('animations', []);\n    };\n    /**\n     * \n     */\n    Element.prototype.pauseAnimate = function () {\n        var timeline = this.get('timeline');\n        var animations = this.get('animations');\n        var pauseTime = timeline.getTime();\n        each(animations, function (animation) {\n            animation._paused = true;\n            animation._pauseTime = pauseTime;\n            if (animation.pauseCallback) {\n                // \n                animation.pauseCallback();\n            }\n        });\n        // \n        this.set('_pause', {\n            isPaused: true,\n            pauseTime: pauseTime,\n        });\n        return this;\n    };\n    /**\n     * \n     */\n    Element.prototype.resumeAnimate = function () {\n        var timeline = this.get('timeline');\n        var current = timeline.getTime();\n        var animations = this.get('animations');\n        var pauseTime = this.get('_pause').pauseTime;\n        // \n        each(animations, function (animation) {\n            animation.startTime = animation.startTime + (current - pauseTime);\n            animation._paused = false;\n            animation._pauseTime = null;\n            if (animation.resumeCallback) {\n                animation.resumeCallback();\n            }\n        });\n        this.set('_pause', {\n            isPaused: false,\n        });\n        this.set('animations', animations);\n        return this;\n    };\n    /**\n     * \n     * @param  {string}     type \n     * @param  {GraphEvent} eventObj \n     */\n    Element.prototype.emitDelegation = function (type, eventObj) {\n        var _this = this;\n        var paths = eventObj.propagationPath;\n        var events = this.getEvents();\n        var relativeShape;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n        }\n        else if (type === 'mouseleave') {\n            relativeShape = eventObj.toShape;\n        }\n        var _loop_1 = function (i) {\n            var element = paths[i];\n            //  name \n            var name_1 = element.get('name');\n            if (name_1) {\n                //  mouseenter  mouseleave  Parent\n                if (\n                //  element  Group  Canvas  isParent\n                (element.isGroup() || (element.isCanvas && element.isCanvas())) &&\n                    relativeShape &&\n                    isParent(element, relativeShape)) {\n                    return \"break\";\n                }\n                if (isArray(name_1)) {\n                    each(name_1, function (subName) {\n                        _this.emitDelegateEvent(element, subName, eventObj);\n                    });\n                }\n                else {\n                    this_1.emitDelegateEvent(element, name_1, eventObj);\n                }\n            }\n        };\n        var this_1 = this;\n        //  shape\n        for (var i = 0; i < paths.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Element.prototype.emitDelegateEvent = function (element, name, eventObj) {\n        var events = this.getEvents();\n        //  name:type\n        var eventName = name + DELEGATION_SPLIT + eventObj.type;\n        if (events[eventName] || events[WILDCARD]) {\n            //  * = \n            eventObj.name = eventName;\n            eventObj.currentTarget = element;\n            eventObj.delegateTarget = this;\n            //  delegateObject \n            eventObj.delegateObject = element.get('delegateObject');\n            this.emit(eventName, eventObj);\n        }\n    };\n    /**\n     * \n     * @param {number} translateX \n     * @param {number} translateY \n     * @return {IElement} \n     */\n    Element.prototype.translate = function (translateX, translateY) {\n        if (translateX === void 0) { translateX = 0; }\n        if (translateY === void 0) { translateY = 0; }\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['t', translateX, translateY]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * \n     * @param {number} targetX \n     * @param {number} targetX \n     * @return {IElement} \n     */\n    Element.prototype.move = function (targetX, targetY) {\n        var x = this.attr('x') || 0;\n        var y = this.attr('y') || 0;\n        this.translate(targetX - x, targetY - y);\n        return this;\n    };\n    /**\n     *  move  moveTo  moveTo \n     * @param {number} targetX  x \n     * @param {number} targetY  y \n     * @return {IElement} \n     */\n    Element.prototype.moveTo = function (targetX, targetY) {\n        return this.move(targetX, targetY);\n    };\n    /**\n     * \n     * @param {number} ratioX \n     * @param {number} ratioY \n     * @return {IElement} \n     */\n    Element.prototype.scale = function (ratioX, ratioY) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['s', ratioX, ratioY || ratioX]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     *  (0, 0) \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotate = function (radian) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['r', radian]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotateAtStart = function (rotate) {\n        var _a = this.attr(), x = _a.x, y = _a.y;\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     *  (x, y) \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotateAtPoint = function (x, y, rotate) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=element.js.map","\"use strict\";function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.clearAnimationFrame=clearAnimationFrame,exports.requestAnimationFrame=requestAnimationFrame,exports.setExtraFunction=setExtraFunction;var cache={};function setExtraFunction(e){void 0===e&&(e={}),cache.requestAnimationFrame=e.requestAnimationFrame,cache.clearAnimationFrame=e.cancelAnimationFrame}function requestAnimationFrame(e){return cache.requestAnimationFrame?cache.requestAnimationFrame(e):(\"object\"===(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout(e,16)})(e)}function clearAnimationFrame(e){return cache.clearAnimationFrame?cache.clearAnimationFrame(e):(\"object\"===(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&window.cancelAnimationFrame?window.cancelAnimationFrame:clearTimeout)(e)}","import { __extends } from \"tslib\";\nimport Container from './container';\nvar AbstractGroup = /** @class */ (function (_super) {\n    __extends(AbstractGroup, _super);\n    function AbstractGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractGroup.prototype.isGroup = function () {\n        return true;\n    };\n    AbstractGroup.prototype.isEntityGroup = function () {\n        return false;\n    };\n    AbstractGroup.prototype.clone = function () {\n        var clone = _super.prototype.clone.call(this);\n        // \n        var children = this.getChildren();\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            clone.add(child.clone());\n        }\n        return clone;\n    };\n    return AbstractGroup;\n}(Container));\nexport default AbstractGroup;\n//# sourceMappingURL=group.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { multiplyVec2 } from '../util/matrix';\nvar AbstractShape = /** @class */ (function (_super) {\n    __extends(AbstractShape, _super);\n    function AbstractShape(cfg) {\n        return _super.call(this, cfg) || this;\n    }\n    // \n    AbstractShape.prototype._isInBBox = function (refX, refY) {\n        var bbox = this.getBBox();\n        return bbox.minX <= refX && bbox.maxX >= refX && bbox.minY <= refY && bbox.maxY >= refY;\n    };\n    /**\n     * \n     * @protected\n     * @param {ShapeAttrs} targetAttrs \n     */\n    AbstractShape.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        this.clearCacheBBox();\n    };\n    // \n    AbstractShape.prototype.getBBox = function () {\n        var bbox = this.cfg.bbox;\n        if (!bbox) {\n            bbox = this.calculateBBox();\n            this.set('bbox', bbox);\n        }\n        return bbox;\n    };\n    // \n    AbstractShape.prototype.getCanvasBBox = function () {\n        var canvasBBox = this.cfg.canvasBBox;\n        if (!canvasBBox) {\n            canvasBBox = this.calculateCanvasBBox();\n            this.set('canvasBBox', canvasBBox);\n        }\n        return canvasBBox;\n    };\n    AbstractShape.prototype.applyMatrix = function (matrix) {\n        _super.prototype.applyMatrix.call(this, matrix);\n        // \n        this.set('canvasBBox', null);\n    };\n    /**\n     *  bbox\n     * @return {BBox} \n     */\n    AbstractShape.prototype.calculateCanvasBBox = function () {\n        var bbox = this.getBBox();\n        var totalMatrix = this.getTotalMatrix();\n        var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n        if (totalMatrix) {\n            var topLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.minY]);\n            var topRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.minY]);\n            var bottomLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.maxY]);\n            var bottomRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.maxY]);\n            minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n            maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n        }\n        var attrs = this.attrs;\n        //  shadow  shadow\n        if (attrs.shadowColor) {\n            var _a = attrs.shadowBlur, shadowBlur = _a === void 0 ? 0 : _a, _b = attrs.shadowOffsetX, shadowOffsetX = _b === void 0 ? 0 : _b, _c = attrs.shadowOffsetY, shadowOffsetY = _c === void 0 ? 0 : _c;\n            var shadowLeft = minX - shadowBlur + shadowOffsetX;\n            var shadowRight = maxX + shadowBlur + shadowOffsetX;\n            var shadowTop = minY - shadowBlur + shadowOffsetY;\n            var shadowBottom = maxY + shadowBlur + shadowOffsetY;\n            minX = Math.min(minX, shadowLeft);\n            maxX = Math.max(maxX, shadowRight);\n            minY = Math.min(minY, shadowTop);\n            maxY = Math.max(maxY, shadowBottom);\n        }\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    /**\n     * @protected\n     *  bbox\n     */\n    AbstractShape.prototype.clearCacheBBox = function () {\n        this.set('bbox', null);\n        this.set('canvasBBox', null);\n    };\n    // \n    AbstractShape.prototype.isClipShape = function () {\n        return this.get('isClipShape');\n    };\n    /**\n     * @protected\n     * \n     * @param  {number}  refX  x\n     * @param  {number}  refY  Y\n     * @return {boolean} \n     */\n    AbstractShape.prototype.isInShape = function (refX, refY) {\n        return false;\n    };\n    /**\n     *  BBox \n     *  false imagemarker  BBox \n     * @return {Boolean}  BBox \n     */\n    AbstractShape.prototype.isOnlyHitBox = function () {\n        return false;\n    };\n    //  Shape \n    AbstractShape.prototype.isHit = function (x, y) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        var vec = [x, y, 1];\n        vec = this.invertFromMatrix(vec);\n        var refX = vec[0], refY = vec[1];\n        var inBBox = this._isInBBox(refX, refY);\n        // \n        if (this.isOnlyHitBox()) {\n            return inBBox;\n        }\n        // \n        if (inBBox && !this.isClipped(refX, refY)) {\n            // \n            if (this.isInShape(refX, refY)) {\n                return true;\n            }\n            // \n            if (startArrowShape && startArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n            // \n            if (endArrowShape && endArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return AbstractShape;\n}(Element));\nexport default AbstractShape;\n//# sourceMappingURL=shape.js.map","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import { isEqual, isNumber, isFunction } from '@antv/util';\nimport * as d3Timer from 'd3-timer';\nimport * as d3Ease from 'd3-ease';\nimport { interpolate, interpolateArray } from 'd3-interpolate'; // \nimport * as PathUtil from '../util/path';\nimport { isColorProp, isGradientColor } from '../util/color';\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n *  ratio \n * @param {IElement}  shape    \n * @param {Animation} animation \n * @param {number}    ratio    \n * @return {boolean}  \n */\nfunction _update(shape, animation, ratio) {\n    var cProps = {}; // \n    var fromAttrs = animation.fromAttrs, toAttrs = animation.toAttrs;\n    if (shape.destroyed) {\n        return;\n    }\n    var interf; //  \n    for (var k in toAttrs) {\n        if (!isEqual(fromAttrs[k], toAttrs[k])) {\n            if (k === 'path') {\n                var toPath = toAttrs[k];\n                var fromPath = fromAttrs[k];\n                if (toPath.length > fromPath.length) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]); // \n                    fromPath = PathUtil.parsePathString(fromAttrs[k]); // \n                    fromPath = PathUtil.fillPathByDiff(fromPath, toPath);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                }\n                else if (!animation.pathFormatted) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]);\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                    animation.pathFormatted = true;\n                }\n                cProps[k] = [];\n                for (var i = 0; i < toPath.length; i++) {\n                    var toPathPoint = toPath[i];\n                    var fromPathPoint = fromPath[i];\n                    var cPathPoint = [];\n                    for (var j = 0; j < toPathPoint.length; j++) {\n                        if (isNumber(toPathPoint[j]) && fromPathPoint && isNumber(fromPathPoint[j])) {\n                            interf = interpolate(fromPathPoint[j], toPathPoint[j]);\n                            cPathPoint.push(interf(ratio));\n                        }\n                        else {\n                            cPathPoint.push(toPathPoint[j]);\n                        }\n                    }\n                    cProps[k].push(cPathPoint);\n                }\n            }\n            else if (k === 'matrix') {\n                /*\n                 \n                 TODO:  WebGL \n                 */\n                var matrixFn = interpolateArray(fromAttrs[k] || IDENTITY_MATRIX, toAttrs[k] || IDENTITY_MATRIX);\n                var currentMatrix = matrixFn(ratio);\n                cProps[k] = currentMatrix;\n            }\n            else if (isColorProp(k) && isGradientColor(toAttrs[k])) {\n                cProps[k] = toAttrs[k];\n            }\n            else if (!isFunction(toAttrs[k])) {\n                // \n                interf = interpolate(fromAttrs[k], toAttrs[k]);\n                cProps[k] = interf(ratio);\n            }\n        }\n    }\n    shape.attr(cProps);\n}\n/**\n *  onFrame \n * @param {IElement}  shape    \n * @param {Animation} animation \n * @param {number}    elapsed  ()\n * @return {boolean}  \n */\nfunction update(shape, animation, elapsed) {\n    var startTime = animation.startTime, delay = animation.delay;\n    // \n    if (elapsed < startTime + delay || animation._paused) {\n        return false;\n    }\n    var ratio;\n    var duration = animation.duration;\n    var easing = animation.easing;\n    // \n    elapsed = elapsed - startTime - animation.delay;\n    if (animation.repeat) {\n        //  elapsed > duration ratio \n        ratio = (elapsed % duration) / duration;\n        ratio = d3Ease[easing](ratio);\n    }\n    else {\n        ratio = elapsed / duration;\n        if (ratio < 1) {\n            // \n            ratio = d3Ease[easing](ratio);\n        }\n        else {\n            // \n            if (animation.onFrame) {\n                shape.attr(animation.onFrame(1));\n            }\n            else {\n                shape.attr(animation.toAttrs);\n            }\n            return true;\n        }\n    }\n    if (animation.onFrame) {\n        var attrs = animation.onFrame(ratio);\n        shape.attr(attrs);\n    }\n    else {\n        _update(shape, animation, ratio);\n    }\n    return false;\n}\nvar Timeline = /** @class */ (function () {\n    /**\n     * \n     * @param {}\n     */\n    function Timeline(canvas) {\n        /**\n         * \n         * @type {IElement[]}\n         */\n        this.animators = [];\n        /**\n         * \n         * @type {number}\n         */\n        this.current = 0;\n        /**\n         * \n         * @type {d3Timer.Timer}\n         */\n        this.timer = null;\n        this.canvas = canvas;\n    }\n    /**\n     * \n     */\n    Timeline.prototype.initTimer = function () {\n        var _this = this;\n        var isFinished = false;\n        var shape;\n        var animations;\n        var animation;\n        this.timer = d3Timer.timer(function (elapsed) {\n            _this.current = elapsed;\n            if (_this.animators.length > 0) {\n                for (var i = _this.animators.length - 1; i >= 0; i--) {\n                    shape = _this.animators[i];\n                    if (shape.destroyed) {\n                        // \n                        _this.removeAnimator(i);\n                        continue;\n                    }\n                    if (!shape.isAnimatePaused()) {\n                        animations = shape.get('animations');\n                        for (var j = animations.length - 1; j >= 0; j--) {\n                            animation = animations[j];\n                            isFinished = update(shape, animation, elapsed);\n                            if (isFinished) {\n                                animations.splice(j, 1);\n                                isFinished = false;\n                                if (animation.callback) {\n                                    animation.callback();\n                                }\n                            }\n                        }\n                    }\n                    if (animations.length === 0) {\n                        _this.removeAnimator(i);\n                    }\n                }\n                var autoDraw = _this.canvas.get('autoDraw');\n                //  canvas.draw() \n                if (!autoDraw) {\n                    _this.canvas.draw();\n                }\n            }\n        });\n    };\n    /**\n     * \n     */\n    Timeline.prototype.addAnimator = function (shape) {\n        this.animators.push(shape);\n    };\n    /**\n     * \n     */\n    Timeline.prototype.removeAnimator = function (index) {\n        this.animators.splice(index, 1);\n    };\n    /**\n     * \n     */\n    Timeline.prototype.isAnimating = function () {\n        return !!this.animators.length;\n    };\n    /**\n     * \n     */\n    Timeline.prototype.stop = function () {\n        if (this.timer) {\n            this.timer.stop();\n        }\n    };\n    /**\n     * \n     * @param {boolean} toEnd  stopAnimate \n     */\n    Timeline.prototype.stopAllAnimations = function (toEnd) {\n        if (toEnd === void 0) { toEnd = true; }\n        this.animators.forEach(function (animator) {\n            animator.stopAnimate(toEnd);\n        });\n        this.animators = [];\n        this.canvas.draw();\n    };\n    /**\n     * \n     */\n    Timeline.prototype.getTime = function () {\n        return this.current;\n    };\n    return Timeline;\n}());\nexport default Timeline;\n//# sourceMappingURL=timeline.js.map","export var isColorProp = function (prop) { return ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(prop); };\nexport var isGradientColor = function (val) { return /^[r,R,L,l]{1}[\\s]*\\(/.test(val); };\n//# sourceMappingURL=color.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport GraphEvent from './graph-event';\nimport { each, isParent } from '../util/util';\nvar CLICK_OFFSET = 40;\nvar LEFT_BTN_CODE = 0;\nvar DELEGATION_SPLIT = ':';\nvar EVENTS = [\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'mouseout',\n    'mouseover',\n    'mousemove',\n    'mouseleave',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'dragenter',\n    'dragover',\n    'dragleave',\n    'drop',\n    'contextmenu',\n    'mousewheel',\n];\n// \nfunction hasDelegation(events, type) {\n    for (var key in events) {\n        if (events.hasOwnProperty(key) && key.indexOf(DELEGATION_SPLIT + type) >= 0) {\n            return true;\n        }\n    }\n    return false;\n}\n//  shape  canvas\nfunction emitTargetEvent(target, type, eventObj) {\n    eventObj.name = type;\n    eventObj.target = target;\n    eventObj.currentTarget = target;\n    eventObj.delegateTarget = target;\n    target.emit(type, eventObj);\n}\n// , enter  leave  fromShape  toShape \nfunction bubbleEvent(container, type, eventObj) {\n    if (eventObj.bubbles) {\n        var relativeShape = void 0;\n        var isOverEvent = false;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n            isOverEvent = true;\n        }\n        else if (type === 'mouseleave') {\n            isOverEvent = true;\n            relativeShape = eventObj.toShape;\n        }\n        // canvas  mouseenter mouseleave  canvas \n        if (container.isCanvas() && isOverEvent) {\n            return;\n        }\n        // \n        if (relativeShape && isParent(container, relativeShape)) {\n            // \n            eventObj.bubbles = false;\n            return;\n        }\n        // \n        eventObj.name = type;\n        eventObj.currentTarget = container;\n        eventObj.delegateTarget = container;\n        container.emit(type, eventObj);\n    }\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        var _this = this;\n        // \n        this.draggingShape = null;\n        this.dragging = false;\n        // /touch\n        this.currentShape = null;\n        this.mousedownShape = null;\n        this.mousedownPoint = null;\n        // \n        this._eventCallback = function (ev) {\n            var type = ev.type;\n            _this._triggerEvent(type, ev);\n        };\n        //  document \n        this._onDocumentMove = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                //  canvas \n                if (_this.dragging || _this.currentShape) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    // \n                    if (_this.dragging) {\n                        _this._emitEvent('drag', ev, pointInfo, _this.draggingShape);\n                    }\n                    // \n                    //  mouseleave  bug \n                    // if (this.currentShape) {\n                    //   this._emitEvent('mouseleave', ev, pointInfo, this.currentShape, this.currentShape, null);\n                    //   this.currentShape = null;\n                    // }\n                }\n            }\n        };\n        //  document  dragend\n        this._onDocumentMouseUp = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                //  canvas \n                if (_this.dragging) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    if (_this.draggingShape) {\n                        //  drop \n                        _this._emitEvent('drop', ev, pointInfo, null);\n                    }\n                    _this._emitEvent('dragend', ev, pointInfo, _this.draggingShape);\n                    _this._afterDrag(_this.draggingShape, pointInfo, ev);\n                }\n            }\n        };\n        this.canvas = cfg.canvas;\n    }\n    EventController.prototype.init = function () {\n        this._bindEvents();\n    };\n    // \n    EventController.prototype._bindEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.addEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            //  shape mouse leave \n            // \n            document.addEventListener('mousemove', this._onDocumentMove);\n            // \n            document.addEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    // \n    EventController.prototype._clearEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.removeEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            document.removeEventListener('mousemove', this._onDocumentMove);\n            document.removeEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    EventController.prototype._getEventObj = function (type, event, point, target, fromShape, toShape) {\n        var eventObj = new GraphEvent(type, event);\n        eventObj.fromShape = fromShape;\n        eventObj.toShape = toShape;\n        eventObj.x = point.x;\n        eventObj.y = point.y;\n        eventObj.clientX = point.clientX;\n        eventObj.clientY = point.clientY;\n        eventObj.propagationPath.push(target);\n        // x,ycanvasmatrix\n        return eventObj;\n    };\n    // \n    EventController.prototype._getShape = function (point, ev) {\n        return this.canvas.getShape(point.x, point.y, ev);\n    };\n    // \n    EventController.prototype._getPointInfo = function (ev) {\n        var canvas = this.canvas;\n        var clientPoint = canvas.getClientByEvent(ev);\n        var point = canvas.getPointByEvent(ev);\n        return {\n            x: point.x,\n            y: point.y,\n            clientX: clientPoint.x,\n            clientY: clientPoint.y,\n        };\n    };\n    // \n    EventController.prototype._triggerEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        // \n        var shape = this._getShape(pointInfo, ev);\n        var method = this[\"_on\" + type];\n        var leaveCanvas = false;\n        if (method) {\n            method.call(this, pointInfo, shape, ev);\n        }\n        else {\n            var preShape = this.currentShape;\n            // \n            if (type === 'mouseenter' || type === 'dragenter' || type === 'mouseover') {\n                this._emitEvent(type, ev, pointInfo, null, null, shape); // \n                if (shape) {\n                    this._emitEvent(type, ev, pointInfo, shape, null, shape); // \n                }\n                if (type === 'mouseenter' && this.draggingShape) {\n                    // ,  dragleave\n                    this._emitEvent('dragenter', ev, pointInfo, null);\n                }\n            }\n            else if (type === 'mouseleave' || type === 'dragleave' || type === 'mouseout') {\n                leaveCanvas = true;\n                if (preShape) {\n                    this._emitEvent(type, ev, pointInfo, preShape, preShape, null); // \n                }\n                this._emitEvent(type, ev, pointInfo, null, preShape, null); // \n                if (type === 'mouseleave' && this.draggingShape) {\n                    this._emitEvent('dragleave', ev, pointInfo, null);\n                }\n            }\n            else {\n                this._emitEvent(type, ev, pointInfo, shape, null, null); //  from, to\n            }\n        }\n        if (!leaveCanvas) {\n            this.currentShape = shape;\n        }\n        //  shape  preShape  shape  shape \n        if (shape && !shape.get('destroyed')) {\n            var canvas = this.canvas;\n            var el = canvas.get('el');\n            el.style.cursor = shape.attr('cursor') || canvas.get('cursor');\n        }\n    };\n    // click \n    EventController.prototype._onmousedown = function (pointInfo, shape, event) {\n        //  mousedown  mousedownShape  mousedown \n        if (event.button === LEFT_BTN_CODE) {\n            this.mousedownShape = shape;\n            this.mousedownPoint = pointInfo;\n            this.mousedownTimeStamp = event.timeStamp;\n        }\n        this._emitEvent('mousedown', event, pointInfo, shape, null, null); // mousedown fromShape, toShape\n    };\n    // mouseleave  mouseenter \n    // mouseenter  mouseover \n    EventController.prototype._emitMouseoverEvents = function (event, pointInfo, fromShape, toShape) {\n        var el = this.canvas.get('el');\n        if (fromShape !== toShape) {\n            if (fromShape) {\n                this._emitEvent('mouseout', event, pointInfo, fromShape, fromShape, toShape);\n                this._emitEvent('mouseleave', event, pointInfo, fromShape, fromShape, toShape);\n                //  fromShape \n                if (!toShape || toShape.get('destroyed')) {\n                    el.style.cursor = this.canvas.get('cursor');\n                }\n            }\n            if (toShape) {\n                this._emitEvent('mouseover', event, pointInfo, toShape, fromShape, toShape);\n                this._emitEvent('mouseenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n        }\n    };\n    // dragover  mouseover mousemove\n    EventController.prototype._emitDragoverEvents = function (event, pointInfo, fromShape, toShape, isCanvasEmit) {\n        if (toShape) {\n            if (toShape !== fromShape) {\n                if (fromShape) {\n                    this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n                }\n                this._emitEvent('dragenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n            if (!isCanvasEmit) {\n                this._emitEvent('dragover', event, pointInfo, toShape);\n            }\n        }\n        else if (fromShape) {\n            // TODO:  drag  dragleave  toShape  null\n            // \n            this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n        }\n        if (isCanvasEmit) {\n            this._emitEvent('dragover', event, pointInfo, toShape);\n        }\n    };\n    // drag \n    EventController.prototype._afterDrag = function (draggingShape, pointInfo, event) {\n        if (draggingShape) {\n            draggingShape.set('capture', true); // \n            this.draggingShape = null;\n        }\n        this.dragging = false;\n        // drag  draggingShape \n        var shape = this._getShape(pointInfo, event);\n        //  enterleave \n        if (shape !== draggingShape) {\n            this._emitMouseoverEvents(event, pointInfo, draggingShape, shape);\n        }\n        this.currentShape = shape; //  shape mouseleave \n    };\n    // \n    EventController.prototype._onmouseup = function (pointInfo, shape, event) {\n        // eevent.button === 0  mouseup  click \n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n        if (event.button === LEFT_BTN_CODE) {\n            var draggingShape = this.draggingShape;\n            if (this.dragging) {\n                //  drag \n                if (draggingShape) {\n                    this._emitEvent('drop', event, pointInfo, shape);\n                }\n                this._emitEvent('dragend', event, pointInfo, draggingShape);\n                this._afterDrag(draggingShape, pointInfo, event);\n            }\n            else {\n                this._emitEvent('mouseup', event, pointInfo, shape); //  mouseup  click\n                if (shape === this.mousedownShape) {\n                    this._emitEvent('click', event, pointInfo, shape);\n                }\n                this.mousedownShape = null;\n                this.mousedownPoint = null;\n            }\n        }\n    };\n    //  dragover  mousemove  dragenter, dragleave \n    EventController.prototype._ondragover = function (pointInfo, shape, event) {\n        event.preventDefault(); //  dragover  preventDefault canvas  drop \n        var preShape = this.currentShape;\n        this._emitDragoverEvents(event, pointInfo, preShape, shape, true);\n    };\n    //  mousemove \n    EventController.prototype._onmousemove = function (pointInfo, shape, event) {\n        var canvas = this.canvas;\n        var preShape = this.currentShape;\n        var draggingShape = this.draggingShape;\n        // \n        if (this.dragging) {\n            // \n            if (draggingShape) {\n                //  shape  dragenter, dragleave, dragover  drag \n                this._emitDragoverEvents(event, pointInfo, preShape, shape, false);\n            }\n            //  draggingShape  draggingShape  drag  canvas \n            //  canvas  drag \n            this._emitEvent('drag', event, pointInfo, draggingShape);\n        }\n        else {\n            var mousedownPoint = this.mousedownPoint;\n            if (mousedownPoint) {\n                //  drag \n                var mousedownShape = this.mousedownShape;\n                var now = event.timeStamp;\n                var timeWindow = now - this.mousedownTimeStamp;\n                var dx = mousedownPoint.clientX - pointInfo.clientX;\n                var dy = mousedownPoint.clientY - pointInfo.clientY;\n                var dist = dx * dx + dy * dy;\n                if (timeWindow > 120 || dist > CLICK_OFFSET) {\n                    if (mousedownShape && mousedownShape.get('draggable')) {\n                        //  draggable  shape  drag \n                        draggingShape = this.mousedownShape; //  shape\n                        draggingShape.set('capture', false); //  dragover,dragenter,dragleave,drop\n                        this.draggingShape = draggingShape;\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, draggingShape);\n                        // \n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else if (!mousedownShape && canvas.get('draggable')) {\n                        //  draggable  canvas  drag \n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, null);\n                        // \n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else {\n                        this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                        this._emitEvent('mousemove', event, pointInfo, shape);\n                    }\n                }\n                else {\n                    this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                    this._emitEvent('mousemove', event, pointInfo, shape);\n                }\n            }\n            else {\n                //  mouse over \n                this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                // \n                this._emitEvent('mousemove', event, pointInfo, shape);\n            }\n        }\n    };\n    // \n    EventController.prototype._emitEvent = function (type, event, pointInfo, shape, fromShape, toShape) {\n        var eventObj = this._getEventObj(type, event, pointInfo, shape, fromShape, toShape);\n        //  shape \n        if (shape) {\n            eventObj.shape = shape;\n            //  shape \n            emitTargetEvent(shape, type, eventObj);\n            var parent_1 = shape.getParent();\n            // \n            while (parent_1) {\n                // \n                parent_1.emitDelegation(type, eventObj);\n                // \n                if (!eventObj.propagationStopped) {\n                    bubbleEvent(parent_1, type, eventObj);\n                }\n                eventObj.propagationPath.push(parent_1);\n                parent_1 = parent_1.getParent();\n            }\n        }\n        else {\n            //  shape  canvas \n            var canvas = this.canvas;\n            //  canvas \n            emitTargetEvent(canvas, type, eventObj);\n        }\n    };\n    EventController.prototype.destroy = function () {\n        // \n        this._clearEvents();\n        // \n        this.canvas = null;\n        this.currentShape = null;\n        this.draggingShape = null;\n        this.mousedownPoint = null;\n        this.mousedownShape = null;\n        this.mousedownTimeStamp = null;\n    };\n    return EventController;\n}());\nexport default EventController;\n//# sourceMappingURL=event-contoller.js.map","import { __extends } from \"tslib\";\nimport { detect } from 'detect-browser';\nimport Container from './container';\nimport { isBrowser, isNil, isString } from '../util/util';\nimport Timeline from '../animate/timeline';\nimport EventController from '../event/event-contoller';\nvar PX_SUFFIX = 'px';\nvar browser = detect();\nvar isFirefox = browser && browser.name === 'firefox';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initContainer();\n        _this.initDom();\n        _this.initEvents();\n        _this.initTimeline();\n        return _this;\n    }\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        // set default cursor style for canvas\n        cfg['cursor'] = 'default';\n        // CSS transform \n        cfg['supportCSSTransform'] = false;\n        return cfg;\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (isString(container)) {\n            container = document.getElementById(container);\n            this.set('container', container);\n        }\n    };\n    /**\n     * @protected\n     *  DOM\n     */\n    Canvas.prototype.initDom = function () {\n        var el = this.createDom();\n        this.set('el', el);\n        // \n        var container = this.get('container');\n        container.appendChild(el);\n        // \n        this.setDOMSize(this.get('width'), this.get('height'));\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initEvents = function () {\n        var eventController = new EventController({\n            canvas: this,\n        });\n        eventController.init();\n        this.set('eventController', eventController);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initTimeline = function () {\n        var timeline = new Timeline(this);\n        this.set('timeline', timeline);\n    };\n    /**\n     * @protected\n     *  DOM \n     * @param {number} width  \n     * @param {number} height \n     */\n    Canvas.prototype.setDOMSize = function (width, height) {\n        var el = this.get('el');\n        if (isBrowser) {\n            el.style.width = width + PX_SUFFIX;\n            el.style.height = height + PX_SUFFIX;\n        }\n    };\n    // \n    Canvas.prototype.changeSize = function (width, height) {\n        this.setDOMSize(width, height);\n        this.set('width', width);\n        this.set('height', height);\n        this.onCanvasChange('changeSize');\n    };\n    /**\n     * \n     * @return {Renderer} \n     */\n    Canvas.prototype.getRenderer = function () {\n        return this.get('renderer');\n    };\n    /**\n     *  cursor \n     * @return {Cursor}\n     */\n    Canvas.prototype.getCursor = function () {\n        return this.get('cursor');\n    };\n    /**\n     *  cursor \n     * @param {Cursor} cursor  cursor \n     */\n    Canvas.prototype.setCursor = function (cursor) {\n        this.set('cursor', cursor);\n        var el = this.get('el');\n        if (isBrowser && el) {\n            // \n            el.style.cursor = cursor;\n        }\n    };\n    // \n    Canvas.prototype.getPointByEvent = function (ev) {\n        var supportCSSTransform = this.get('supportCSSTransform');\n        if (supportCSSTransform) {\n            // For Firefox <= 38\n            if (isFirefox && !isNil(ev.layerX) && ev.layerX !== ev.offsetX) {\n                return {\n                    x: ev.layerX,\n                    y: ev.layerY,\n                };\n            }\n            if (!isNil(ev.offsetX)) {\n                // For IE6+, Firefox >= 39, Chrome, Safari, Opera\n                return {\n                    x: ev.offsetX,\n                    y: ev.offsetY,\n                };\n            }\n        }\n        // should calculate by self for other cases, like Safari in ios\n        // TODO: support CSS transform\n        var _a = this.getClientByEvent(ev), clientX = _a.x, clientY = _a.y;\n        return this.getPointByClient(clientX, clientY);\n    };\n    //  touch  clientX  clientY \n    Canvas.prototype.getClientByEvent = function (ev) {\n        var clientInfo = ev;\n        if (ev.touches) {\n            if (ev.type === 'touchend') {\n                clientInfo = ev.changedTouches[0];\n            }\n            else {\n                clientInfo = ev.touches[0];\n            }\n        }\n        return {\n            x: clientInfo.clientX,\n            y: clientInfo.clientY,\n        };\n    };\n    // \n    Canvas.prototype.getPointByClient = function (clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: clientX - bbox.left,\n            y: clientY - bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.getClientByPoint = function (x, y) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: x + bbox.left,\n            y: y + bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.draw = function () { };\n    /**\n     * @protected\n     *  DOM \n     */\n    Canvas.prototype.removeDom = function () {\n        var el = this.get('el');\n        el.parentNode.removeChild(el);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.clearEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.destroy();\n    };\n    Canvas.prototype.isCanvas = function () {\n        return true;\n    };\n    Canvas.prototype.getParent = function () {\n        return null;\n    };\n    Canvas.prototype.destroy = function () {\n        var timeline = this.get('timeline');\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        // \n        if (timeline) {\n            // \n            timeline.stop();\n        }\n        this.clearEvents();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    return Canvas;\n}(Container));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","var cache = new Map();\n/**\n * \n * @param type \n * @param method \n */\nexport function register(type, method) {\n    cache.set(type, method);\n}\n/**\n * \n * @param type \n */\nexport function getMethod(type) {\n    return cache.get(type);\n}\n//# sourceMappingURL=register.js.map","export default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height;\n    return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n    };\n}\n//# sourceMappingURL=rect.js.map","export default function (shape) {\n    var _a = shape.attr(), x = _a.x, y = _a.y, r = _a.r;\n    return {\n        x: x - r,\n        y: y - r,\n        width: r * 2,\n        height: r * 2,\n    };\n}\n//# sourceMappingURL=circle.js.map","function minNum(array) {\n    return Math.min.apply(null, array);\n}\nfunction maxNum(array) {\n    return Math.max.apply(null, array);\n}\n/**\n * \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n * @return {number} \n */\nexport function distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexport function isNumberEqual(v1, v2) {\n    return Math.abs(v1 - v2) < 0.001;\n}\nexport function getBBoxByArray(xArr, yArr) {\n    var minX = minNum(xArr);\n    var minY = minNum(yArr);\n    var maxX = maxNum(xArr);\n    var maxY = maxNum(yArr);\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexport function getBBoxRange(x1, y1, x2, y2) {\n    return {\n        minX: minNum([x1, x2]),\n        maxX: maxNum([x1, x2]),\n        minY: minNum([y1, y2]),\n        maxY: maxNum([y1, y2]),\n    };\n}\nexport function piMod(angle) {\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n//# sourceMappingURL=util.js.map","import line from './line';\nimport { distance, isNumberEqual, getBBoxByArray, piMod } from './util';\nimport { nearestPoint } from './bezier';\n// \nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// \nfunction extrema(p0, p1, p2) {\n    var a = p0 + p2 - 2 * p1;\n    if (isNumberEqual(a, 0)) {\n        return [0.5];\n    }\n    var rst = (p0 - p1) / a;\n    if (rst <= 1 && rst >= 0) {\n        return [rst];\n    }\n    return [];\n}\nfunction derivativeAt(p0, p1, p2, t) {\n    return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n// \nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n    // \n    var xt = quadraticAt(x1, x2, x3, t);\n    var yt = quadraticAt(y1, y2, y3, t);\n    // \n    var controlPoint1 = line.pointAt(x1, y1, x2, y2, t);\n    // \n    var controlPoint2 = line.pointAt(x2, y2, x3, y3, t);\n    return [\n        [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n        [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n    ];\n}\n// \nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n    if (iterationCount === 0) {\n        return (distance(x1, y1, x2, y2) + distance(x2, y2, x3, y3) + distance(x1, y1, x3, y3)) / 2;\n    }\n    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n    var left = quadratics[0];\n    var right = quadratics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return quadraticLength.apply(null, left) + quadraticLength.apply(null, right);\n}\nexport default {\n    box: function (x1, y1, x2, y2, x3, y3) {\n        var xExtrema = extrema(x1, x2, x3)[0];\n        var yExtrema = extrema(y1, y2, y3)[0];\n        //  box \n        var xArr = [x1, x3];\n        var yArr = [y1, y3];\n        if (xExtrema !== undefined) {\n            xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n        }\n        if (yExtrema !== undefined) {\n            yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n        }\n        return getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3) {\n        return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        return nearestPoint([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n        return distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: quadraticAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, t) {\n        return {\n            x: quadraticAt(x1, x2, x3, t),\n            y: quadraticAt(y1, y2, y3, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, t) {\n        return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, t) {\n        var dx = derivativeAt(x1, x2, x3, t);\n        var dy = derivativeAt(y1, y2, y3, t);\n        var angle = Math.atan2(dy, dx);\n        return piMod(angle);\n    },\n};\n//# sourceMappingURL=quadratic.js.map","import { distance, isNumberEqual, getBBoxByArray, piMod } from './util';\nimport line from './line';\nimport { snapLength, nearestPoint } from './bezier';\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t; // t * t * t  Math.pow(t, 3) \n    return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;\n}\nfunction derivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));\n}\nfunction extrema(p0, p1, p2, p3) {\n    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n    var b = 6 * p0 - 12 * p1 + 6 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var extremas = [];\n    var t1;\n    var t2;\n    var discSqrt;\n    if (isNumberEqual(a, 0)) {\n        if (!isNumberEqual(b, 0)) {\n            t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isNumberEqual(disc, 0)) {\n            extremas.push(-b / (2 * a));\n        }\n        else if (disc > 0) {\n            discSqrt = Math.sqrt(disc);\n            t1 = (-b + discSqrt) / (2 * a);\n            t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extremas.push(t2);\n            }\n        }\n    }\n    return extremas;\n}\n// \nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    // \n    var xt = cubicAt(x1, x2, x3, x4, t);\n    var yt = cubicAt(y1, y2, y3, y4, t);\n    // \n    var c1 = line.pointAt(x1, y1, x2, y2, t);\n    var c2 = line.pointAt(x2, y2, x3, y3, t);\n    var c3 = line.pointAt(x3, y3, x4, y4, t);\n    var c12 = line.pointAt(c1.x, c1.y, c2.x, c2.y, t);\n    var c23 = line.pointAt(c2.x, c2.y, c3.x, c3.y, t);\n    return [\n        [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n        [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n    ];\n}\n// \nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n    if (iterationCount === 0) {\n        return snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n    }\n    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n    var left = cubics[0];\n    var right = cubics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return cubicLength.apply(null, left) + cubicLength.apply(null, right);\n}\nexport default {\n    extrema: extrema,\n    box: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        var xArr = [x1, x4];\n        var yArr = [y1, y4];\n        var xExtrema = extrema(x1, x2, x3, x4);\n        var yExtrema = extrema(y1, y2, y3, y4);\n        for (var i = 0; i < xExtrema.length; i++) {\n            xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n        }\n        for (var i = 0; i < yExtrema.length; i++) {\n            yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n        }\n        return getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        //  8 \n        return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n        return nearestPoint([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt, length);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);\n        return distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: cubicAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return {\n            x: cubicAt(x1, x2, x3, x4, t),\n            y: cubicAt(y1, y2, y3, y4, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        var dx = derivativeAt(x1, x2, x3, x4, t);\n        var dy = derivativeAt(y1, y2, y3, y4, t);\n        return piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=cubic.js.map","import { distance, piMod } from './util';\nimport ellipse from './ellipse';\n//  x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.cos(xRotation) * Math.sin(angle) - ry * Math.sin(xRotation) * Math.cos(angle);\n}\n//  y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.sin(xRotation) * Math.sin(angle) + ry * Math.cos(xRotation) * Math.cos(angle);\n}\n// x \nfunction xExtrema(rx, ry, xRotation) {\n    return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n// y \nfunction yExtrema(rx, ry, xRotation) {\n    return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n//  x \nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.cos(xRotation) * Math.cos(angle) - ry * Math.sin(xRotation) * Math.sin(angle) + cx;\n}\n//  y \nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.sin(xRotation) * Math.cos(angle) + ry * Math.cos(xRotation) * Math.sin(angle) + cy;\n}\n// \nfunction getAngle(rx, ry, x0, y0) {\n    var angle = Math.atan2(y0 * rx, x0 * ry);\n    //  0 - 2PI \n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// x,y\nfunction getPoint(rx, ry, angle) {\n    return {\n        x: rx * Math.cos(angle),\n        y: ry * Math.sin(angle),\n    };\n}\n// \nfunction rotate(x, y, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return [x * cos - y * sin, x * sin + y * cos];\n}\nexport default {\n    /**\n     * \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     * @return {object} \n     */\n    box: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n        var xDim = xExtrema(rx, ry, xRotation);\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var xs = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var xAngle = xDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < xAngle && xAngle < endAngle) {\n                    xs.push(xAngle);\n                }\n            }\n            else {\n                if (endAngle < xAngle && xAngle < startAngle) {\n                    xs.push(xAngle);\n                }\n            }\n        }\n        for (var i = 0; i < xs.length; i++) {\n            var x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n            if (x < minX) {\n                minX = x;\n            }\n            if (x > maxX) {\n                maxX = x;\n            }\n        }\n        var yDim = yExtrema(rx, ry, xRotation);\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var ys = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var yAngle = yDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < yAngle && yAngle < endAngle) {\n                    ys.push(yAngle);\n                }\n            }\n            else {\n                if (endAngle < yAngle && yAngle < startAngle) {\n                    ys.push(yAngle);\n                }\n            }\n        }\n        for (var i = 0; i < ys.length; i++) {\n            var y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n            if (y < minY) {\n                minY = y;\n            }\n            if (y > maxY) {\n                maxY = y;\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    },\n    /**\n     * \n     *  rx, ry, startAngle, endAngle \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     */\n    length: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) { },\n    /**\n     * \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     * @param {number} x0          x\n     * @param {number} y0          y\n     * @return {object} \n     */\n    nearestPoint: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        //  0,0 \n        var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n        var x1 = relativeVector[0], y1 = relativeVector[1];\n        // \n        var relativePoint = ellipse.nearestPoint(0, 0, rx, ry, x1, y1);\n        // \n        var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n        // \n        if (angle < startAngle) {\n            // \n            relativePoint = getPoint(rx, ry, startAngle);\n        }\n        else if (angle > endAngle) {\n            // \n            relativePoint = getPoint(rx, ry, endAngle);\n        }\n        //  xRotation \n        var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n        return {\n            x: vector[0] + cx,\n            y: vector[1] + cy,\n        };\n    },\n    pointDistance: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        var nearestPoint = this.nearestPoint(cx, cy, rx, ry, x0, y0);\n        return distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    pointAt: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        return {\n            x: xAt(cx, cy, rx, ry, xRotation, angle),\n            y: yAt(cx, cy, rx, ry, xRotation, angle),\n        };\n    },\n    tangentAngle: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        return piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=arc.js.map","// \nexport function mergeBBox(bbox1, bbox2) {\n    if (!bbox1 || !bbox2) {\n        return bbox1 || bbox2;\n    }\n    return {\n        minX: Math.min(bbox1.minX, bbox2.minX),\n        minY: Math.min(bbox1.minY, bbox2.minY),\n        maxX: Math.max(bbox1.maxX, bbox2.maxX),\n        maxY: Math.max(bbox1.maxY, bbox2.maxY),\n    };\n}\n// \nexport function mergeArrowBBox(shape, bbox) {\n    var startArrowShape = shape.get('startArrowShape');\n    var endArrowShape = shape.get('endArrowShape');\n    var startArrowBBox = null;\n    var endArrowBBox = null;\n    if (startArrowShape) {\n        startArrowBBox = startArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, startArrowBBox);\n    }\n    if (endArrowShape) {\n        endArrowBBox = endArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, endArrowBBox);\n    }\n    return bbox;\n}\n//# sourceMappingURL=util.js.map","import { Util } from '@antv/g-math';\nimport { mergeArrowBBox } from './util';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    var _a = Util.getBBoxByArray(xArr, yArr), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=polyline.js.map","import { Quad as QuadUtil, Cubic as CubicUtil, Arc as EllipseArcUtil } from '@antv/g-math';\nimport { path2Segments } from '@antv/path-util';\nimport { isNumberEqual, max, min } from '@antv/util';\nimport { mergeArrowBBox } from './util';\nfunction getPathBox(segments, lineWidth) {\n    var xArr = [];\n    var yArr = [];\n    var segmentsWithAngle = [];\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint;\n        var box = void 0;\n        switch (segment.command) {\n            case 'Q':\n                box = QuadUtil.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4]);\n                break;\n            case 'C':\n                box = CubicUtil.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6]);\n                break;\n            case 'A':\n                var arcParams = segment.arcParams;\n                box = EllipseArcUtil.box(arcParams.cx, arcParams.cy, arcParams.rx, arcParams.ry, arcParams.xRotation, arcParams.startAngle, arcParams.endAngle);\n                break;\n            default:\n                xArr.push(currentPoint[0]);\n                yArr.push(currentPoint[1]);\n                break;\n        }\n        if (box) {\n            segment.box = box;\n            xArr.push(box.x, box.x + box.width);\n            yArr.push(box.y, box.y + box.height);\n        }\n        if (lineWidth && (segment.command === 'L' || segment.command === 'M') && segment.prePoint && segment.nextPoint) {\n            segmentsWithAngle.push(segment);\n        }\n    }\n    // bbox calculation should ignore NaN for path attribute\n    // ref: https://github.com/antvis/g/issues/210\n    xArr = xArr.filter(function (item) { return !Number.isNaN(item); });\n    yArr = yArr.filter(function (item) { return !Number.isNaN(item); });\n    var minX = min(xArr);\n    var minY = min(yArr);\n    var maxX = max(xArr);\n    var maxY = max(yArr);\n    if (segmentsWithAngle.length === 0) {\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    for (var i = 0; i < segmentsWithAngle.length; i++) {\n        var segment = segmentsWithAngle[i];\n        var currentPoint = segment.currentPoint;\n        var extra = void 0;\n        if (currentPoint[0] === minX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minX = minX - extra.xExtra;\n        }\n        else if (currentPoint[0] === maxX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxX = maxX + extra.xExtra;\n        }\n        if (currentPoint[1] === minY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minY = minY - extra.yExtra;\n        }\n        else if (currentPoint[1] === maxY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxY = maxY + extra.yExtra;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction getExtraFromSegmentWithAngle(segment, lineWidth) {\n    var prePoint = segment.prePoint, currentPoint = segment.currentPoint, nextPoint = segment.nextPoint;\n    var currentAndPre = Math.pow(currentPoint[0] - prePoint[0], 2) + Math.pow(currentPoint[1] - prePoint[1], 2);\n    var currentAndNext = Math.pow(currentPoint[0] - nextPoint[0], 2) + Math.pow(currentPoint[1] - nextPoint[1], 2);\n    var preAndNext = Math.pow(prePoint[0] - nextPoint[0], 2) + Math.pow(prePoint[1] - nextPoint[1], 2);\n    //  currentPoint \n    var currentAngle = Math.acos((currentAndPre + currentAndNext - preAndNext) / (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)));\n    //  0  PI \n    // :  0  0 \n    if (!currentAngle || Math.sin(currentAngle) === 0 || isNumberEqual(currentAngle, 0)) {\n        return {\n            xExtra: 0,\n            yExtra: 0,\n        };\n    }\n    var xAngle = Math.abs(Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]));\n    var yAngle = Math.abs(Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]));\n    // \n    xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n    yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n    // \n    // \n    var extra = {\n        // \n        xExtra: Math.cos(currentAngle / 2 - xAngle) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n        // \n        yExtra: Math.cos(yAngle - currentAngle / 2) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n    };\n    return extra;\n}\nexport default function (shape) {\n    var attrs = shape.attr();\n    var path = attrs.path, stroke = attrs.stroke;\n    var lineWidth = stroke ? attrs.lineWidth : 0; //  stroke lineWidth \n    var segments = shape.get('segments') || path2Segments(path);\n    var _a = getPathBox(segments, lineWidth), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=path.js.map","import { register, getMethod } from './register';\nimport rect from './rect';\nimport circle from './circle';\nimport polyline from './polyline';\nimport polygon from './polygon';\nimport text from './text';\nimport path from './path';\nimport line from './line';\nimport ellipse from './ellipse';\nregister('rect', rect);\nregister('image', rect); // image  rect \nregister('circle', circle);\nregister('marker', circle); // marker  circle \nregister('polyline', polyline);\nregister('polygon', polygon);\nregister('text', text);\nregister('path', path);\nregister('line', line);\nregister('ellipse', ellipse);\nexport { getMethod as getBBoxMethod };\n//# sourceMappingURL=index.js.map","import { Util } from '@antv/g-math';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return Util.getBBoxByArray(xArr, yArr);\n}\n//# sourceMappingURL=polygon.js.map","import { getTextWidth, getTextHeight, assembleFont } from '../util/text';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        //  font\n        font = assembleFont(attrs);\n    }\n    var width = getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // width\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // left,  bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\n//# sourceMappingURL=text.js.map","import { mergeArrowBBox } from './util';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var bbox = {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=line.js.map","export default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, rx = attrs.rx, ry = attrs.ry;\n    return {\n        x: x - rx,\n        y: y - ry,\n        width: rx * 2,\n        height: ry * 2,\n    };\n}\n//# sourceMappingURL=ellipse.js.map","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","let events = {};\nexport function dispatch(key, ...args) {\n  const fns = events[key];\n  fns?.forEach((fn) => {\n    fn.apply(null, args);\n  });\n}\n\nexport function subscribe(key, fn) {\n  events[key] = [...(events[key] || []), fn];\n}\n\nexport function unsubscribe(key, fn) {\n  if (!fn) {\n    delete events[key];\n    return;\n  }\n  if (events[key]) {\n    const index = events[key]?.indexOf(fn);\n    index > -1 && events[key].splice(index, 1);\n  }\n}\n\nexport function unsubscribeAll() {\n  events = {};\n}\n","// event\nexport const SLIDER_PLAY = 'SLIDER_PLAY';\nexport const SLIDER_PAUSE = 'SLIDER_PAUSE';\n\nexport const CONTROL_NEXT = 'CONTROL_NEXT';\nexport const CONTROL_PREV = 'CONTROL_PREV';\n\nexport const RANGE_CHANGE = 'RANGE_CHANGE';\nexport const SPEED_CHANGE = 'SPEED_CHANGE';\n\n// slider\nexport const BACKGROUND_STYLE = {\n  fill: '#416180',\n  opacity: 0.05,\n};\n\nexport const SIMPLE_BACKGROUND_STYLE = {\n  fill: '#416180',\n  opacity: 0.15,\n  radius: 5,\n};\n\nexport const FOREGROUND_STYLE = {\n  fill: '#5B8FF9',\n  opacity: 0.3,\n  cursor: 'grab',\n};\n\nexport const TREND_SLIDER_HEIHGT = 24;\n\nexport const TREND_HANDLER_STYLE = {\n  width: 2,\n  height: 26,\n  fill: '#1890ff',\n  stroke: '#1890ff',\n  opacity: 1,\n  cursor: 'ew-resize',\n  // \n  highLightFill: '#0050b3',\n};\n\nexport const SIMPLE_HANDLE_STYLE = {\n  fill: '#fff',\n  stroke: '#1890ff',\n  radius: 15,\n  opacity: 1,\n  lineWidth: 2,\n  cursor: 'ew-resize',\n};\n\n// sliderTick\nexport const TEXT_STYLE = {\n  textBaseline: 'middle',\n  fill: '#000',\n  opacity: 0.45,\n  fontSize: 12,\n};\n\nexport const TICK_LABEL_STYLE = {\n  fill: '#607889',\n  opacity: 0.35,\n  fontSize: 12,\n  width: 50,\n};\n\nexport const TICK_LINE_STYLE = {\n  width: 1,\n  height: 4,\n  fill: '#ccc',\n};\n\nexport const PROGRESS_TICK = {\n  gap: 2,\n  tickBoxHeight: 18,\n};\n\nexport const PROGRESS_TICK_LINE_STYLE = {\n  height: 4,\n  width: 1,\n  fill: '#BFBFBF',\n};\n\nexport const PROGRESS_TICK_TEXT_STYLE = {\n  fill: '#8c8c8c',\n  fontSize: 10,\n  width: 50,\n};\n\nexport const PROGRESS_TICK_SELECTED_STYLE = {\n  fill: '#5B8FF9',\n};\n\nexport const PROGRESS_TICK_UNSELECTED_STYLE = {\n  fill: '#e6e8e9',\n};\n\nexport const SLIDER_START = 0.1;\nexport const SLIDER_END = 0.9;\n\nexport const DEFAULT_CONTROLLER_CONFIG = {\n  speed: 1,\n  contentWidth: 200,\n  height: 60,\n  fill: '#fff',\n  stroke: '#fff',\n  hideTimeTypeController: false,\n  preBtnStyle: {\n    fill: '#aaa',\n  },\n  nextBtnStyle: {\n    fill: '#aaa',\n  },\n  playBtnStyle: {\n    fill: '#aaa',\n  },\n};\n","import { createSegmentNode } from '@antv/f6-ui';\n\nfunction createControlBtn(which, style) {\n  const { height = 16, fill } = style;\n  const len = height / 2;\n  let html = '';\n  if (which === 'next') {\n    html = `\n      <shape  type='path' path='[\n        [\"M\", 0, ${0 - len}],\n        [\"L\", ${len}, 0],\n        [\"L\", 0, ${len}],\n        [\"Z\", 0, ${0 - len}],\n        [\"M\", 0, 0],\n        [\"L\", ${0 - len}, ${0 - len}],\n        [\"L\", ${0 - len}, ${len}],\n        [\"Z\"]\n      ]'/>  \n    `;\n  }\n\n  if (which === 'prev') {\n    html = `\n      <shape  type='path' path='[\n        [\"M\", 0, ${0 - len}],\n        [\"L\", ${0 - len}, 0],\n        [\"L\", 0, ${0 + len}],\n        [\"L\", 0, ${0 - len}],\n        [\"M\", 0, 0],\n        [\"L\", ${0 + len}, ${0 - len}],\n        [\"L\", ${0 + len}, ${0 + len}],\n        [\"Z\"]\n      ]'/>  \n    `;\n  }\n  const css = `\n    shape {\n      margin-left: ${len};\n      width: ${len};\n      background: ${fill};\n    }\n  `;\n  return createSegmentNode(html, css);\n}\n\nexport default createControlBtn;\n","import { createSegmentNode } from '@antv/f6-ui';\nimport { ShapeStyle } from '@antv/f6-core';\nimport { dispatch } from '../../dispatcher';\nimport { SLIDER_PAUSE, SLIDER_PLAY } from '../../utils/const';\n\nfunction createPlayBtn(style: ShapeStyle) {\n  const { radius = 15, fill } = style || {};\n  // \n  const triH = (radius * Math.sqrt(3)) / 2;\n\n  const html = `\n  <div id='play_Btn'>\n    <shape class=\"start\" type='path' path='[\n      [\"M\", 0 , 0],\n      [\"L\", ${triH} , ${radius / 2}],\n      [\"L\", 0 , ${radius}]\n    ]'/>\n    <div class=\"pause\">\n      <shape class='pause_0' type='rect' />\n      <shape class='pause_1' type='rect' />\n    </div>\n  </div>`;\n  const css = `\n    #play_Btn {\n      width: ${radius * 2};\n      height: ${radius * 2};\n      background: #fff;\n      border: 1 solid ${fill};\n      border-radius: ${radius};\n    }\n    .start{\n      position: absolute;\n      top: ${radius / 2};\n      left: ${radius - triH / 2 + 1} ;\n      background: ${fill};\n      width: ${radius};\n      height: ${radius};\n    }\n    .pause {\n      display: none;\n    }\n    .pause shape {\n      position: absolute;\n      background: ${fill};\n      width: ${radius / 4};\n      height: ${radius};\n    }\n    .pause_1 {\n      left: ${(4 * radius) / 8};\n    }\n    .pause {\n      position: absolute;\n      top: ${radius / 2};\n      left: ${(5 * radius) / 8};\n    }\n  `;\n  const node = createSegmentNode(html, css);\n  const startNode = node.query('.start');\n  const pauseNode = node.query('.pause');\n\n  let isPause = true;\n  function update() {\n    startNode.setStyle('display', isPause ? 'flex' : 'none');\n    pauseNode.setStyle('display', isPause ? 'none' : 'flex');\n  }\n\n  update();\n\n  node.on('tap', () => {\n    dispatch(isPause ? SLIDER_PLAY : SLIDER_PAUSE);\n    isPause = !isPause;\n    update();\n  });\n  return node;\n}\n\nexport default createPlayBtn;\n","import { createSegmentNode } from '@antv/f6-ui';\nimport { dispatch } from '../../dispatcher';\nimport { ControllerCfg } from '../../type/control-bar';\nimport {\n  CONTROL_NEXT,\n  CONTROL_PREV,\n  DEFAULT_CONTROLLER_CONFIG,\n  SPEED_CHANGE,\n} from '../../utils/const';\nimport createControlBtn from './control-btn';\nimport createPlayBtn from './play-btn';\nimport { deepMix } from '@antv/util';\n\nfunction createControlbar(option: ControllerCfg) {\n  const mixOption: ControllerCfg = deepMix({}, DEFAULT_CONTROLLER_CONFIG, option);\n  const {\n    wrapperWidth,\n    contentWidth,\n    height,\n    fill,\n    stroke,\n    nextBtnStyle,\n    preBtnStyle,\n    playBtnStyle,\n    speed,\n  } = mixOption;\n\n  const html = `\n    <div class='wrapper'>\n      <div class='content'> \n\n      </div>\n    </div>\n  `;\n  const css = `\n    .wrapper {\n      display: flex;\n      width: ${wrapperWidth};\n      height: ${height};\n      flex-wrap: nowrap;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      background: ${fill};\n      ${stroke ? `border: 1 solid ${stroke};` : ''}\n    }\n    .content{\n      display: flex;\n      width: ${contentWidth};\n      flex-wrap: nowrap;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      background-opacity: 0;\n    }\n`;\n  const uiTree = createSegmentNode(html, css);\n  const nextBtn = createControlBtn('next', nextBtnStyle);\n  const prevBtn = createControlBtn('prev', preBtnStyle);\n  const playBtn = createPlayBtn(playBtnStyle);\n\n  dispatch(SPEED_CHANGE, speed);\n\n  nextBtn.on('tap', () => {\n    dispatch(CONTROL_NEXT);\n  });\n  prevBtn.on('tap', () => {\n    dispatch(CONTROL_PREV);\n  });\n  uiTree.query('.content').appendChild(prevBtn, playBtn, nextBtn);\n\n  return uiTree;\n}\n\nexport default createControlbar;\n","export function createPlayer(fn, time = 20) {\n  let isStop = true;\n  let timer = null;\n  let maxTime = 800;\n  let minTime = 300;\n\n  let maxLevel = 10;\n  let minLevel = 1;\n\n  const loop = function () {\n    if (isStop) {\n      clearTimeout(timer);\n      return;\n    }\n    fn?.();\n    timer = setTimeout(() => {\n      loop();\n    }, time);\n  };\n  return {\n    play() {\n      isStop = false;\n      loop();\n    },\n    stop() {\n      isStop = true;\n    },\n    setSpeed(speed) {\n      if (speed > maxLevel) speed = maxLevel;\n      if (speed < minLevel) speed = minLevel;\n      time = maxTime - ((maxTime - minTime) * speed) / (maxLevel - minLevel);\n    },\n  };\n}\n","var methodCache = {};\n/**\n *  ticks \n * @param key \n * @returns  ticks \n */\nexport function getTickMethod(key) {\n    return methodCache[key];\n}\n/**\n *  ticks \n * @param key \n * @param method \n */\nexport function registerTickMethod(key, method) {\n    methodCache[key] = method;\n}\n//# sourceMappingURL=register.js.map","import { assign, isEmpty, isFunction, isNil, isNumber, isObject, isString, map } from '@antv/util';\nimport { getTickMethod } from './tick-method/register';\nvar Scale = /** @class */ (function () {\n    function Scale(cfg) {\n        /**\n         * \n         */\n        this.type = 'base';\n        /**\n         * \n         */\n        this.isCategory = false;\n        /**\n         * linear, time \n         */\n        this.isLinear = false;\n        /**\n         * linear,time,log, pow, quantile, quantize \n         */\n        this.isContinuous = false;\n        /**\n         * \n         */\n        this.isIdentity = false;\n        this.values = [];\n        this.range = [0, 1];\n        this.ticks = [];\n        this.__cfg__ = cfg;\n        this.initCfg();\n        this.init();\n    }\n    // transform/map\n    Scale.prototype.translate = function (v) {\n        return v;\n    };\n    /**  */\n    Scale.prototype.change = function (cfg) {\n        // \n        assign(this.__cfg__, cfg);\n        this.init();\n    };\n    Scale.prototype.clone = function () {\n        return this.constructor(this.__cfg__);\n    };\n    /** ticks */\n    Scale.prototype.getTicks = function () {\n        var _this = this;\n        return map(this.ticks, function (tick, idx) {\n            if (isObject(tick)) {\n                // Tick\n                return tick;\n            }\n            return {\n                text: _this.getText(tick, idx),\n                tickValue: tick,\n                value: _this.scale(tick),\n            };\n        });\n    };\n    /** Tick */\n    Scale.prototype.getText = function (value, key) {\n        var formatter = this.formatter;\n        var res = formatter ? formatter(value, key) : value;\n        if (isNil(res) || !isFunction(res.toString)) {\n            return '';\n        }\n        return res.toString();\n    };\n    //  scale \n    Scale.prototype.getConfig = function (key) {\n        return this.__cfg__[key];\n    };\n    // scale\n    Scale.prototype.init = function () {\n        assign(this, this.__cfg__);\n        this.setDomain();\n        if (isEmpty(this.getConfig('ticks'))) {\n            this.ticks = this.calculateTicks();\n        }\n    };\n    // \n    Scale.prototype.initCfg = function () { };\n    Scale.prototype.setDomain = function () { };\n    Scale.prototype.calculateTicks = function () {\n        var tickMethod = this.tickMethod;\n        var ticks = [];\n        if (isString(tickMethod)) {\n            var method = getTickMethod(tickMethod);\n            if (!method) {\n                throw new Error('There is no method to to calculate ticks!');\n            }\n            ticks = method(this);\n        }\n        else if (isFunction(tickMethod)) {\n            ticks = tickMethod(this);\n        }\n        return ticks;\n    };\n    // range \n    Scale.prototype.rangeMin = function () {\n        return this.range[0];\n    };\n    // range \n    Scale.prototype.rangeMax = function () {\n        return this.range[1];\n    };\n    /**  0~1 */\n    Scale.prototype.calcPercent = function (value, min, max) {\n        if (isNumber(value)) {\n            return (value - min) / (max - min);\n        }\n        return NaN;\n    };\n    /** 0~1 */\n    Scale.prototype.calcValue = function (percent, min, max) {\n        return min + percent * (max - min);\n    };\n    return Scale;\n}());\nexport default Scale;\n//# sourceMappingURL=base.js.map","import { __extends, __spreadArrays } from \"tslib\";\nimport { isNil, isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * \n * @class\n */\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'cat';\n        _this.isCategory = true;\n        return _this;\n    }\n    Category.prototype.buildIndexMap = function () {\n        if (!this.translateIndexMap) {\n            this.translateIndexMap = new Map();\n            // \n            for (var i = 0; i < this.values.length; i++) {\n                this.translateIndexMap.set(this.values[i], i);\n            }\n        }\n    };\n    Category.prototype.translate = function (value) {\n        //  map\n        this.buildIndexMap();\n        // \n        var idx = this.translateIndexMap.get(value);\n        if (idx === undefined) {\n            idx = isNumber(value) ? value : NaN;\n        }\n        return idx;\n    };\n    Category.prototype.scale = function (value) {\n        var order = this.translate(value);\n        //  0.5 \n        // if (order < this.min - 0.5 || order > this.max + 0.5) {\n        //   return NaN;\n        // }\n        var percent = this.calcPercent(order, this.min, this.max);\n        return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n    };\n    Category.prototype.invert = function (scaledValue) {\n        var domainRange = this.max - this.min;\n        var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n        var idx = Math.round(domainRange * percent) + this.min;\n        if (idx < this.min || idx > this.max) {\n            return NaN;\n        }\n        return this.values[idx];\n    };\n    Category.prototype.getText = function (value) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var v = value;\n        // valueindex\n        if (isNumber(value) && !this.values.includes(value)) {\n            v = this.values[v];\n        }\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n    };\n    // \n    Category.prototype.initCfg = function () {\n        this.tickMethod = 'cat';\n    };\n    //  min, max\n    Category.prototype.setDomain = function () {\n        //  min\n        if (isNil(this.getConfig('min'))) {\n            this.min = 0;\n        }\n        if (isNil(this.getConfig('max'))) {\n            var size = this.values.length;\n            this.max = size > 1 ? size - 1 : size;\n        }\n        // scale.init \n        if (this.translateIndexMap) {\n            this.translateIndexMap = undefined;\n        }\n    };\n    return Category;\n}(Base));\nexport default Category;\n//# sourceMappingURL=base.js.map","const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"[1-9]\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  const dateWithoutTZ: Date = new Date(\n    dateInfo.year,\n    dateInfo.month,\n    dateInfo.day,\n    dateInfo.hour,\n    dateInfo.minute,\n    dateInfo.second,\n    dateInfo.millisecond\n  );\n\n  const validateFields: [\n    \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n    \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n  ][] = [\n    [\"month\", \"getMonth\"],\n    [\"day\", \"getDate\"],\n    [\"hour\", \"getHours\"],\n    [\"minute\", \"getMinutes\"],\n    [\"second\", \"getSeconds\"]\n  ];\n  for (let i = 0, len = validateFields.length; i < len; i++) {\n    // Check to make sure the date field is within the allowed range. Javascript dates allows values\n    // outside the allowed range. If the values don't match the value was invalid\n    if (\n      specifiedFields[validateFields[i][0]] &&\n      dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()\n    ) {\n      return null;\n    }\n  }\n\n  if (dateInfo.timezoneOffset == null) {\n    return dateWithoutTZ;\n  }\n\n  return new Date(\n    Date.UTC(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute - dateInfo.timezoneOffset,\n      dateInfo.second,\n      dateInfo.millisecond\n    )\n  );\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n","import { isDate, isString, last } from '@antv/util';\nimport fecha from 'fecha';\nimport * as fecha1 from 'fecha';\nimport bisector from './bisector';\nvar FORMAT_METHOD = 'format';\nexport function timeFormat(time, mask) {\n    var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n    return method(time, mask);\n}\n/**\n * \n * @param value \n */\nexport function toTimeStamp(value) {\n    if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n            value = new Date(value).getTime();\n        }\n        else {\n            // new Date('2010/01/10')  new Date('2010-01-10') :\n            // : Fri Jan 10 2020 02:40:13 GMT+0800 ()\n            //  Sun Jan 10 2010 08:00:00 GMT+0800 ()\n            value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n    }\n    if (isDate(value)) {\n        value = value.getTime();\n    }\n    return value;\n}\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = DAY * 31;\nvar YEAR = DAY * 365;\nexport { SECOND, MINUTE, HOUR, DAY, MONTH, YEAR };\nvar intervals = [\n    ['HH:mm:ss', SECOND],\n    ['HH:mm:ss', SECOND * 10],\n    ['HH:mm:ss', SECOND * 30],\n    ['HH:mm', MINUTE],\n    ['HH:mm', MINUTE * 10],\n    ['HH:mm', MINUTE * 30],\n    ['HH', HOUR],\n    ['HH', HOUR * 6],\n    ['HH', HOUR * 12],\n    ['YYYY-MM-DD', DAY],\n    ['YYYY-MM-DD', DAY * 4],\n    ['YYYY-WW', DAY * 7],\n    ['YYYY-MM', MONTH],\n    ['YYYY-MM', MONTH * 4],\n    ['YYYY-MM', MONTH * 6],\n    ['YYYY', DAY * 380],\n];\nexport function getTickInterval(min, max, tickCount) {\n    var target = (max - min) / tickCount;\n    var idx = bisector(function (o) { return o[1]; })(intervals, target) - 1;\n    var interval = intervals[idx];\n    if (idx < 0) {\n        interval = intervals[0];\n    }\n    else if (idx >= intervals.length) {\n        interval = last(intervals);\n    }\n    return interval;\n}\n//# sourceMappingURL=time.js.map","import { isNil } from '@antv/util';\n/**\n * \n * https://github.com/d3/d3-array/blob/master/src/bisector.js\n */\nexport default function (getter) {\n    /**\n     * x: \n     * lo: \n     * hi: \n     */\n    return function (a, x, _lo, _hi) {\n        var lo = isNil(_lo) ? 0 : _lo;\n        var hi = isNil(_hi) ? a.length : _hi;\n        while (lo < hi) {\n            var mid = (lo + hi) >>> 1;\n            if (getter(a[mid]) > x) {\n                hi = mid;\n            }\n            else {\n                lo = mid + 1;\n            }\n        }\n        return lo;\n    };\n}\n//# sourceMappingURL=bisector.js.map","import { __extends } from \"tslib\";\nimport { each, isNumber } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Category from './base';\n/**\n * \n * @class\n */\nvar TimeCat = /** @class */ (function (_super) {\n    __extends(TimeCat, _super);\n    function TimeCat() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'timeCat';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    TimeCat.prototype.translate = function (value) {\n        value = toTimeStamp(value);\n        var index = this.values.indexOf(value);\n        if (index === -1) {\n            if (isNumber(value) && value < this.values.length) {\n                index = value;\n            }\n            else {\n                index = NaN;\n            }\n        }\n        return index;\n    };\n    /**\n     *  getText\n     * @override\n     */\n    TimeCat.prototype.getText = function (value, tickIndex) {\n        var index = this.translate(value);\n        if (index > -1) {\n            var result = this.values[index];\n            var formatter = this.formatter;\n            result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n            return result;\n        }\n        return value;\n    };\n    TimeCat.prototype.initCfg = function () {\n        this.tickMethod = 'time-cat';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7; //  7 14 30 \n    };\n    TimeCat.prototype.setDomain = function () {\n        var values = this.values;\n        // \n        each(values, function (v, i) {\n            values[i] = toTimeStamp(v);\n        });\n        values.sort(function (v1, v2) {\n            return v1 - v2;\n        });\n        _super.prototype.setDomain.call(this);\n    };\n    return TimeCat;\n}(Category));\nexport default TimeCat;\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { filter, getRange, head, isNil, last } from '@antv/util';\nimport Base from '../base';\n/**\n * \n * @class\n */\nvar Continuous = /** @class */ (function (_super) {\n    __extends(Continuous, _super);\n    function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContinuous = true;\n        return _this;\n    }\n    Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n            return NaN;\n        }\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return rangeMin;\n        }\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n    };\n    Continuous.prototype.init = function () {\n        _super.prototype.init.call(this);\n        // init  min, max  ticks \n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n        if (firstTick < this.min) {\n            this.min = firstTick;\n        }\n        if (lastTick > this.max) {\n            this.max = lastTick;\n        }\n        // strict-limit \n        if (!isNil(this.minLimit)) {\n            this.min = firstTick;\n        }\n        if (!isNil(this.maxLimit)) {\n            this.max = lastTick;\n        }\n    };\n    Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values), min = _a.min, max = _a.max;\n        if (isNil(this.min)) {\n            this.min = min;\n        }\n        if (isNil(this.max)) {\n            this.max = max;\n        }\n        if (this.min > this.max) {\n            this.min = min;\n            this.max = max;\n        }\n    };\n    Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) {\n            ticks = filter(ticks, function (tick) {\n                return tick >= _this.min && tick <= _this.max;\n            });\n        }\n        return ticks;\n    };\n    // \n    Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n    };\n    Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n    };\n    return Continuous;\n}(Base));\nexport default Continuous;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Continuous from './base';\n/**\n * \n * @class\n */\nvar Linear = /** @class */ (function (_super) {\n    __extends(Linear, _super);\n    function Linear() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'linear';\n        _this.isLinear = true;\n        return _this;\n    }\n    Linear.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        return this.min + percent * (this.max - this.min);\n    };\n    Linear.prototype.initCfg = function () {\n        this.tickMethod = 'wilkinson-extended';\n        this.nice = false;\n    };\n    return Linear;\n}(Continuous));\nexport default Linear;\n//# sourceMappingURL=linear.js.map","import { each, isNil } from '@antv/util';\n// ab x^^a = b;x\n//  b  \nexport function calBase(a, b) {\n    var e = Math.E;\n    var value;\n    if (b >= 0) {\n        value = Math.pow(e, Math.log(b) / a); // \n    }\n    else {\n        value = Math.pow(e, Math.log(-b) / a) * -1; // \n    }\n    return value;\n}\nexport function log(a, b) {\n    if (a === 1) {\n        return 1;\n    }\n    return Math.log(b) / Math.log(a);\n}\nexport function getLogPositiveMin(values, base, max) {\n    if (isNil(max)) {\n        max = Math.max.apply(null, values);\n    }\n    var positiveMin = max;\n    each(values, function (value) {\n        if (value > 0 && value < positiveMin) {\n            positiveMin = value;\n        }\n    });\n    if (positiveMin === max) {\n        positiveMin = max / base;\n    }\n    if (positiveMin > 1) {\n        positiveMin = 1;\n    }\n    return positiveMin;\n}\nfunction digitLength(num) {\n    // Get digit length of e\n    var eSplit = num.toString().split(/[eE]/);\n    var len = (eSplit[0].split('.')[1] || '').length - +(eSplit[1] || 0);\n    return len > 0 ? len : 0;\n}\n/**\n *  0.1 + 0.2 !== 0.3 \n *\n * @param num1 \n * @param num2 \n * @return {number} \n */\nexport function precisionAdd(num1, num2) {\n    var num1Digits = digitLength(num1);\n    var num2Digits = digitLength(num2);\n    var baseNum = Math.pow(10, Math.max(num1Digits, num2Digits));\n    return (num1 * baseNum + num2 * baseNum) / baseNum;\n}\n//# sourceMappingURL=math.js.map","import { __extends } from \"tslib\";\nimport { getLogPositiveMin, log } from '../util/math';\nimport Continuous from './base';\n/**\n * Log \n */\nvar Log = /** @class */ (function (_super) {\n    __extends(Log, _super);\n    function Log() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'log';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Log.prototype.invert = function (value) {\n        var base = this.base;\n        var max = log(base, this.max);\n        var rangeMin = this.rangeMin();\n        var range = this.rangeMax() - rangeMin;\n        var min;\n        var positiveMin = this.positiveMin;\n        if (positiveMin) {\n            if (value === 0) {\n                return 0;\n            }\n            min = log(base, positiveMin / base);\n            var appendPercent = (1 / (max - min)) * range; // 0  positiveMin\n            if (value < appendPercent) {\n                //  0 - positiveMin \n                return (value / appendPercent) * positiveMin;\n            }\n        }\n        else {\n            min = log(base, this.min);\n        }\n        var percent = (value - rangeMin) / range;\n        var tmp = percent * (max - min) + min;\n        return Math.pow(base, tmp);\n    };\n    Log.prototype.initCfg = function () {\n        this.tickMethod = 'log';\n        this.base = 10;\n        this.tickCount = 6;\n        this.nice = true;\n    };\n    // \n    Log.prototype.setDomain = function () {\n        _super.prototype.setDomain.call(this);\n        var min = this.min;\n        if (min < 0) {\n            throw new Error('When you use log scale, the minimum value must be greater than zero!');\n        }\n        if (min === 0) {\n            this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n        }\n    };\n    // \n    Log.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return 0;\n        }\n        // 00\n        if (value <= 0) {\n            return 0;\n        }\n        var base = this.base;\n        var positiveMin = this.positiveMin;\n        // min == 0, 0tick0\n        if (positiveMin) {\n            min = (positiveMin * 1) / base;\n        }\n        var percent;\n        //  value /  \n        if (value < positiveMin) {\n            percent = value / positiveMin / (log(base, max) - log(base, min));\n        }\n        else {\n            percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n        }\n        return percent;\n    };\n    return Log;\n}(Continuous));\nexport default Log;\n//# sourceMappingURL=log.js.map","import { __extends } from \"tslib\";\nimport { calBase } from '../util/math';\nimport Continuous from './base';\n/**\n * Pow \n */\nvar Pow = /** @class */ (function (_super) {\n    __extends(Pow, _super);\n    function Pow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'pow';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Pow.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        var exponent = this.exponent;\n        var max = calBase(exponent, this.max);\n        var min = calBase(exponent, this.min);\n        var tmp = percent * (max - min) + min;\n        var factor = tmp >= 0 ? 1 : -1;\n        return Math.pow(tmp, exponent) * factor;\n    };\n    Pow.prototype.initCfg = function () {\n        this.tickMethod = 'pow';\n        this.exponent = 2;\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    // value\n    Pow.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return 0;\n        }\n        var exponent = this.exponent;\n        var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n        return percent;\n    };\n    return Pow;\n}(Continuous));\nexport default Pow;\n//# sourceMappingURL=pow.js.map","import { __extends } from \"tslib\";\nimport { each, isDate, isNil, isNumber, isString } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Linear from './linear';\n/**\n * \n * @class\n */\nvar Time = /** @class */ (function (_super) {\n    __extends(Time, _super);\n    function Time() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'time';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Time.prototype.getText = function (value, index) {\n        var numberValue = this.translate(value);\n        var formatter = this.formatter;\n        return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n    };\n    /**\n     * @override\n     */\n    Time.prototype.scale = function (value) {\n        var v = value;\n        if (isString(v) || isDate(v)) {\n            v = this.translate(v);\n        }\n        return _super.prototype.scale.call(this, v);\n    };\n    /**\n     * \n     * @override\n     */\n    Time.prototype.translate = function (v) {\n        return toTimeStamp(v);\n    };\n    Time.prototype.initCfg = function () {\n        this.tickMethod = 'time-pretty';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7;\n        this.nice = false;\n    };\n    Time.prototype.setDomain = function () {\n        var values = this.values;\n        //  min, max this.min, this.max\n        var minConfig = this.getConfig('min');\n        var maxConfig = this.getConfig('max');\n        //  min,max \n        if (!isNil(minConfig) || !isNumber(minConfig)) {\n            this.min = this.translate(this.min);\n        }\n        if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n            this.max = this.translate(this.max);\n        }\n        //  min, max \n        if (values && values.length) {\n            // \n            var timeStamps_1 = [];\n            var min_1 = Infinity; // \n            var secondMin_1 = min_1; // \n            var max_1 = 0;\n            // min,max,secondMin\n            each(values, function (v) {\n                var timeStamp = toTimeStamp(v);\n                if (isNaN(timeStamp)) {\n                    throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n                }\n                if (min_1 > timeStamp) {\n                    secondMin_1 = min_1;\n                    min_1 = timeStamp;\n                }\n                else if (secondMin_1 > timeStamp) {\n                    secondMin_1 = timeStamp;\n                }\n                if (max_1 < timeStamp) {\n                    max_1 = timeStamp;\n                }\n                timeStamps_1.push(timeStamp);\n            });\n            // \n            if (values.length > 1) {\n                this.minTickInterval = secondMin_1 - min_1;\n            }\n            if (isNil(minConfig)) {\n                this.min = min_1;\n            }\n            if (isNil(maxConfig)) {\n                this.max = max_1;\n            }\n        }\n    };\n    return Time;\n}(Linear));\nexport default Time;\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { each, head, last } from '@antv/util';\nimport Continuous from './base';\n/**\n * \n */\nvar Quantize = /** @class */ (function (_super) {\n    __extends(Quantize, _super);\n    function Quantize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'quantize';\n        return _this;\n    }\n    Quantize.prototype.invert = function (value) {\n        var ticks = this.ticks;\n        var length = ticks.length;\n        var percent = this.getInvertPercent(value);\n        var minIndex = Math.floor(percent * (length - 1));\n        // \n        if (minIndex >= length - 1) {\n            return last(ticks);\n        }\n        //  \n        if (minIndex < 0) {\n            return head(ticks);\n        }\n        var minTick = ticks[minIndex];\n        var nextTick = ticks[minIndex + 1];\n        //  tick \n        var minIndexPercent = minIndex / (length - 1);\n        var maxIndexPercent = (minIndex + 1) / (length - 1);\n        return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n    };\n    Quantize.prototype.initCfg = function () {\n        this.tickMethod = 'r-pretty';\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    Quantize.prototype.calculateTicks = function () {\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) { //  nice = false , min, max\n            if (last(ticks) !== this.max) {\n                ticks.push(this.max);\n            }\n            if (head(ticks) !== this.min) {\n                ticks.unshift(this.min);\n            }\n        }\n        return ticks;\n    };\n    // \n    Quantize.prototype.getScalePercent = function (value) {\n        var ticks = this.ticks;\n        // \n        if (value < head(ticks)) {\n            return 0;\n        }\n        // \n        if (value > last(ticks)) {\n            return 1;\n        }\n        var minIndex = 0;\n        each(ticks, function (tick, index) {\n            if (value >= tick) {\n                minIndex = index;\n            }\n            else {\n                return false;\n            }\n        });\n        return minIndex / (ticks.length - 1);\n    };\n    return Quantize;\n}(Continuous));\nexport default Quantize;\n//# sourceMappingURL=quantize.js.map","import { __extends } from \"tslib\";\nimport Quantize from './quantize';\nvar Quantile = /** @class */ (function (_super) {\n    __extends(Quantile, _super);\n    function Quantile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'quantile';\n        return _this;\n    }\n    Quantile.prototype.initCfg = function () {\n        this.tickMethod = 'quantile';\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    return Quantile;\n}(Quantize));\nexport default Quantile;\n//# sourceMappingURL=quantile.js.map","import Scale from './base';\nvar map = {};\nfunction getClass(key) {\n    return map[key];\n}\nfunction registerClass(key, cls) {\n    if (getClass(key)) {\n        throw new Error(\"type '\" + key + \"' existed.\");\n    }\n    map[key] = cls;\n}\nexport { Scale, getClass as getScale, registerClass as registerScale };\n//# sourceMappingURL=factory.js.map","import { __extends } from \"tslib\";\nimport { isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * identity scalescale/invert\n * Rhttps://github.com/r-lib/scales/blob/master/R/pal-identity.r\n * d3https://github.com/d3/d3-scale/blob/master/src/identity.js\n */\nvar Identity = /** @class */ (function (_super) {\n    __extends(Identity, _super);\n    function Identity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'identity';\n        _this.isIdentity = true;\n        return _this;\n    }\n    Identity.prototype.calculateTicks = function () {\n        return this.values;\n    };\n    Identity.prototype.scale = function (value) {\n        //  identity  dodge\n        if (this.values[0] !== value && isNumber(value)) {\n            return value;\n        }\n        return this.range[0];\n    };\n    Identity.prototype.invert = function (value) {\n        var range = this.range;\n        if (value < range[0] || value > range[1]) {\n            return NaN;\n        }\n        return this.values[0];\n    };\n    return Identity;\n}(Base));\nexport default Identity;\n//# sourceMappingURL=index.js.map","import { head, indexOf, size, last } from '@antv/util';\nimport { precisionAdd } from './math';\nexport var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport var ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100;\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n    var n = size(Q);\n    var i = indexOf(Q, q);\n    var v = 0;\n    var m = mod(lmin, lstep);\n    if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n    }\n    return 1 - i / (n - 1) - j + v;\n}\nfunction simplicityMax(q, Q, j) {\n    var n = size(Q);\n    var i = indexOf(Q, q);\n    var v = 1;\n    return 1 - i / (n - 1) - j + v;\n}\nfunction density(k, m, dMin, dMax, lMin, lMax) {\n    var r = (k - 1) / (lMax - lMin);\n    var rt = (m - 1) / (Math.max(lMax, dMax) - Math.min(dMin, lMin));\n    return 2 - Math.max(r / rt, rt / r);\n}\nfunction densityMax(k, m) {\n    if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n    }\n    return 1;\n}\nfunction coverage(dMin, dMax, lMin, lMax) {\n    var range = dMax - dMin;\n    return 1 - (0.5 * (Math.pow((dMax - lMax), 2) + Math.pow((dMin - lMin), 2))) / Math.pow((0.1 * range), 2);\n}\nfunction coverageMax(dMin, dMax, span) {\n    var range = dMax - dMin;\n    if (span > range) {\n        var half = (span - range) / 2;\n        return 1 - Math.pow(half, 2) / Math.pow((0.1 * range), 2);\n    }\n    return 1;\n}\nfunction legibility() {\n    return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dMin \n * @param dMax \n * @param m tick\n * @param onlyLoose minmax[3, 97]\n * @param Q nice numbers\n * @param w \n */\nexport default function extended(dMin, dMax, m, onlyLoose, Q, w) {\n    if (m === void 0) { m = 5; }\n    if (onlyLoose === void 0) { onlyLoose = true; }\n    if (Q === void 0) { Q = DEFAULT_Q; }\n    if (w === void 0) { w = [0.25, 0.2, 0.5, 0.05]; }\n    // nan \n    if (Number.isNaN(dMin) || Number.isNaN(dMax) || typeof dMin !== 'number' || typeof dMax !== 'number' || !m) {\n        return {\n            min: 0,\n            max: 0,\n            ticks: [],\n        };\n    }\n    // js  1e-15 \n    if (dMax - dMin < 1e-15 || m === 1) {\n        return {\n            min: dMin,\n            max: dMax,\n            ticks: [dMin],\n        };\n    }\n    var best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0,\n    };\n    var j = 1;\n    while (j < Infinity) {\n        for (var i_1 = 0; i_1 < Q.length; i_1 += 1) {\n            var q = Q[i_1];\n            var sm = simplicityMax(q, Q, j);\n            if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n                j = Infinity;\n                break;\n            }\n            var k = 2;\n            while (k < Infinity) {\n                var dm = densityMax(k, m);\n                if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n                    break;\n                }\n                var delta = (dMax - dMin) / (k + 1) / j / q;\n                var z = Math.ceil(Math.log10(delta));\n                while (z < Infinity) {\n                    var step = j * q * Math.pow(10, z);\n                    var cm = coverageMax(dMin, dMax, step * (k - 1));\n                    if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                        break;\n                    }\n                    var minStart = Math.floor(dMax / step) * j - (k - 1) * j;\n                    var maxStart = Math.ceil(dMin / step) * j;\n                    if (minStart > maxStart) {\n                        z += 1;\n                        // eslint-disable-next-line no-continue\n                        continue;\n                    }\n                    for (var start = minStart; start <= maxStart; start += 1) {\n                        var lMin = start * (step / j);\n                        var lMax = lMin + step * (k - 1);\n                        var lStep = step;\n                        var s = simplicity(q, Q, j, lMin, lMax, lStep);\n                        var c = coverage(dMin, dMax, lMin, lMax);\n                        var g = density(k, m, dMin, dMax, lMin, lMax);\n                        var l = legibility();\n                        var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n                        if (score > best.score && (!onlyLoose || (lMin <= dMin && lMax >= dMax))) {\n                            best.lmin = lMin;\n                            best.lmax = lMax;\n                            best.lstep = lStep;\n                            best.score = score;\n                        }\n                    }\n                    z += 1;\n                }\n                k += 1;\n            }\n        }\n        j += 1;\n    }\n    var i = 0;\n    // \n    var range = new Array(Math.floor((best.lmax - best.lmin) / best.lstep));\n    for (var tick = best.lmin; tick <= best.lmax; tick = precisionAdd(tick, best.lstep)) {\n        range[i] = tick;\n        i += 1;\n    }\n    return {\n        min: Math.min(dMin, head(range)),\n        max: Math.max(dMax, last(range)),\n        ticks: range,\n    };\n}\n;\n//# sourceMappingURL=extended.js.map","import { filter, isNil, isNumber } from '@antv/util';\nimport extended from '../util/extended';\n/**\n *  ticks\n * @param cfg \n * @returns  ticks\n */\nexport default function calculateCatTicks(cfg) {\n    var values = cfg.values, tickInterval = cfg.tickInterval, tickCount = cfg.tickCount;\n    var ticks = values;\n    if (isNumber(tickInterval)) {\n        return filter(ticks, function (__, i) { return i % tickInterval === 0; });\n    }\n    var min = cfg.min, max = cfg.max;\n    if (isNil(min)) {\n        min = 0;\n    }\n    if (isNil(max)) {\n        max = values.length - 1;\n    }\n    if (isNumber(tickCount) && tickCount < max - min) {\n        // \n        // tslint:disable-next-line: no-shadowed-variable\n        var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var valid = filter(ticks_1, function (tick) { return tick >= min && tick <= max; });\n        return valid.map(function (index) { return values[index]; });\n    }\n    return values.slice(min, max + 1);\n}\n//# sourceMappingURL=cat.js.map","export default function d3Linear(cfg) {\n    var min = cfg.min, max = cfg.max, nice = cfg.nice, tickCount = cfg.tickCount;\n    var linear = new D3Linear();\n    linear.domain([min, max]);\n    if (nice) {\n        linear.nice(tickCount);\n    }\n    return linear.ticks(tickCount);\n}\nvar DEFAULT_COUNT = 5;\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\n// https://github.com/d3/d3-scale\nvar D3Linear = /** @class */ (function () {\n    function D3Linear() {\n        this._domain = [0, 1];\n    }\n    D3Linear.prototype.domain = function (domain) {\n        if (domain) {\n            this._domain = Array.from(domain, Number);\n            return this;\n        }\n        return this._domain.slice();\n    };\n    D3Linear.prototype.nice = function (count) {\n        var _a, _b;\n        if (count === void 0) { count = DEFAULT_COUNT; }\n        var d = this._domain.slice();\n        var i0 = 0;\n        var i1 = this._domain.length - 1;\n        var start = this._domain[i0];\n        var stop = this._domain[i1];\n        var step;\n        if (stop < start) {\n            _a = [stop, start], start = _a[0], stop = _a[1];\n            _b = [i1, i0], i0 = _b[0], i1 = _b[1];\n        }\n        step = tickIncrement(start, stop, count);\n        if (step > 0) {\n            start = Math.floor(start / step) * step;\n            stop = Math.ceil(stop / step) * step;\n            step = tickIncrement(start, stop, count);\n        }\n        else if (step < 0) {\n            start = Math.ceil(start * step) / step;\n            stop = Math.floor(stop * step) / step;\n            step = tickIncrement(start, stop, count);\n        }\n        if (step > 0) {\n            d[i0] = Math.floor(start / step) * step;\n            d[i1] = Math.ceil(stop / step) * step;\n            this.domain(d);\n        }\n        else if (step < 0) {\n            d[i0] = Math.ceil(start * step) / step;\n            d[i1] = Math.floor(stop * step) / step;\n            this.domain(d);\n        }\n        return this;\n    };\n    D3Linear.prototype.ticks = function (count) {\n        if (count === void 0) { count = DEFAULT_COUNT; }\n        return d3ArrayTicks(this._domain[0], this._domain[this._domain.length - 1], count || DEFAULT_COUNT);\n    };\n    return D3Linear;\n}());\nexport { D3Linear };\nfunction d3ArrayTicks(start, stop, count) {\n    var reverse;\n    var i = -1;\n    var n;\n    var ticks;\n    var step;\n    (stop = +stop), (start = +start), (count = +count);\n    if (start === stop && count > 0) {\n        return [start];\n    }\n    // tslint:disable-next-line\n    if ((reverse = stop < start)) {\n        (n = start), (start = stop), (stop = n);\n    }\n    // tslint:disable-next-line\n    if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) {\n        return [];\n    }\n    if (step > 0) {\n        start = Math.ceil(start / step);\n        stop = Math.floor(stop / step);\n        ticks = new Array((n = Math.ceil(stop - start + 1)));\n        while (++i < n) {\n            ticks[i] = (start + i) * step;\n        }\n    }\n    else {\n        start = Math.floor(start * step);\n        stop = Math.ceil(stop * step);\n        ticks = new Array((n = Math.ceil(start - stop + 1)));\n        while (++i < n) {\n            ticks[i] = (start - i) / step;\n        }\n    }\n    if (reverse) {\n        ticks.reverse();\n    }\n    return ticks;\n}\nfunction tickIncrement(start, stop, count) {\n    var step = (stop - start) / Math.max(0, count);\n    var power = Math.floor(Math.log(step) / Math.LN10);\n    var error = step / Math.pow(10, power);\n    return power >= 0\n        ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n        : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n//# sourceMappingURL=d3-linear.js.map","import { fixedBase } from '@antv/util';\nfunction snapMultiple(v, base, snapType) {\n    var div;\n    if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n    }\n    else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n    }\n    else {\n        div = Math.round(v / base);\n    }\n    return div * base;\n}\nexport default function intervalTicks(min, max, interval) {\n    //  interval \n    var minTick = snapMultiple(min, interval, 'floor');\n    var maxTick = snapMultiple(max, interval, 'ceil');\n    // \n    minTick = fixedBase(minTick, interval);\n    maxTick = fixedBase(maxTick, interval);\n    var ticks = [];\n    for (var i = minTick; i <= maxTick; i = i + interval) {\n        var tickValue = fixedBase(i, interval); // \n        ticks.push(tickValue);\n    }\n    return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n    };\n}\n//# sourceMappingURL=interval.js.map","import { isNil } from '@antv/util';\n/**\n *  minLimit/maxLimit/tickCount  ticks\n *\n * @param cfg Scale \n * @return ticks\n */\nexport default function strictLimit(cfg, defaultMin, defaultMax) {\n    var _a;\n    var minLimit = cfg.minLimit, maxLimit = cfg.maxLimit, min = cfg.min, max = cfg.max, _b = cfg.tickCount, tickCount = _b === void 0 ? 5 : _b;\n    var tickMin = isNil(minLimit) ? (isNil(defaultMin) ? min : defaultMin) : minLimit;\n    var tickMax = isNil(maxLimit) ? (isNil(defaultMax) ? max : defaultMax) : maxLimit;\n    if (tickMin > tickMax) {\n        _a = [tickMin, tickMax], tickMax = _a[0], tickMin = _a[1];\n    }\n    if (tickCount <= 2) {\n        return [tickMin, tickMax];\n    }\n    var step = (tickMax - tickMin) / (tickCount - 1);\n    var ticks = [];\n    for (var i = 0; i < tickCount; i++) {\n        ticks.push(tickMin + step * i);\n    }\n    return ticks;\n}\n//# sourceMappingURL=strict-limit.js.map","export default function pretty(min, max, n) {\n    if (n === void 0) { n = 5; }\n    var res = {\n        max: 0,\n        min: 0,\n        ticks: [],\n    };\n    if (min === max) {\n        return {\n            max: max,\n            min: min,\n            ticks: [min],\n        };\n    }\n    /*\n      R pretty:\n      https://svn.r-project.org/R/trunk/src/appl/pretty.c\n      https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n      */\n    var h = 1.5; // high.u.bias\n    var h5 = 0.5 + 1.5 * h; // u5.bias\n    // \n    var d = max - min;\n    var c = d / n;\n    // d\n    // const min_n = Math.floor(n / 3);\n    // const shrink_sml = Math.pow(2, 5);\n    // if (Math.log10(d) < -2) {\n    //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n    // }\n    var base = Math.pow(10, Math.floor(Math.log10(c)));\n    var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n    var unit = base;\n    if (2 * base - c < h * (c - unit)) {\n        unit = 2 * base;\n        if (5 * base - c < h5 * (c - unit)) {\n            unit = 5 * base;\n            if (10 * base - c < h * (c - unit)) {\n                unit = 10 * base;\n            }\n        }\n    }\n    var nu = Math.ceil(max / unit);\n    var ns = Math.floor(min / unit);\n    res.max = Math.max(nu * unit, max);\n    res.min = Math.min(ns * unit, min);\n    var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n    while (x < max) {\n        res.ticks.push(x);\n        x += unit;\n        if (toFixed) {\n            x = Number.parseFloat(x.toFixed(toFixed));\n        }\n    }\n    res.ticks.push(x);\n    return res;\n}\n//# sourceMappingURL=pretty.js.map","/**\n *  https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n * @param x  \n * @param p  \n */\nfunction quantileSorted(x, p) {\n    var idx = x.length * p;\n    /*if (x.length === 0) { // \n      throw new Error('quantile requires at least one value.');\n    } else if (p < 0 || p > 1) {\n      throw new Error('quantiles must be between 0 and 1');\n    } else */\n    if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n    }\n    else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n    }\n    else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n    }\n    else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n    }\n    else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n    }\n}\nexport default function calculateTicks(cfg) {\n    var tickCount = cfg.tickCount, values = cfg.values;\n    if (!values || !values.length) {\n        return [];\n    }\n    var sorted = values.slice().sort(function (a, b) {\n        return a - b;\n    });\n    var ticks = [];\n    for (var i = 0; i < tickCount; i++) {\n        var p = i / (tickCount - 1);\n        ticks.push(quantileSorted(sorted, p));\n    }\n    return ticks;\n}\n//# sourceMappingURL=quantile.js.map","import { DAY, HOUR, MINUTE, MONTH, SECOND, YEAR } from '../util/time';\nfunction getYear(date) {\n    return new Date(date).getFullYear();\n}\nfunction createYear(year) {\n    return new Date(year, 0, 1).getTime();\n}\nfunction getMonth(date) {\n    return new Date(date).getMonth();\n}\nfunction diffMonth(min, max) {\n    var minYear = getYear(min);\n    var maxYear = getYear(max);\n    var minMonth = getMonth(min);\n    var maxMonth = getMonth(max);\n    return (maxYear - minYear) * 12 + ((maxMonth - minMonth) % 12);\n}\nfunction creatMonth(year, month) {\n    return new Date(year, month, 1).getTime();\n}\nfunction diffDay(min, max) {\n    return Math.ceil((max - min) / DAY);\n}\nfunction diffHour(min, max) {\n    return Math.ceil((max - min) / HOUR);\n}\nfunction diffMinus(min, max) {\n    return Math.ceil((max - min) / (60 * 1000));\n}\n/**\n *  time  ticks month, year  pretty \n * @param cfg \n * @returns  ticks\n */\nexport default function timePretty(cfg) {\n    var min = cfg.min, max = cfg.max, minTickInterval = cfg.minTickInterval, tickCount = cfg.tickCount;\n    var tickInterval = cfg.tickInterval;\n    var ticks = [];\n    //  tickInterval  tickCount \n    if (!tickInterval) {\n        tickInterval = (max - min) / tickCount;\n        // \n        if (minTickInterval && tickInterval < minTickInterval) {\n            tickInterval = minTickInterval;\n        }\n    }\n    var minYear = getYear(min);\n    //  1 \n    if (tickInterval > YEAR) {\n        var maxYear = getYear(max);\n        var yearInterval = Math.ceil(tickInterval / YEAR);\n        for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n            ticks.push(createYear(i));\n        }\n    }\n    else if (tickInterval > MONTH) {\n        // \n        var monthInterval = Math.ceil(tickInterval / MONTH);\n        var mmMoth = getMonth(min);\n        var dMonths = diffMonth(min, max);\n        for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n            ticks.push(creatMonth(minYear, i + mmMoth));\n        }\n    }\n    else if (tickInterval > DAY) {\n        // \n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var mday = date.getDate();\n        var day = Math.ceil(tickInterval / DAY);\n        var ddays = diffDay(min, max);\n        for (var i = 0; i < ddays + day; i = i + day) {\n            ticks.push(new Date(year, month, mday + i).getTime());\n        }\n    }\n    else if (tickInterval > HOUR) {\n        // \n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var day = date.getDate();\n        var hour = date.getHours();\n        var hours = Math.ceil(tickInterval / HOUR);\n        var dHours = diffHour(min, max);\n        for (var i = 0; i <= dHours + hours; i = i + hours) {\n            ticks.push(new Date(year, month, day, hour + i).getTime());\n        }\n    }\n    else if (tickInterval > MINUTE) {\n        // \n        var dMinus = diffMinus(min, max);\n        var minutes = Math.ceil(tickInterval / MINUTE);\n        for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n            ticks.push(min + i * MINUTE);\n        }\n    }\n    else {\n        // \n        var interval = tickInterval;\n        if (interval < SECOND) {\n            interval = SECOND;\n        }\n        var minSecond = Math.floor(min / SECOND) * SECOND;\n        var dSeconds = Math.ceil((max - min) / SECOND);\n        var seconds = Math.ceil(interval / SECOND);\n        for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n            ticks.push(minSecond + i * SECOND);\n        }\n    }\n    //  tickInterval ticks\n    // \n    if (ticks.length >= 512) {\n        console.warn(\"Notice: current ticks length(\" + ticks.length + \") >= 512, may cause performance issues, even out of memory. Because of the configure \\\"tickInterval\\\"(in milliseconds, current is \" + tickInterval + \") is too small, increase the value to solve the problem!\");\n    }\n    return ticks;\n}\n//# sourceMappingURL=time-pretty.js.map","import * as pathUtil from '@antv/path-util';\nimport { Category, Linear } from '@antv/scale';\nimport { map, each, isEqual, head, isArray } from '@antv/util';\n\ntype Point = [number, number];\n\n/**\n *  path\n * @param points\n */\nfunction pointsToPath(points: Point[]): any[][] {\n  return map(points, (p: Point, idx: number) => {\n    const command = idx === 0 ? 'M' : 'L';\n    const [x, y] = p;\n    return [command, x, y];\n  });\n}\n\n/**\n *  path\n * @param points\n */\nexport function getLinePath(points: Point[]): any[][] {\n  return pointsToPath(points);\n}\n\n/**\n * \n * @param points\n */\nexport function getSmoothLinePath(points: Point[]): any[][] {\n  if (points.length <= 2) {\n    // \n    return getLinePath(points);\n  }\n\n  const data = [];\n\n  each(points, (p) => {\n    // \n    if (!isEqual(p, data.slice(data.length - 2))) {\n      data.push(p[0], p[1]);\n    }\n  });\n\n  const path = pathUtil.catmullRom2Bezier(data, false);\n  const [x, y] = head(points);\n  path.unshift(['M', x, y]);\n\n  return path;\n}\n\n/**\n *  path scale \n * @param data\n * @param width\n * @param height\n * @param smooth\n */\nexport function dataToPath(\n  data: number[],\n  width: number,\n  height: number,\n  smooth: boolean = true,\n): any[][] {\n  //  scale  y \n  const y = new Linear({\n    values: data,\n  });\n\n  const x = new Category({\n    values: map(data, (v, idx) => idx),\n  });\n\n  const points = map(data, (v: number, idx: number) => {\n    return [x.scale(idx) * width, height - y.scale(v) * height] as [number, number];\n  });\n\n  return smooth ? getSmoothLinePath(points) : getLinePath(points);\n}\n\nexport function dataToRectPath(data: number[], width: number, height: number, barWidth: number = 5): any[][] {\n  //  scale  y \n  const y = new Linear({\n    values: data,\n  });\n\n  const x = new Category({\n    values: map(data, (v, idx) => idx),\n  });\n\n  const points = map(data, (v: number, idx: number) => {\n    return [x.scale(idx) * width, height - y.scale(v) * height] as [number, number];\n  });\n\n  const rectPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    const param = {\n      x: point[0],\n      y: point[1],\n      y0: height,\n      size: barWidth,\n    };\n    const rectPoint = getRectPoints(param);\n    rectPoints.push(...rectPoint);\n  }\n\n  return getRectPath(rectPoints);\n}\n\n/**\n *  area  px \n * @param data\n * @param width\n * @param height\n */\nexport function getAreaLineY(data: number[], height: number): number {\n  const y = new Linear({\n    values: data,\n  });\n\n  const lineY = Math.max(0, y.min);\n  return height - y.scale(lineY) * height;\n}\n\n/**\n *  path  area path\n * @param path\n * @param width\n * @param height\n */\nexport function linePathToAreaPath(\n  path: any[][],\n  width: number,\n  height: number,\n  data: number[],\n): any[][] {\n  const areaPath = [...path];\n\n  const lineYPx = getAreaLineY(data, height);\n\n  areaPath.push(['L', width, lineYPx]);\n  areaPath.push(['L', 0, lineYPx]);\n  areaPath.push(['Z']);\n\n  return areaPath;\n}\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @returns rect points \n */\nexport function getRectPoints(pointInfo): { x: number; y: number }[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: { x: number; y: number }[], isClosed: boolean = true) {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n","import cat from './cat';\nimport d3Linear from './d3-linear';\nimport linear from './linear';\nimport log from './log';\nimport pow from './pow';\nimport quantile from './quantile';\nimport rPretty from './r-prettry';\nimport { getTickMethod, registerTickMethod } from './register';\nimport time from './time';\nimport timeCat from './time-cat';\nimport timePretty from './time-pretty';\nregisterTickMethod('cat', cat);\nregisterTickMethod('time-cat', timeCat);\nregisterTickMethod('wilkinson-extended', linear);\nregisterTickMethod('r-pretty', rPretty);\nregisterTickMethod('time', time);\nregisterTickMethod('time-pretty', timePretty);\nregisterTickMethod('log', log);\nregisterTickMethod('pow', pow);\nregisterTickMethod('quantile', quantile);\nregisterTickMethod('d3-linear', d3Linear);\nexport { getTickMethod, registerTickMethod };\n//# sourceMappingURL=index.js.map","import { last } from '@antv/util';\nimport catTicks from './cat';\n/**\n *  ticks, \n * @param cfg \n * @returns  ticks\n */\nexport default function calculateTimeCatTicks(cfg) {\n    var ticks = catTicks(cfg);\n    var lastValue = last(cfg.values);\n    if (lastValue !== last(ticks)) {\n        ticks.push(lastValue);\n    }\n    return ticks;\n}\n//# sourceMappingURL=time-cat.js.map","import { head, isNil, last } from '@antv/util';\nimport extended from '../util/extended';\nimport interval from '../util/interval';\nimport strictLimit from '../util/strict-limit';\n/**\n *  ticks wilkinson extended \n * @param cfg \n * @returns  ticks\n */\nexport default function linear(cfg) {\n    var min = cfg.min, max = cfg.max, tickCount = cfg.tickCount, nice = cfg.nice, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = extended(min, max, tickCount, nice).ticks;\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=linear.js.map","import { head, isNil, last } from '@antv/util';\nimport interval from '../util/interval';\nimport pretty from '../util/pretty';\nimport strictLimit from '../util/strict-limit';\n/**\n *  ticks R's pretty \n * @param cfg \n * @returns  ticks\n */\nexport default function linearPretty(cfg) {\n    var min = cfg.min, max = cfg.max, tickCount = cfg.tickCount, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = pretty(min, max, tickCount).ticks;\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=r-prettry.js.map","import { getTickInterval } from '../util/time';\nexport default function calculateTimeTicks(cfg) {\n    var min = cfg.min, max = cfg.max, minTickInterval = cfg.minTickInterval;\n    var tickInterval = cfg.tickInterval;\n    var tickCount = cfg.tickCount;\n    //  tickInterval  tickCount \n    if (tickInterval) {\n        tickCount = Math.ceil((max - min) / tickInterval);\n    }\n    else {\n        tickInterval = getTickInterval(min, max, tickCount)[1];\n        var count = (max - min) / tickInterval;\n        var ratio = count / tickCount;\n        if (ratio > 1) {\n            tickInterval = tickInterval * Math.ceil(ratio);\n        }\n        // \n        if (minTickInterval && tickInterval < minTickInterval) {\n            tickInterval = minTickInterval;\n        }\n    }\n    var ticks = [];\n    for (var i = min; i < max + tickInterval; i += tickInterval) {\n        ticks.push(i);\n    }\n    return ticks;\n}\n//# sourceMappingURL=time.js.map","import { getLogPositiveMin, log } from '../util/math';\n/**\n *  log  ticks min = 0 \n * @param cfg \n * @returns  ticks\n */\nexport default function calculateLogTicks(cfg) {\n    var base = cfg.base, tickCount = cfg.tickCount, min = cfg.min, max = cfg.max, values = cfg.values;\n    var minTick;\n    var maxTick = log(base, max);\n    if (min > 0) {\n        minTick = Math.floor(log(base, min));\n    }\n    else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n    }\n    var count = maxTick - minTick;\n    var avg = Math.ceil(count / tickCount);\n    var ticks = [];\n    for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n    }\n    if (min <= 0) {\n        //  <= 0  0\n        ticks.unshift(0);\n    }\n    return ticks;\n}\n//# sourceMappingURL=log.js.map","import { calBase } from '../util/math';\nimport pretty from '../util/pretty';\n/**\n *  Pow  ticks\n * @param cfg \n * @returns  ticks\n */\nexport default function calculatePowTicks(cfg) {\n    var exponent = cfg.exponent, tickCount = cfg.tickCount;\n    var max = Math.ceil(calBase(exponent, cfg.max));\n    var min = Math.floor(calBase(exponent, cfg.min));\n    var ticks = pretty(min, max, tickCount).ticks;\n    return ticks.map(function (tick) {\n        var factor = tick >= 0 ? 1 : -1;\n        return Math.pow(tick, exponent) * factor;\n    });\n}\n//# sourceMappingURL=pow.js.map","import { head, isNil, last } from '@antv/util';\nimport d3Linear from '../util/d3-linear';\nimport interval from '../util/interval';\nimport strictLimit from '../util/strict-limit';\nexport default function d3LinearTickMethod(cfg) {\n    var min = cfg.min, max = cfg.max, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = d3Linear(cfg);\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=d3-linear.js.map","import { createSegmentNode } from '@antv/f6-ui';\nimport { SliderOption, TrendConfig } from '../../type/slider';\nimport {\n  BACKGROUND_STYLE,\n  FOREGROUND_STYLE,\n  TREND_HANDLER_STYLE,\n  TEXT_STYLE,\n  TREND_SLIDER_HEIHGT,\n} from '../../utils/const';\nimport { dataToPath } from '../../utils/path';\n\nexport const TREND_LINE_STYLE = {\n  stroke: '#C5C5C5',\n  strokeOpacity: 0.85,\n};\n\nexport const AREA_STYLE = {\n  fill: '#CACED4',\n  opacity: 0.85,\n};\n\nexport default function createTrendSlider({\n  slider = {},\n  trend = {},\n}: {\n  slider: SliderOption;\n  trend: TrendConfig;\n}) {\n  const { width, height = TREND_SLIDER_HEIHGT } = slider;\n  const { data: trendData = [], lineStyle, smooth = true } = trend;\n\n  const handlerStyle = Object.assign({}, TREND_HANDLER_STYLE, slider.handlerStyle);\n  const backgroundStyle = Object.assign({}, BACKGROUND_STYLE, slider.backgroundStyle);\n  const foregroundStyle = Object.assign({}, FOREGROUND_STYLE, slider.foregroundStyle);\n  const textStyle = Object.assign({}, TEXT_STYLE, slider.textStyle);\n\n  const trendLineStyle = Object.assign({}, TREND_LINE_STYLE, lineStyle);\n\n  const mainRectWidth = handlerStyle.width;\n  const circleR = mainRectWidth * 2;\n  const controlWidth = circleR * 2 + 10;\n\n  const html = `\n    <div class='slider-bg'>\n      <shape class='trend-bg' type='path' path='[]' />\n      <div class= 'slider-inner' />\n      <div class='control left-control'>\n        <div class='handler'> \n          <div class='text'>1</div>\n          <shape class='rect' type='rect' width='${handlerStyle.width}'/>\n          <shape class='circle top-circle' type='circle' r='${circleR}' />\n          <shape class='circle bottom-circle' type='circle' r='${circleR}' />\n        </div>\n      </div>\n      <div class='control right-control'>\n        <div class='handler'> \n          <div class='text'>1</div>\n          <shape class='rect' type='rect' width='${handlerStyle.width}'/>\n          <shape class='circle top-circle' type='circle' r='${circleR}' />\n          <shape class='circle bottom-circle' type='circle' r='${circleR}' />\n        </div>\n      </div>\n    </div>\n  `;\n  const css = `\n    .slider-bg {\n      width: ${width};\n      height: ${height};\n      background: ${backgroundStyle.fill};\n      opacity: ${backgroundStyle.opacity};\n      z-index: 10;\n    }\n\n    .trend-bg{\n      position: absolute;\n      width: ${width};\n      height: ${height};\n      border: 1 solid ${trendLineStyle.stroke};\n      opacity: ${trendLineStyle.strokeOpacity};\n    }\n    \n    .slider-inner{\n      position: absolute;\n      width: ${width};\n      height: ${height};\n      background: ${foregroundStyle.fill};\n      opacity: ${foregroundStyle.opacity};\n    }\n\n    .control {\n      position: absolute;\n      width: ${controlWidth};\n      height: ${height};\n      font-size: 10;\n      background-opacity: 0;\n    }\n\n    .handler{\n      position: absolute;\n      height: ${handlerStyle.height};\n      width: ${mainRectWidth};\n    }\n    \n    .rect {\n      position: absolute;\n      width: ${mainRectWidth};\n      height: ${handlerStyle.height};\n      background: ${handlerStyle.fill};\n    }\n\n    .circle {\n      background: ${handlerStyle.fill};\n      position: absolute;\n      left: ${mainRectWidth / 2}\n    }\n\n    .top-circle{\n      top: 0\n    }\n\n    .bottom-circle{\n      bottom: 0\n    }\n\n    .right-control .handler{\n      right: 0\n    }\n\n    .control .text{\n      position: absolute;\n      top: ${height / 2 - 5};\n    }\n    \n    .text{\n      color: ${textStyle.fill};\n      width: 40;\n      text-align: center;\n    }\n\n    .text text{\n      opacity:${textStyle.opacity}\n    }\n\n    .left-control .text{\n      margin-left: 0;\n    }\n\n    .right-control .text{\n      \n    }\n    \n    .left-control {\n      left: 0;\n    }\n\n    .right-control{\n      left: ${width - controlWidth};\n    }\n  `;\n\n  const slideContainer = createSegmentNode(html, css);\n  const path = dataToPath(trendData, width, height, smooth);\n  const slideTrendBg = slideContainer.query('.trend-bg');\n  slideTrendBg.setAttribute('path', path);\n\n  const leftControl = slideContainer.query('.left-control');\n  const rightControl = slideContainer.query('.right-control');\n\n  const leftControlText = leftControl.query('.text');\n  const rightControlText = rightControl.query('.text');\n\n  leftControl.onLeftChange = (value) => {\n    if (value < leftControlText.width) {\n      leftControlText.setStyle('marginLeft', 0);\n    } else {\n      leftControlText.setStyle('marginLeft', -leftControlText.width);\n    }\n  };\n\n  rightControl.onLeftChange = (value) => {\n    if (value > slideContainer.width - rightControl.width - rightControlText.width) {\n      rightControlText.setStyle('marginLeft', -rightControlText.width);\n    } else {\n      rightControlText.setStyle('marginLeft', 0);\n    }\n  };\n\n  return {\n    slideContainer: slideContainer,\n    leftControl: slideContainer.query('.left-control'),\n    rightControl: slideContainer.query('.right-control'),\n    slideInner: slideContainer.query('.slider-inner'),\n  };\n}\n","import { createSegmentNode } from '@antv/f6-ui';\nimport bindDragEvents from '../slider/slider-logic';\nimport createSimpleSlider from '../slider/simple-slider';\nimport createTrendSlider from '../slider/trend-slider';\nimport createTiker from '../slider/slide-ticker';\nimport { subscribe } from '../../dispatcher';\nimport {\n  CONTROL_NEXT,\n  CONTROL_PREV,\n  SLIDER_END,\n  SLIDER_PAUSE,\n  SLIDER_PLAY,\n  SLIDER_START,\n  SPEED_CHANGE,\n} from '../../utils/const';\n\nexport function createSimpleProgressBar({ data = [], width, slider, sliderTick }) {\n  // slider\n  const nodes = createSimpleSlider(slider);\n\n  // progressBar\n  const progressBar = createProgressBar(\n    {\n      data,\n      width,\n      start: slider.start,\n      end: slider.end,\n      sliderTick,\n    },\n    nodes,\n  );\n  return progressBar;\n}\n\nexport function createTrendProgressBar({ data, width, slider, sliderTick, trend }) {\n  // slider\n  const nodes = createTrendSlider({ slider, trend });\n  // progressBar\n  const progressBar = createProgressBar(\n    {\n      data,\n      width,\n      start: slider.start,\n      end: slider.end,\n      sliderTick,\n    },\n    nodes,\n  );\n  return progressBar;\n}\n\nfunction createProgressBar(\n  { data = [], width, start = SLIDER_START, end = SLIDER_END, sliderTick },\n  sliderNodes,\n) {\n  const { width: sliderTickWidth = 0 } = sliderTick;\n  // \n  const tickWidth = sliderTickWidth / data.length;\n\n  const progressBar = createProgressBarNode(width);\n  const { slideContainer, leftControl, rightControl, slideInner } = sliderNodes;\n  const tiker = createTiker(data, tickWidth, sliderTick);\n  progressBar.appendChild(slideContainer, tiker);\n\n  const logic = bindDragEvents({\n    data,\n    slideContainer,\n    leftControl,\n    rightControl,\n    slideInner,\n    tickWidth,\n    delegateNode: progressBar,\n  });\n\n  // \n  slideContainer.didMount = () => {\n    logic.goLeftPercent(start);\n    logic.goRightPercent(end);\n  };\n  subscribe(SLIDER_PLAY, logic.player.play);\n  subscribe(SLIDER_PAUSE, logic.player.stop);\n  subscribe(SPEED_CHANGE, logic.player.setSpeed);\n\n  subscribe(CONTROL_NEXT, logic.goNext);\n  subscribe(CONTROL_PREV, logic.goPrev);\n\n  return progressBar;\n}\n\nfunction createProgressBarNode(width) {\n  const html = `\n    <div id='slider'></div>\n  `;\n  const css = `\n    #slider {\n      width: ${width};\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  `;\n  return createSegmentNode(html, css);\n}\n","import { createSegmentNode } from '@antv/f6-ui';\nimport { SliderOption } from '../../type/slider';\nimport {\n  SIMPLE_BACKGROUND_STYLE,\n  SIMPLE_HANDLE_STYLE,\n  FOREGROUND_STYLE,\n  TEXT_STYLE,\n} from '../../utils/const';\n\nexport default function createSimpleSlider(option: SliderOption) {\n  const { width, height = 4 } = option;\n  const handlerStyle = Object.assign({}, SIMPLE_HANDLE_STYLE, option.handlerStyle);\n  const backgroundStyle = Object.assign({}, SIMPLE_BACKGROUND_STYLE, option.backgroundStyle);\n  const foregroundStyle = Object.assign({}, FOREGROUND_STYLE, option.foregroundStyle);\n  const textStyle = Object.assign({}, TEXT_STYLE, option.textStyle);\n\n  const html = `\n    <div class='slider-bg'>\n      <div class=\"slider-inner\"></div>\n      <div class='control left-control'>\n        <div class='text'>0</div>\n      </div>\n      <div class='control right-control'>\n        <div class='text'>0</div>\n      </div>\n    </div>\n  `;\n  const css = `\n    .slider-bg {\n      width: ${width};\n      height: ${height};\n      background: ${backgroundStyle.fill};\n      opacity: ${backgroundStyle.opacity};\n      border-radius: ${backgroundStyle.radius};\n      z-index: 10;\n      margin-top: 30;\n    }\n    \n    .slider-inner{\n      position: absolute;\n      width: ${width};\n      height: ${height};\n      border-radius: ${height / 2};\n      background: ${foregroundStyle.fill};\n      background-opacity: ${foregroundStyle.opacity}\n      z-index: 1;\n    }\n\n    .control {\n      position: absolute;\n      top: ${-handlerStyle.radius / 2 + height / 2};\n      width: ${handlerStyle.radius};\n      height: ${handlerStyle.radius};\n      border-radius: ${handlerStyle.radius / 2};\n      background: ${handlerStyle.fill};\n      border: ${handlerStyle.lineWidth} solid ${handlerStyle.stroke};\n      z-index: 2;\n    }\n\n    .text{\n      position: absolute;\n      left: ${handlerStyle.radius / 2};\n      top: -${handlerStyle.radius / 2 + textStyle.fontSize / 2};\n      width: 0;\n      color: ${textStyle.fill};\n      font-size: ${textStyle.fontSize};\n      text-align: center;\n    }\n\n    text{\n      opacity: ${textStyle.opacity};\n      white-space: nowrap;\n    }\n    \n    .left-control {\n      left: 0;\n    }\n\n    .right-control{\n      left: ${width - handlerStyle.radius};\n    }\n  `;\n\n  const node = createSegmentNode(html, css);\n\n  return {\n    slideContainer: node,\n    leftControl: node.query('.left-control'),\n    rightControl: node.query('.right-control'),\n    slideInner: node.query('.slider-inner'),\n  };\n}\n","import { createSegmentNode } from '@antv/f6-ui';\nimport { SliderTick } from '../../type/slider';\nimport { TimeBarData } from '../../type/time-bar';\nimport { TICK_LABEL_STYLE, TICK_LINE_STYLE } from '../../utils/const';\n\nexport default function createTiker(\n  data: TimeBarData[],\n  tickWidth: number,\n  sliderTick: SliderTick,\n) {\n  const { width = 0 } = sliderTick;\n  const tickLabelStyle = Object.assign({}, TICK_LABEL_STYLE, sliderTick.textStyle);\n  const tickLineStyle = Object.assign({}, TICK_LINE_STYLE, sliderTick.lineStyle);\n\n  const count = Math.floor(tickLabelStyle.width / tickWidth);\n  const html = `\n  <div class='tiker'>\n    ${data.reduce((prev, cur, index) => {\n      return (prev += `\n        <div class='single-tick'> \n          ${\n            index % count === 0\n              ? `\n          <shape class='line' type='rect' />\n          <div class='text'>${cur.date}</div>`\n              : ''\n          }\n        </div> \n      `);\n    }, '')}\n  </div>`;\n\n  const css = `\n    .tiker {\n      width: ${width};\n      background-opacity: 0;\n      display: flex;\n      flex-direction: row;\n      z-index: 1;\n      color: black;\n    }\n    .single-tick {\n      width: ${tickWidth};\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: flex-start;\n    }\n    .single-tick shape{\n      width: ${tickLineStyle.width};\n      height: ${tickLineStyle.height};\n      background: ${tickLineStyle.fill};\n    }\n    .single-tick .text {\n      height: ${tickLabelStyle.fontSize};\n      text-align: center;\n      font-size: ${tickLabelStyle.fontSize};\n      width: 0; \n      color: ${tickLabelStyle.fill};\n    }\n    text {\n      opacity: ${tickLabelStyle.opacity};;\n      white-space: nowrap;\n    }\n  `;\n  return createSegmentNode(html, css);\n}\n","import { dispatch } from '../../dispatcher';\nimport { createPlayer } from '../../utils/player';\n\nexport default function createLogicer(option) {\n  const {\n    delegateNode,\n    leftControl,\n    rightControl,\n    slideInner,\n    data,\n    tickWidth,\n    slideContainer,\n    speed = 100,\n  } = option;\n\n  let start = 0;\n  let end = 1;\n  let cur = 0;\n\n  function goLeftPercent(percent) {\n    if (percent < 0 || percent > 1) return;\n    const containerWidth = slideContainer.width;\n    updateLeft(percent * containerWidth);\n  }\n\n  function goRightPercent(percent) {\n    if (percent < 0 || percent > 1) return;\n    const containerWidth = slideContainer.width;\n    updateRight(percent * containerWidth);\n  }\n\n  function goNext() {\n    const controlWidth = rightControl.width;\n    const containerWidth = slideContainer.width;\n    if (cur > containerWidth - controlWidth) return;\n    cur += tickWidth;\n    updateRight(cur);\n  }\n\n  function goPrev() {\n    if (cur < 0) return;\n    cur -= tickWidth;\n    updateRight(cur);\n  }\n\n  const player = createPlayer(goNext, speed);\n\n  function getSlideInnerWidth() {\n    return rightControl.left - leftControl.left + leftControl.width;\n  }\n\n  function getDataItem(value) {\n    const containerWidth = slideContainer.width;\n    const index = (value / containerWidth) * data.length;\n    return data[Math.floor(index)];\n  }\n\n  function updateLeft(value, isChangeSliderWidth = true) {\n    const controlWidth = leftControl.width;\n    const containerWidth = slideContainer.width;\n    if (value < 0) value = 0;\n    if (value > containerWidth - controlWidth) value = containerWidth - controlWidth;\n    leftControl.onLeftChange?.(value);\n    leftControl.setStyle('left', value);\n    isChangeSliderWidth && slideInner.setStyle('width', getSlideInnerWidth());\n    slideInner.setStyle('left', value < 0 ? 0 : value);\n    const data = getDataItem(value);\n    if (data) {\n      leftControl.setText(data.date);\n      start = value / containerWidth;\n      dispatch('RANGE_CHANGE', { value: [start, end] });\n    }\n  }\n\n  function updateRight(value, isChangeSliderWidth = true) {\n    const controlWidth = rightControl.width;\n    const containerWidth = slideContainer.width;\n    if (value < 0) value = 0;\n    if (value >= containerWidth - controlWidth) value = containerWidth - controlWidth;\n    rightControl.onLeftChange?.(value);\n    rightControl.setStyle('left', value);\n    isChangeSliderWidth && slideInner.setStyle('width', getSlideInnerWidth());\n    const data = getDataItem(value + controlWidth);\n    if (data) {\n      cur = value;\n      rightControl.setText(data.date);\n      end = (value + controlWidth) / containerWidth;\n      dispatch('RANGE_CHANGE', { value: [start, end] });\n    }\n  }\n\n  function updateSlideInner(value) {\n    const controlWidth = rightControl.width;\n    const slideWidth = slideInner.width;\n    const containerWidth = slideContainer.width;\n    if (value < 0) value = 0;\n    if (value > containerWidth - slideWidth) value = containerWidth - slideWidth;\n    updateLeft(value, false);\n    updateRight(value + slideWidth - controlWidth, false);\n  }\n\n  const map: any = new Map();\n  map.set(leftControl, {\n    getStart: () => leftControl.left,\n    handler: updateLeft,\n  });\n  map.set(rightControl, {\n    getStart: () => rightControl.left,\n    handler: updateRight,\n  });\n  map.set(slideInner, {\n    getStart: () => slideInner.left,\n    handler: updateSlideInner,\n  });\n\n  let startX = 0;\n  let startLeft = 0;\n  let dragingNode;\n\n  delegateNode.on('panstart', (e) => {\n    if (!e.uiNode) return;\n    dragingNode = undefined;\n    const drager = map.get(e.uiNode);\n    if (drager) {\n      dragingNode = e.uiNode;\n      startX = e.clientX;\n      startLeft = drager.getStart();\n    }\n  });\n\n  delegateNode.on('panmove', (e) => {\n    if (!dragingNode) return;\n    const drager = map.get(dragingNode);\n    const delta = e.clientX - startX;\n    drager.handler(startLeft + delta);\n  });\n\n  return {\n    goLeftPercent,\n    goRightPercent,\n    goNext,\n    goPrev,\n    player,\n  };\n}\n","import { createSegmentNode } from '@antv/f6-ui';\nimport { dispatch, subscribe } from '../../dispatcher';\nimport {\n  CONTROL_NEXT,\n  CONTROL_PREV,\n  RANGE_CHANGE,\n  SLIDER_PAUSE,\n  SLIDER_PLAY,\n  PROGRESS_TICK_SELECTED_STYLE,\n  PROGRESS_TICK,\n  PROGRESS_TICK_LINE_STYLE,\n  PROGRESS_TICK_TEXT_STYLE,\n  PROGRESS_TICK_UNSELECTED_STYLE,\n  SLIDER_START,\n  SLIDER_END,\n  SPEED_CHANGE,\n} from '../../utils/const';\nimport { throttle } from '@antv/util';\nimport { createPlayer } from '../../utils/player';\nimport { TimeBarTickContext } from '../../type/tick';\n\nconst createTickProgressBar = function (option) {\n  const { data } = option;\n  const { start = SLIDER_START, end = SLIDER_END, width, padding } = option.tick;\n  console.log(option);\n  const selectedTickStyle = Object.assign(\n    {},\n    PROGRESS_TICK_SELECTED_STYLE,\n    option?.tick?.selectedTickStyle,\n  );\n\n  const unselectedTickStyle = Object.assign(\n    {},\n    PROGRESS_TICK_UNSELECTED_STYLE,\n    option?.tick?.unSelectedTickStyle,\n  );\n  const context: TimeBarTickContext = {} as TimeBarTickContext;\n\n  // \n  context.data = data;\n  // bar\n  context.width = width;\n\n  context.padding = padding || '10 0';\n  // \n  context.selectedFill = selectedTickStyle.fill;\n  // \n  context.unSelectFill = unselectedTickStyle.fill;\n  // \n  context.gap = PROGRESS_TICK.gap;\n  // \n  context.tickBoxHeight = option?.tick?.tickBoxHeight || PROGRESS_TICK.tickBoxHeight;\n  // \n  context.lineStyle = Object.assign({}, PROGRESS_TICK_LINE_STYLE, option?.tick?.tickLineStyle);\n  // \n  context.textStyle = Object.assign({}, PROGRESS_TICK_TEXT_STYLE, option?.tick?.tickLabelStyle);\n  // \n  context.tickWidth = width / data.length;\n  // \n  context.count = Math.floor(context.textStyle.width / context.tickWidth);\n  context.start = start;\n  context.end = end;\n  context.selects = [];\n  const node = createTickProgressBarNode(context);\n  context.tickBoxs = node.queryAll('.tick-box');\n\n  initPlayer(context);\n\n  bindEvents(node, context);\n\n  return node;\n};\n\n// \nfunction createTickProgressBarNode(context) {\n  const {\n    data,\n    tickWidth,\n    count,\n    width,\n    gap,\n    tickBoxHeight,\n    textStyle,\n    lineStyle,\n    start,\n    end,\n    unSelectFill,\n  } = context;\n  const html = `\n  <div id='slider'>\n    ${data.reduce((prev, cur, index) => {\n      return (prev += `\n        <div class='ticker'> \n          <div class='tick-box' disFromStart='${index * tickWidth}'></div>\n          ${\n            index % count == 0\n              ? `\n              <div class='tick-desc' > \n                <shape class='line' type='rect'/>\n                <div class='text'>${cur.date}</div>\n              </div>`\n              : ''\n          }\n        </div>`);\n    }, '')}\n  </div>\n`;\n  const css = `\n  #slider {\n    width: ${width};\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: ${context.padding};\n  }\n\n  .ticker {\n    width: ${tickWidth - gap};\n    display: flex;\n    background-opacity: 0;\n    align-items: center;\n  }\n\n  .tick-box {\n    width: ${tickWidth - gap};\n    height: ${tickBoxHeight};\n    background:  ${unSelectFill};\n  }\n\n  .tick-desc {\n    display: flex;\n    align-items: center;\n  }\n\n  .text{\n    width: 0;\n    height: ${textStyle.fontSize};\n    text-align:center;\n    color: ${textStyle.fill};\n    font-size: ${textStyle.fontSize};\n  }\n\n  .text text{\n    white-space: nowrap;\n  }\n\n  .line {\n    width: ${lineStyle.width};\n    height: ${lineStyle.height};\n    background: ${lineStyle.fill};\n    margin: 2 0;\n  }\n`;\n  const node = createSegmentNode(html, css);\n\n  node.didMount = function () {\n    context.start = start * width;\n    context.end = end * width;\n    select(context.start, context.end, context);\n  };\n  return node;\n}\n\n// \nfunction bindEvents(node, context) {\n  let startX = 0;\n  let isStart = false;\n  let startLeft = 0;\n\n  const selectThrottle = throttle(select, 30, {\n    trailing: true,\n    leading: true,\n  });\n\n  node.on('panstart', (e) => {\n    isStart = false;\n    if (!e.uiNode) return;\n    if (e.uiNode.getAttribute('class') === 'tick-box') {\n      isStart = true;\n      startX = e.clientX;\n      startLeft = e.uiNode.getAttribute('disFromStart');\n      clearAllSelect(context);\n    }\n  });\n\n  node.on('panmove', (e) => {\n    if (!isStart) return;\n    const delta = e.clientX - startX;\n    selectThrottle(startLeft, startLeft + delta, context);\n  });\n\n  node.on('tap', (e) => {\n    if (e.uiNode && e.uiNode.getAttribute('class') === 'tick-box') {\n      selectSingle(e.uiNode, context);\n    }\n  });\n}\n\n// \nfunction initPlayer(context) {\n  const goNext = () => {\n    context.end += context.tickWidth;\n    select(context.start, context.end, context);\n  };\n\n  const goPrev = () => {\n    context.end -= context.tickWidth;\n    select(context.start, context.end, context);\n  };\n\n  const player = createPlayer(goNext, 1000);\n  subscribe(CONTROL_NEXT, goNext);\n  subscribe(CONTROL_PREV, goPrev);\n  subscribe(SLIDER_PLAY, player.play);\n  subscribe(SLIDER_PAUSE, player.stop);\n  subscribe(SPEED_CHANGE, player.setSpeed);\n}\n\n// \nfunction select(start, end, context) {\n  let max = Math.max(start, end);\n  let min = Math.min(start, end);\n  context.start = min;\n  context.end = max;\n  clearAllSelect(context);\n  context.tickBoxs.forEach((tickBox) => {\n    if (context.selects.includes(tickBox)) return;\n    if (\n      tickBox.getAttribute('disFromStart') >= min &&\n      tickBox.getAttribute('disFromStart') <= max\n    ) {\n      tickBox.setStyle('backgroundColor', context.selectedFill);\n      context.selects.push(tickBox);\n    }\n  });\n\n  if (context.selects.length > 0) {\n    dispatch(RANGE_CHANGE, {\n      value: [\n        context.selects[0].getAttribute('disFromStart') / context.width,\n        context.selects[context.selects.length - 1].getAttribute('disFromStart') / context.width,\n      ],\n    });\n  }\n}\n\n// \nfunction clearAllSelect(context) {\n  context.selects.forEach((box) => {\n    box.setStyle('backgroundColor', context.unSelectFill);\n  });\n  context.selects = [];\n}\n\n// box\nfunction selectSingle(tickBox, context) {\n  clearAllSelect(context);\n  context.selects.push(tickBox);\n  context.start = context.end = tickBox.getAttribute('disFromStart');\n  dispatch(RANGE_CHANGE, {\n    value: [\n      tickBox.getAttribute('disFromStart') / context.width,\n      tickBox.getAttribute('disFromStart') / context.width,\n    ],\n  });\n  tickBox.setStyle('backgroundColor', context.selectedFill);\n}\n\nexport default createTickProgressBar;\n","import { createUI } from '@antv/f6-ui';\nimport createControlbar from './control-bar';\nimport {\n  createSimpleProgressBar,\n  createTickProgressBar,\n  createTrendProgressBar,\n} from './progress-bar';\nimport { SimpleTimeBarOption, TickTimeBarOption, TrendTimeBarOption } from '../type/time-bar';\n\n/**\n * \n */\nexport function createSimpleTimeBarUI({\n  width = 0,\n  padding = 0,\n  group,\n  data = [],\n  slider = {},\n  controllerCfg = {},\n  sliderTick = {},\n}: SimpleTimeBarOption) {\n  const timeBar = createSimpleProgressBar({\n    data,\n    width,\n    slider: {\n      width: slider.width || width - padding * 2, // padding\n      paddingTop: 0,\n      ...slider,\n    },\n    sliderTick: {\n      width: width - padding * 2,\n      ...sliderTick,\n    },\n  });\n  return createTimeBarUI(\n    { width, group, control: { wrapperWidth: width, ...controllerCfg } },\n    timeBar,\n  );\n}\n\n/**\n * \n */\nexport function createTickUI({\n  group,\n  data = [],\n  width,\n  padding,\n  controllerCfg = {},\n  tick = {},\n}: TickTimeBarOption) {\n  // progressBar\n  const tickBar = createTickProgressBar({\n    data,\n    tick: {\n      width: width - padding,\n      ...tick,\n    },\n  });\n\n  return createTimeBarUI(\n    { width, group, control: { wrapperWidth: width, ...controllerCfg } },\n    tickBar,\n  );\n}\n\n/**\n * \n */\nexport function createTrendUI({\n  width = 0,\n  padding = 0,\n  group,\n  data = [],\n  slider = {},\n  controllerCfg = {},\n  trend = {},\n  sliderTick = {},\n}: TrendTimeBarOption) {\n  // progressBar\n  const progressBar = createTrendProgressBar({\n    data,\n    width,\n    slider: {\n      width: slider.width || width - padding * 2, // padding\n      paddingTop: 0,\n      ...(slider || {}),\n    },\n    sliderTick: {\n      width: width - padding * 2,\n      ...(sliderTick || {}),\n    },\n    trend: { data: data?.map((item) => item.value), ...(trend || {}) },\n  });\n  // TimeBar\n  const timeBar = createTimeBarUI(\n    { width, group, control: { wrapperWidth: width, ...controllerCfg } },\n    progressBar,\n  );\n  return timeBar;\n}\n\n/**\n * \n * @param param\n * @param progressBar // \n * @returns\n */\nfunction createTimeBarUI({ width, group, control }, progressBar) {\n  const html = `<root></root>`;\n  const css = `\n  root {\n    /**  **/\n    width: ${width};\n    /** flex **/\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n  const uiTree = createUI(html, css, group);\n  const controlBar = createControlbar(control);\n  uiTree.appendChild(progressBar, controlBar);\n  return uiTree;\n}\n","import { wrapBehavior, each, deepMix } from '@antv/util';\nimport { IG6GraphEvent, IAbstractGraph as IGraph } from '@antv/f6-core';\n\nexport interface IPluginBaseConfig {\n  container?: HTMLDivElement | string | null;\n  className?: string;\n}\n\nexport interface IPluginBaseConfig {\n  graph?: IGraph;\n  [key: string]: any;\n}\n\ninterface EventMapType {\n  [key: string]: any;\n}\n\nexport default abstract class PluginBase {\n  private _events: EventMapType;\n\n  public _cfgs: IPluginBaseConfig;\n\n  public destroyed: boolean;\n\n  /**\n   * \n   * @param cfgs \n   */\n  constructor(cfgs?: IPluginBaseConfig) {\n    this._cfgs = deepMix(this.getDefaultCfgs(), cfgs);\n    this._events = {};\n    this.destroyed = false;\n  }\n\n  /**\n   * \n   */\n  public getDefaultCfgs() {\n    return {};\n  }\n\n  /**\n   * \n   * @param graph IGraph \n   */\n  public initPlugin(graph: IGraph) {\n    const self = this;\n    self.set('graph', graph);\n\n    const events = self.getEvents();\n\n    const bindEvents: EventMapType = {};\n\n    each(events, (v, k) => {\n      const event = wrapBehavior(self, v) as (e: IG6GraphEvent) => void;\n      bindEvents[k] = event;\n      graph.on(k, event);\n    });\n    this._events = bindEvents;\n\n    this.init();\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public getEvents() {\n    return {};\n  }\n\n  /**\n   * \n   * @param key \n   */\n  public get(key: string) {\n    return this._cfgs[key];\n  }\n\n  /**\n   *  cfgs \n   * @param key \n   * @param val \n   */\n  public set(key: string, val: any) {\n    this._cfgs[key] = val;\n  }\n\n  /**\n   * \n   */\n  public destroy() {}\n\n  /**\n   * \n   */\n  public destroyPlugin() {\n    this.destroy();\n    const graph = this.get('graph');\n    const events = this._events;\n    each(events, (v, k) => {\n      graph.off(k, v);\n    });\n    (this._events as EventMapType | null) = null;\n    (this._cfgs as IPluginBaseConfig | null) = null;\n    this.destroyed = true;\n  }\n}\n","import { createSimpleTimeBarUI, createTickUI, createTrendUI } from './ui';\nimport PluginBase, { IPluginBaseConfig } from '../base';\nimport { throttle } from '@antv/util';\nimport { IAbstractGraph, TimeBarType } from '@antv/f6-core';\nimport { subscribe, unsubscribeAll } from './dispatcher';\nimport { SLIDER_END, SLIDER_START } from './utils/const';\nimport { SliderOption, SliderTick, TrendConfig } from './type/slider';\nimport { TimeBarTickOption } from './type/tick';\nimport { ControllerCfg } from './type/control-bar';\n\ninterface TimeBarConfig extends IPluginBaseConfig {\n  // position size\n  readonly width?: number;\n  readonly padding?: number;\n\n  readonly type?: TimeBarType;\n  // \n  readonly trend?: TrendConfig;\n  // \n  readonly slider?: SliderOption;\n\n  // tick  trend  simple \n  readonly tick?: TimeBarTickOption;\n\n  // \n  readonly controllerCfg?: ControllerCfg;\n\n  readonly sliderTick?: SliderTick;\n\n  //  true date  date \n  //  false\n  readonly filterEdge?: boolean;\n\n  rangeChange?: (graph: IAbstractGraph, minValue: string, maxValue: string) => void;\n}\nexport default class TimeBar extends PluginBase {\n  private cacheGraphData;\n\n  constructor(cfg: TimeBarConfig) {\n    super(cfg);\n  }\n\n  public getDefaultCfgs(): TimeBarConfig {\n    return {\n      className: 'f6-component-timebar',\n      padding: 10,\n      type: 'trend',\n      data: [],\n      trend: {\n        smooth: true,\n      },\n      controllerCfg: {\n        speed: 1,\n      },\n      slider: {\n        start: SLIDER_START,\n        end: SLIDER_END,\n      },\n      tick: {\n        start: SLIDER_START,\n        end: SLIDER_END,\n      },\n      filterEdge: false,\n    };\n  }\n\n  init() {\n    setTimeout(() => {\n      this.render();\n      this.initEvent();\n    });\n  }\n\n  filterData(evt) {\n    const { value } = evt;\n    let trendData = this.get('data');\n    if (!trendData || trendData.length === 0) {\n      console.warn(' TimeBar ');\n      return;\n    }\n    const rangeChange = this.get('rangeChange');\n    const graph = this.get('graph');\n\n    let min = Math.round(trendData.length * value[0]);\n    let max = Math.round(trendData.length * value[1]);\n    max = max >= trendData.length ? trendData.length - 1 : max;\n    min = min >= trendData.length ? trendData.length - 1 : min;\n\n    const tickLabelFormatter = this._cfgs.tick?.tickLabelFormatter;\n    const minText = tickLabelFormatter ? tickLabelFormatter(trendData[min]) : trendData[min].date;\n    const maxText = tickLabelFormatter ? tickLabelFormatter(trendData[max]) : trendData[max].date;\n\n    if (rangeChange) {\n      rangeChange(graph, minText, maxText);\n    } else {\n      //  graph\n      if (\n        !this.cacheGraphData ||\n        (this.cacheGraphData.nodes && this.cacheGraphData.nodes.length === 0)\n      ) {\n        this.cacheGraphData = graph.get('data'); // graph.save() as GraphData;\n      }\n\n      //  min  max \n      const filterData = this.cacheGraphData.nodes.filter(\n        (d: any) => d.date >= trendData[min].date && d.date <= trendData[max].date,\n      );\n\n      const nodeIds = filterData.map((node) => node.id);\n\n      let fileterEdges = [];\n      if (this.cacheGraphData.edges) {\n        //  source  target  min  max \n        fileterEdges = this.cacheGraphData.edges.filter(\n          (edge) => nodeIds.includes(edge.source) && nodeIds.includes(edge.target),\n        );\n\n        if (this.get('filterEdge')) {\n          fileterEdges = fileterEdges.filter(\n            (edge) => edge.date >= trendData[min].date && edge.date <= trendData[max].date,\n          );\n        }\n      }\n\n      graph.changeData({\n        nodes: filterData,\n        edges: fileterEdges,\n      });\n    }\n  }\n\n  private render() {\n    const { data, width, padding, type, trend, slider, controllerCfg, tick, sliderTick } =\n      this._cfgs;\n    const graph = this.get('graph');\n    const group = graph.get('uiGroup');\n    let timebar = null;\n    switch (type) {\n      case 'trend':\n        timebar = createTrendUI({\n          group,\n          width,\n          padding,\n          data,\n          trend,\n          slider,\n          controllerCfg,\n          sliderTick,\n        });\n        break;\n\n      case 'tick':\n        timebar = createTickUI({\n          group,\n          width,\n          padding,\n          tick,\n          data,\n          controllerCfg,\n        });\n        break;\n      case 'simple':\n        timebar = createSimpleTimeBarUI({\n          group,\n          width,\n          padding,\n          slider,\n          data,\n          controllerCfg,\n          sliderTick,\n        });\n        break;\n    }\n    // \n    const graphHeight = graph.get('height');\n    group.translate(0, graphHeight - timebar.height);\n  }\n\n  private initEvent() {\n    subscribe(\n      'RANGE_CHANGE',\n      throttle(this.filterData.bind(this), 200, {\n        trailing: true,\n        leading: true,\n      }),\n    );\n  }\n\n  destroy() {\n    unsubscribeAll();\n  }\n}\n","import { each } from '@antv/util'; //  Behavior \n\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {};\n  },\n\n  /**\n   * register event handler, behavior will auto bind events\n   * for example:\n   * return {\n   *  click: 'onClick'\n   * }\n   */\n  getEvents: function getEvents() {\n    return {};\n  },\n  updateCfg: function updateCfg(cfg) {\n    Object.assign(this, cfg);\n    return true;\n  },\n  shouldBegin: function shouldBegin() {\n    return true;\n  },\n  shouldUpdate: function shouldUpdate() {\n    return true;\n  },\n  shouldEnd: function shouldEnd() {\n    return true;\n  },\n\n  /**\n   * auto bind events when register behavior\n   * @param graph Graph instance\n   */\n  bind: function bind(graph) {\n    var events = this.events;\n    this.graph = graph;\n\n    if (this.type === 'drag-canvas' || this.type === 'brush-select' || this.type === 'lasso-select') {\n      graph.get('canvas').set('draggable', true);\n    }\n\n    each(events, function (handler, event) {\n      graph.on(event, handler);\n    });\n  },\n  unbind: function unbind(graph) {\n    var events = this.events;\n\n    if (this.type === 'drag-canvas' || this.type === 'brush-select' || this.type === 'lasso-select') {\n      graph.get('canvas').set('draggable', false);\n    }\n\n    each(events, function (handler, event) {\n      graph.off(event, handler);\n    });\n  },\n  get: function get(val) {\n    return this[val];\n  },\n  set: function set(key, val) {\n    this[key] = val;\n    return this;\n  }\n};","import { clone, each, wrapBehavior } from '@antv/util';\nimport behaviorOption from './behaviorOption';\n\nvar Behavior =\n/** @class */\nfunction () {\n  function Behavior() {}\n  /**\n   *  Behavior\n   * @param type Behavior \n   * @param behavior Behavior \n   */\n\n\n  Behavior.registerBehavior = function (type, behavior) {\n    if (!behavior) {\n      throw new Error(\"please specify handler for this behavior: \" + type);\n    }\n\n    var prototype = clone(behaviorOption);\n    Object.assign(prototype, behavior); // eslint-disable-next-line func-names\n\n    var base = function base(cfg) {\n      var _this = this;\n\n      Object.assign(this, this.getDefaultCfg(), cfg);\n      var events = this.getEvents();\n      this.events = null;\n      var eventsToBind = {};\n\n      if (events) {\n        each(events, function (handle, event) {\n          eventsToBind[event] = wrapBehavior(_this, handle);\n        });\n        this.events = eventsToBind;\n      }\n    };\n\n    base.prototype = prototype;\n    Behavior.types[type] = base;\n  };\n\n  Behavior.hasBehavior = function (type) {\n    return !!Behavior.types[type];\n  };\n\n  Behavior.getBehavior = function (type) {\n    return Behavior.types[type];\n  }; //  Behavior \n\n\n  Behavior.types = {};\n  return Behavior;\n}();\n\nexport default Behavior;","import Behavior from './behavior';\nexport default Behavior;","var adjMatrix = function adjMatrix(graphData, directed) {\n  var nodes = graphData.nodes,\n      edges = graphData.edges;\n  var matrix = []; // map node with index in data.nodes\n\n  var nodeMap = {};\n\n  if (!nodes) {\n    throw new Error(\"invalid nodes data!\");\n  }\n\n  if (nodes) {\n    nodes.forEach(function (node, i) {\n      nodeMap[node.id] = i;\n      var row = [];\n      matrix.push(row);\n    });\n  }\n\n  if (edges) {\n    edges.forEach(function (edge) {\n      var source = edge.source,\n          target = edge.target;\n      var sIndex = nodeMap[source];\n      var tIndex = nodeMap[target];\n      if (!sIndex && sIndex !== 0 || !tIndex && tIndex !== 0) return;\n      matrix[sIndex][tIndex] = 1;\n\n      if (!directed) {\n        matrix[tIndex][sIndex] = 1;\n      }\n    });\n  }\n\n  return matrix;\n};\n\nexport default adjMatrix;","var defaultComparator = function defaultComparator(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  return false;\n};\n/**\n * \n */\n\n\nvar LinkedListNode =\n/** @class */\nfunction () {\n  function LinkedListNode(value, next) {\n    if (next === void 0) {\n      next = null;\n    }\n\n    this.value = value;\n    this.next = next;\n  }\n\n  LinkedListNode.prototype.toString = function (callback) {\n    return callback ? callback(this.value) : \"\" + this.value;\n  };\n\n  return LinkedListNode;\n}();\n\nexport { LinkedListNode };\n\nvar LinkedList =\n/** @class */\nfunction () {\n  function LinkedList(comparator) {\n    if (comparator === void 0) {\n      comparator = defaultComparator;\n    }\n\n    this.head = null;\n    this.tail = null;\n    this.compare = comparator;\n  }\n  /**\n   * \n   * @param value\n   */\n\n\n  LinkedList.prototype.prepend = function (value) {\n    // \n    var newNode = new LinkedListNode(value, this.head);\n    this.head = newNode;\n\n    if (!this.tail) {\n      this.tail = newNode;\n    }\n\n    return this;\n  };\n  /**\n   * \n   * @param value\n   */\n\n\n  LinkedList.prototype.append = function (value) {\n    var newNode = new LinkedListNode(value); // \n\n    if (!this.head) {\n      this.head = newNode;\n      this.tail = newNode;\n      return this;\n    } // \n\n\n    this.tail.next = newNode;\n    this.tail = newNode;\n    return this;\n  };\n  /**\n   * \n   * @param value \n   */\n\n\n  LinkedList.prototype.delete = function (value) {\n    if (!this.head) {\n      return null;\n    }\n\n    var deleteNode = null; // next\n\n    while (this.head && this.compare(this.head.value, value)) {\n      deleteNode = this.head;\n      this.head = this.head.next;\n    }\n\n    var currentNode = this.head;\n\n    if (currentNode !== null) {\n      // next\n      while (currentNode.next) {\n        if (this.compare(currentNode.next.value, value)) {\n          deleteNode = currentNode.next;\n          currentNode.next = currentNode.next.next;\n        } else {\n          currentNode = currentNode.next;\n        }\n      }\n    } // \n\n\n    if (this.compare(this.tail.value, value)) {\n      this.tail = currentNode;\n    }\n\n    return deleteNode;\n  };\n  /**\n   * \n   * @param param0\n   */\n\n\n  LinkedList.prototype.find = function (_a) {\n    var _b = _a.value,\n        value = _b === void 0 ? undefined : _b,\n        _c = _a.callback,\n        callback = _c === void 0 ? undefined : _c;\n\n    if (!this.head) {\n      return null;\n    }\n\n    var currentNode = this.head;\n\n    while (currentNode) {\n      //  callback callback \n      if (callback && callback(currentNode.value)) {\n        return currentNode;\n      } //  value value \n\n\n      if (value !== undefined && this.compare(currentNode.value, value)) {\n        return currentNode;\n      }\n\n      currentNode = currentNode.next;\n    }\n\n    return null;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.deleteTail = function () {\n    var deletedTail = this.tail;\n\n    if (this.head === this.tail) {\n      // \n      this.head = null;\n      this.tail = null;\n      return deletedTail;\n    }\n\n    var currentNode = this.head;\n\n    while (currentNode.next) {\n      if (!currentNode.next.next) {\n        currentNode.next = null;\n      } else {\n        currentNode = currentNode.next;\n      }\n    }\n\n    this.tail = currentNode;\n    return deletedTail;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.deleteHead = function () {\n    if (!this.head) {\n      return null;\n    }\n\n    var deletedHead = this.head;\n\n    if (this.head.next) {\n      this.head = this.head.next;\n    } else {\n      this.head = null;\n      this.tail = null;\n    }\n\n    return deletedHead;\n  };\n  /**\n   * \n   * @param values \n   */\n\n\n  LinkedList.prototype.fromArray = function (values) {\n    var _this = this;\n\n    values.forEach(function (value) {\n      return _this.append(value);\n    });\n    return this;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.toArray = function () {\n    var nodes = [];\n    var currentNode = this.head;\n\n    while (currentNode) {\n      nodes.push(currentNode);\n      currentNode = currentNode.next;\n    }\n\n    return nodes;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.reverse = function () {\n    var currentNode = this.head;\n    var prevNode = null;\n    var nextNode = null;\n\n    while (currentNode) {\n      // \n      nextNode = currentNode.next; // \n\n      currentNode.next = prevNode; //  prevNode  currentNode \n\n      prevNode = currentNode;\n      currentNode = nextNode;\n    }\n\n    this.tail = this.head;\n    this.head = prevNode;\n  };\n\n  LinkedList.prototype.toString = function (callback) {\n    if (callback === void 0) {\n      callback = undefined;\n    }\n\n    return this.toArray().map(function (node) {\n      return node.toString(callback);\n    }).toString();\n  };\n\n  return LinkedList;\n}();\n\nexport default LinkedList;","import LinkedList from './linked-list';\n\nvar Queue =\n/** @class */\nfunction () {\n  function Queue() {\n    this.linkedList = new LinkedList();\n  }\n  /**\n   * \n   */\n\n\n  Queue.prototype.isEmpty = function () {\n    return !this.linkedList.head;\n  };\n  /**\n   *  \n   */\n\n\n  Queue.prototype.peek = function () {\n    if (!this.linkedList.head) {\n      return null;\n    }\n\n    return this.linkedList.head.value;\n  };\n  /**\n   * \n   * @param value\n   */\n\n\n  Queue.prototype.enqueue = function (value) {\n    this.linkedList.append(value);\n  };\n  /**\n   *  null\n   */\n\n\n  Queue.prototype.dequeue = function () {\n    var removeHead = this.linkedList.deleteHead();\n    return removeHead ? removeHead.value : null;\n  };\n\n  Queue.prototype.toString = function (callback) {\n    return this.linkedList.toString(callback);\n  };\n\n  return Queue;\n}();\n\nexport default Queue;","var degree = function degree(graphData) {\n  var degrees = {};\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  nodes.forEach(function (node) {\n    degrees[node.id] = {\n      degree: 0,\n      inDegree: 0,\n      outDegree: 0\n    };\n  });\n  edges.forEach(function (edge) {\n    degrees[edge.source].degree++;\n    degrees[edge.source].outDegree++;\n    degrees[edge.target].degree++;\n    degrees[edge.target].inDegree++;\n  });\n  return degrees;\n};\n\nexport default degree;\n/**\n * \n * @param graphData \n * @param nodeId ID\n */\n\nexport var getInDegree = function getInDegree(graphData, nodeId) {\n  var nodeDegree = degree(graphData);\n\n  if (nodeDegree[nodeId]) {\n    return degree(graphData)[nodeId].inDegree;\n  }\n\n  return 0;\n};\n/**\n * \n * @param graphData \n * @param nodeId ID\n */\n\nexport var getOutDegree = function getOutDegree(graphData, nodeId) {\n  var nodeDegree = degree(graphData);\n\n  if (nodeDegree[nodeId]) {\n    return degree(graphData)[nodeId].outDegree;\n  }\n\n  return 0;\n};","import dijkstra from './dijkstra';\nimport { getNeighbors } from './util';\nexport var findShortestPath = function findShortestPath(graphData, start, end, directed, weightPropertyName) {\n  var _a = dijkstra(graphData, start, directed, weightPropertyName),\n      length = _a.length,\n      path = _a.path,\n      allPath = _a.allPath;\n\n  return {\n    length: length[end],\n    path: path[end],\n    allPath: allPath[end]\n  };\n};\nexport var findAllPath = function findAllPath(graphData, start, end, directed) {\n  var _a;\n\n  if (start === end) return [[start]];\n  var _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var visited = [start];\n  var isVisited = (_a = {}, _a[start] = true, _a);\n  var stack = []; // \n\n  var allPath = [];\n  var neighbors = directed ? getNeighbors(start, edges, 'target') : getNeighbors(start, edges);\n  stack.push(neighbors);\n\n  while (visited.length > 0 && stack.length > 0) {\n    var children = stack[stack.length - 1];\n\n    if (children.length) {\n      var child = children.shift();\n\n      if (child) {\n        visited.push(child);\n        isVisited[child] = true;\n        neighbors = directed ? getNeighbors(child, edges, 'target') : getNeighbors(child, edges);\n        stack.push(neighbors.filter(function (neighbor) {\n          return !isVisited[neighbor];\n        }));\n      }\n    } else {\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n      continue;\n    }\n\n    if (visited[visited.length - 1] === end) {\n      var path = visited.map(function (node) {\n        return node;\n      });\n      allPath.push(path);\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n    }\n  }\n\n  return allPath;\n};","import getAdjMatrix from \"./adjacent-matrix\";\n\nvar floydWarshall = function floydWarshall(graphData, directed) {\n  var adjacentMatrix = getAdjMatrix(graphData, directed);\n  var dist = [];\n  var size = adjacentMatrix.length;\n\n  for (var i = 0; i < size; i += 1) {\n    dist[i] = [];\n\n    for (var j = 0; j < size; j += 1) {\n      if (i === j) {\n        dist[i][j] = 0;\n      } else if (adjacentMatrix[i][j] === 0 || !adjacentMatrix[i][j]) {\n        dist[i][j] = Infinity;\n      } else {\n        dist[i][j] = adjacentMatrix[i][j];\n      }\n    }\n  } // floyd\n\n\n  for (var k = 0; k < size; k += 1) {\n    for (var i = 0; i < size; i += 1) {\n      for (var j = 0; j < size; j += 1) {\n        if (dist[i][j] > dist[i][k] + dist[k][j]) {\n          dist[i][j] = dist[i][k] + dist[k][j];\n        }\n      }\n    }\n  }\n\n  return dist;\n};\n\nexport default floydWarshall;","var defaultCompare = function defaultCompare(a, b) {\n  return a - b;\n};\n\nvar MinBinaryHeap =\n/** @class */\nfunction () {\n  function MinBinaryHeap(compareFn) {\n    if (compareFn === void 0) {\n      compareFn = defaultCompare;\n    }\n\n    this.compareFn = compareFn;\n    this.list = [];\n  }\n\n  MinBinaryHeap.prototype.getLeft = function (index) {\n    return 2 * index + 1;\n  };\n\n  MinBinaryHeap.prototype.getRight = function (index) {\n    return 2 * index + 2;\n  };\n\n  MinBinaryHeap.prototype.getParent = function (index) {\n    if (index === 0) {\n      return null;\n    }\n\n    return Math.floor((index - 1) / 2);\n  };\n\n  MinBinaryHeap.prototype.isEmpty = function () {\n    return this.list.length <= 0;\n  };\n\n  MinBinaryHeap.prototype.top = function () {\n    return this.isEmpty() ? undefined : this.list[0];\n  };\n\n  MinBinaryHeap.prototype.delMin = function () {\n    var top = this.top();\n    var bottom = this.list.pop();\n\n    if (this.list.length > 0) {\n      this.list[0] = bottom;\n      this.moveDown(0);\n    }\n\n    return top;\n  };\n\n  MinBinaryHeap.prototype.insert = function (value) {\n    if (value !== null) {\n      this.list.push(value);\n      var index = this.list.length - 1;\n      this.moveUp(index);\n      return true;\n    }\n\n    return false;\n  };\n\n  MinBinaryHeap.prototype.moveUp = function (index) {\n    var parent = this.getParent(index);\n\n    while (index && index > 0 && this.compareFn(this.list[parent], this.list[index]) > 0) {\n      // swap\n      var tmp = this.list[parent];\n      this.list[parent] = this.list[index];\n      this.list[index] = tmp; // [this.list[index], this.list[parent]] = [this.list[parent], this.list[index]]\n\n      index = parent;\n      parent = this.getParent(index);\n    }\n  };\n\n  MinBinaryHeap.prototype.moveDown = function (index) {\n    var _a;\n\n    var element = index;\n    var left = this.getLeft(index);\n    var right = this.getRight(index);\n    var size = this.list.length;\n\n    if (left !== null && left < size && this.compareFn(this.list[element], this.list[left]) > 0) {\n      element = left;\n    } else if (right !== null && right < size && this.compareFn(this.list[element], this.list[right]) > 0) {\n      element = right;\n    }\n\n    if (index !== element) {\n      _a = [this.list[element], this.list[index]], this.list[index] = _a[0], this.list[element] = _a[1];\n      this.moveDown(element);\n    }\n  };\n\n  return MinBinaryHeap;\n}();\n\nexport default MinBinaryHeap;","/**\n *  Disjoint set to support quick union\n */\nvar UnionFind =\n/** @class */\nfunction () {\n  function UnionFind(items) {\n    this.count = items.length;\n    this.parent = {};\n\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var i = items_1[_i];\n      this.parent[i] = i;\n    }\n  } // find the root of the item\n\n\n  UnionFind.prototype.find = function (item) {\n    while (this.parent[item] !== item) {\n      item = this.parent[item];\n    }\n\n    return item;\n  };\n\n  UnionFind.prototype.union = function (a, b) {\n    var rootA = this.find(a);\n    var rootB = this.find(b);\n    if (rootA === rootB) return; // make the element with smaller root the parent\n\n    if (rootA < rootB) {\n      if (this.parent[b] !== b) this.union(this.parent[b], a);\n      this.parent[b] = this.parent[a];\n    } else {\n      if (this.parent[a] !== a) this.union(this.parent[a], b);\n      this.parent[a] = this.parent[b];\n    }\n  }; // whether a and b are connected, i.e. a and b have the same root\n\n\n  UnionFind.prototype.connected = function (a, b) {\n    return this.find(a) === this.find(b);\n  };\n\n  return UnionFind;\n}();\n\nexport default UnionFind;","export var VACANT_EDGE_ID = -1;\nexport var VACANT_NODE_ID = -1;\nexport var VACANT_EDGE_LABEL = \"-1\";\nexport var VACANT_NODE_LABEL = \"-1\";\nexport var VACANT_GRAPH_ID = -1;\nexport var AUTO_EDGE_ID = \"-1\";\n\nvar Edge =\n/** @class */\nfunction () {\n  function Edge(id, from, to, label) {\n    if (id === void 0) {\n      id = VACANT_EDGE_ID;\n    }\n\n    if (from === void 0) {\n      from = VACANT_NODE_ID;\n    }\n\n    if (to === void 0) {\n      to = VACANT_NODE_ID;\n    }\n\n    if (label === void 0) {\n      label = VACANT_EDGE_LABEL;\n    }\n\n    this.id = id;\n    this.from = from;\n    this.to = to;\n    this.label = label;\n  }\n\n  return Edge;\n}();\n\nexport { Edge };\n\nvar Node =\n/** @class */\nfunction () {\n  function Node(id, label) {\n    if (id === void 0) {\n      id = VACANT_NODE_ID;\n    }\n\n    if (label === void 0) {\n      label = VACANT_NODE_LABEL;\n    }\n\n    this.id = id;\n    this.label = label;\n    this.edges = [];\n    this.edgeMap = {};\n  }\n\n  Node.prototype.addEdge = function (edge) {\n    this.edges.push(edge);\n    this.edgeMap[edge.id] = edge;\n  };\n\n  return Node;\n}();\n\nexport { Node };\n\nvar Graph =\n/** @class */\nfunction () {\n  function Graph(id, edgeIdAutoIncrease, directed) {\n    if (id === void 0) {\n      id = VACANT_NODE_ID;\n    }\n\n    if (edgeIdAutoIncrease === void 0) {\n      edgeIdAutoIncrease = true;\n    }\n\n    if (directed === void 0) {\n      directed = false;\n    }\n\n    this.id = id;\n    this.edgeIdAutoIncrease = edgeIdAutoIncrease;\n    this.edges = [];\n    this.nodes = [];\n    this.nodeMap = {};\n    this.edgeMap = {};\n    this.nodeLabelMap = {};\n    this.edgeLabelMap = {};\n    this.counter = 0;\n    this.directed = directed;\n  }\n\n  Graph.prototype.getNodeNum = function () {\n    return this.nodes.length;\n  };\n\n  Graph.prototype.addNode = function (id, label) {\n    if (this.nodeMap[id]) return;\n    var node = new Node(id, label);\n    this.nodes.push(node);\n    this.nodeMap[id] = node;\n    if (!this.nodeLabelMap[label]) this.nodeLabelMap[label] = [];\n    this.nodeLabelMap[label].push(id);\n  };\n\n  Graph.prototype.addEdge = function (id, from, to, label) {\n    if (this.edgeIdAutoIncrease || id === undefined) id = this.counter++;\n    if (this.nodeMap[from] && this.nodeMap[to] && this.nodeMap[to].edgeMap[id]) return;\n    var edge = new Edge(id, from, to, label);\n    this.edges.push(edge);\n    this.edgeMap[id] = edge;\n    this.nodeMap[from].addEdge(edge);\n    if (!this.edgeLabelMap[label]) this.edgeLabelMap[label] = [];\n    this.edgeLabelMap[label].push(edge);\n\n    if (!this.directed) {\n      var rEdge = new Edge(id, to, from, label);\n      this.nodeMap[to].addEdge(rEdge);\n      this.edgeLabelMap[label].push(rEdge);\n    }\n  };\n\n  return Graph;\n}();\n\nexport { Graph };","import { clone } from \"@antv/util\";\nimport { Graph, VACANT_NODE_LABEL, VACANT_GRAPH_ID, VACANT_EDGE_LABEL } from \"./struct\";\n\nvar DFSedge =\n/** @class */\nfunction () {\n  function DFSedge(fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel) {\n    this.fromNode = fromNode;\n    this.toNode = toNode;\n    this.nodeEdgeNodeLabel = {\n      nodeLabel1: fromNodeLabel || VACANT_NODE_LABEL,\n      edgeLabel: edgeLabel || VACANT_EDGE_LABEL,\n      nodeLabel2: toNodeLabel || VACANT_NODE_LABEL\n    };\n  }\n\n  DFSedge.prototype.equalTo = function (other) {\n    return this.fromNode === other.formNode && this.toNode === other.toNode && this.nodeEdgeNodeLabel === other.nodeEdgeNodeLabel;\n  };\n\n  DFSedge.prototype.notEqualTo = function (other) {\n    return !this.equalTo(other);\n  };\n\n  return DFSedge;\n}(); // DFScode  DESedge \n\n\nvar DFScode =\n/** @class */\nfunction () {\n  function DFScode() {\n    this.rmpath = [];\n    this.dfsEdgeList = [];\n  }\n\n  DFScode.prototype.equalTo = function (other) {\n    var aLength = this.dfsEdgeList.length;\n    var bLength = other.length;\n    if (aLength !== bLength) return false;\n\n    for (var i = 0; i < aLength; i++) {\n      if (this.dfsEdgeList[i] !== other[i]) return false;\n    }\n\n    return true;\n  };\n\n  DFScode.prototype.notEqualTo = function (other) {\n    return !this.equalTo(other);\n  };\n  /**  edge  DFScode */\n\n\n  DFScode.prototype.pushBack = function (fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel) {\n    this.dfsEdgeList.push(new DFSedge(fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel));\n    return this.dfsEdgeList;\n  };\n  /**  dfs  */\n\n\n  DFScode.prototype.toGraph = function (graphId, directed) {\n    if (graphId === void 0) {\n      graphId = VACANT_GRAPH_ID;\n    }\n\n    if (directed === void 0) {\n      directed = false;\n    }\n\n    var graph = new Graph(graphId, true, directed);\n    this.dfsEdgeList.forEach(function (dfsEdge) {\n      var fromNodeId = dfsEdge.fromNode;\n      var toNodeId = dfsEdge.toNode;\n      var _a = dfsEdge.nodeEdgeNodeLabel,\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n      if (nodeLabel1 !== VACANT_NODE_LABEL) graph.addNode(fromNodeId, nodeLabel1);\n      if (nodeLabel2 !== VACANT_NODE_LABEL) graph.addNode(toNodeId, nodeLabel2);\n      graph.addEdge(undefined, fromNodeId, toNodeId, edgeLabel);\n    });\n    return graph;\n  }; //  rightmost path\n\n\n  DFScode.prototype.buildRmpath = function () {\n    this.rmpath = [];\n    var oldFrom = undefined;\n    var selfLength = this.dfsEdgeList.length;\n\n    for (var i = selfLength - 1; i >= 0; i--) {\n      var dfsEdge = this.dfsEdgeList[i];\n      var fromNodeIdx = dfsEdge.fromNode;\n      var toNodeIdx = dfsEdge.toNode;\n\n      if (fromNodeIdx < toNodeIdx && (oldFrom === undefined || toNodeIdx === oldFrom)) {\n        this.rmpath.push(i);\n        oldFrom = fromNodeIdx;\n      }\n    }\n\n    return this.rmpath;\n  };\n\n  DFScode.prototype.getNodeNum = function () {\n    var nodeMap = {};\n    this.dfsEdgeList.forEach(function (dfsEdge) {\n      if (!nodeMap[dfsEdge.fromNode]) nodeMap[dfsEdge.fromNode] = true;\n      if (!nodeMap[dfsEdge.toNode]) nodeMap[dfsEdge.toNode] = true;\n    });\n    return Object.keys(nodeMap).length;\n  };\n\n  return DFScode;\n}();\n\nvar History =\n/** @class */\nfunction () {\n  function History(pdfs) {\n    this.his = {};\n    this.nodesUsed = {};\n    this.edgesUsed = {};\n    this.edges = [];\n    if (!pdfs) return;\n\n    while (pdfs) {\n      var e = pdfs.edge;\n      this.edges.push(e);\n      this.nodesUsed[e.from] = 1;\n      this.nodesUsed[e.to] = 1;\n      this.edgesUsed[e.id] = 1;\n      pdfs = pdfs.preNode;\n    } // \n\n\n    this.edges = this.edges.reverse();\n  }\n\n  History.prototype.hasNode = function (node) {\n    return this.nodesUsed[node.id] === 1;\n  };\n\n  History.prototype.hasEdge = function (edge) {\n    return this.edgesUsed[edge.id] === 1;\n  };\n\n  return History;\n}();\n\nvar GSpan =\n/** @class */\nfunction () {\n  function GSpan(_a) {\n    var graphs = _a.graphs,\n        _b = _a.minSupport,\n        minSupport = _b === void 0 ? 2 : _b,\n        _c = _a.minNodeNum,\n        minNodeNum = _c === void 0 ? 1 : _c,\n        _d = _a.maxNodeNum,\n        maxNodeNum = _d === void 0 ? 4 : _d,\n        _e = _a.top,\n        top = _e === void 0 ? 10 : _e,\n        _f = _a.directed,\n        directed = _f === void 0 ? false : _f,\n        _g = _a.verbose,\n        verbose = _g === void 0 ? false : _g; // -------- -------\n\n    this.graphs = graphs;\n    this.dfsCode = new DFScode();\n    this.support = 0;\n    this.frequentSize1Subgraphs = [];\n    this.frequentSubgraphs = [];\n    this.minSupport = minSupport;\n    this.top = top;\n    this.directed = directed;\n    this.counter = 0; // TODO? timestamp = {}\n\n    this.maxNodeNum = maxNodeNum;\n    this.minNodeNum = minNodeNum;\n    this.verbose = verbose;\n    if (this.maxNodeNum < this.minNodeNum) this.maxNodeNum = this.minNodeNum;\n    this.reportDF = []; // matrix\n  } // Line 352\n\n\n  GSpan.prototype.findForwardRootEdges = function (graph, fromNode) {\n    var _this = this;\n\n    var result = [];\n    var nodeMap = graph.nodeMap;\n    fromNode.edges.forEach(function (edge) {\n      if (_this.directed || fromNode.label <= nodeMap[edge.to].label) result.push(edge);\n    });\n    return result;\n  };\n\n  GSpan.prototype.findBackwardEdge = function (graph, edge1, edge2, history) {\n    if (!this.directed && edge1 === edge2) return null;\n    var nodeMap = graph.nodeMap;\n    var edge2To = nodeMap[edge2.to];\n    var edge2ToEdges = edge2To.edges;\n    var edgeLength = edge2ToEdges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edge2ToEdges[i];\n      if (history.hasEdge(edge) || edge.to !== edge1.from) continue;\n\n      if (!this.directed) {\n        if (edge1.label < edge.label || edge1.label === edge.label && nodeMap[edge1.to].label <= nodeMap[edge2.to].label) {\n          return edge;\n        }\n      } else {\n        if (nodeMap[edge1.from].label < nodeMap[edge2.to].label || nodeMap[edge1.from].label === nodeMap[edge2.to].label && edge1.label <= edge.label) {\n          return edge;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  GSpan.prototype.findForwardPureEdges = function (graph, rightmostEdge, minNodeLabel, history) {\n    var result = [];\n    var rightmostEdgeToId = rightmostEdge.to;\n    var edges = graph.nodeMap[rightmostEdgeToId].edges;\n    var edgeLength = edges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edges[i];\n      var toNode = graph.nodeMap[edge.to];\n\n      if (minNodeLabel <= toNode.label && !history.hasNode(toNode)) {\n        result.push(edge);\n      }\n    }\n\n    return result;\n  };\n\n  GSpan.prototype.findForwardRmpathEdges = function (graph, rightmostEdge, minNodeLabel, history) {\n    var result = [];\n    var nodeMap = graph.nodeMap;\n    var toNodeLabel = nodeMap[rightmostEdge.to].label;\n    var fromNode = nodeMap[rightmostEdge.from];\n    var edges = fromNode.edges;\n    var edgeLength = edges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edges[i];\n      var newToNodeLabel = nodeMap[edge.to].label;\n\n      if (rightmostEdge.to === edge.to || minNodeLabel > newToNodeLabel || history.hasNode(nodeMap[edge.to])) {\n        continue;\n      }\n\n      if (rightmostEdge.label < edge.label || rightmostEdge.label === edge.label && toNodeLabel <= newToNodeLabel) {\n        result.push(edge);\n      }\n    }\n\n    return result;\n  };\n\n  GSpan.prototype.getSupport = function (projected) {\n    var graphMap = {};\n    projected.forEach(function (pro) {\n      if (!graphMap[pro.graphId]) graphMap[pro.graphId] = true;\n    });\n    return Object.keys(graphMap).length;\n  };\n\n  GSpan.prototype.findMinLabel = function (obj) {\n    var minLabel = undefined;\n    Object.keys(obj).forEach(function (nodeEdgeNodeLabel) {\n      var _a = obj[nodeEdgeNodeLabel],\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      if (!minLabel) {\n        minLabel = {\n          nodeLabel1: nodeLabel1,\n          edgeLabel: edgeLabel,\n          nodeLabel2: nodeLabel2\n        };\n        return;\n      }\n\n      if (nodeLabel1 < minLabel.nodeLabel1 || nodeLabel1 === minLabel.nodeLabel1 && edgeLabel < minLabel.edgeLabel || nodeLabel1 === minLabel.nodeLabel1 && edgeLabel === minLabel.edgeLabel && nodeLabel2 < minLabel.nodeLabel2) {\n        minLabel = {\n          nodeLabel1: nodeLabel1,\n          edgeLabel: edgeLabel,\n          nodeLabel2: nodeLabel2\n        };\n      }\n    });\n    return minLabel;\n  };\n\n  GSpan.prototype.isMin = function () {\n    var _this = this;\n\n    var dfsCode = this.dfsCode;\n    if (this.verbose) console.log(\"isMin checking\", dfsCode);\n    if (dfsCode.dfsEdgeList.length === 1) return true;\n    var directed = this.directed;\n    var graph = dfsCode.toGraph(VACANT_GRAPH_ID, directed);\n    var nodeMap = graph.nodeMap;\n    var dfsCodeMin = new DFScode();\n    var root = {};\n    graph.nodes.forEach(function (node) {\n      var forwardEdges = _this.findForwardRootEdges(graph, node);\n\n      forwardEdges.forEach(function (edge) {\n        var otherNode = nodeMap[edge.to];\n        var nodeEdgeNodeLabel = node.label + \"-\" + edge.label + \"-\" + otherNode.label;\n        if (!root[nodeEdgeNodeLabel]) root[nodeEdgeNodeLabel] = {\n          projected: [],\n          nodeLabel1: node.label,\n          edgeLabel: edge.label,\n          nodeLabel2: otherNode.label\n        };\n        var pdfs = {\n          graphId: graph.id,\n          edge: edge,\n          preNode: null\n        };\n        root[nodeEdgeNodeLabel].projected.push(pdfs);\n      });\n    }); //  root  nodeEdgeNodeLabel  nodeLabel1edgeLabenodeLabel2 \n\n    var minLabel = this.findMinLabel(root); // line 419\n\n    dfsCodeMin.dfsEdgeList.push(new DFSedge(0, 1, minLabel.nodeLabel1, minLabel.edgeLabel, minLabel.nodeLabel2)); // line 423\n\n    var projectIsMin = function projectIsMin(projected) {\n      // right most path\n      var rmpath = dfsCodeMin.buildRmpath();\n      var minNodeLabel = dfsCodeMin.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1;\n      var maxToC = dfsCodeMin.dfsEdgeList[rmpath[0]].toNode; // node id\n\n      var backwardRoot = {};\n      var flag = false,\n          newTo = 0;\n      var end = directed ? -1 : 0; //  1  0\n\n      var _loop_1 = function _loop_1(i) {\n        if (flag) return \"break\"; // line 435\n\n        projected.forEach(function (p) {\n          var history = new History(p);\n\n          var backwardEdge = _this.findBackwardEdge(graph, history.edges[rmpath[i]], history.edges[rmpath[0]], history);\n\n          if (backwardEdge) {\n            // Line 441\n            if (!backwardRoot[backwardEdge.label]) {\n              backwardRoot[backwardEdge.label] = {\n                projected: [],\n                edgeLabel: backwardEdge.label\n              };\n            }\n\n            backwardRoot[backwardEdge.label].projected.push({\n              graphId: graph.id,\n              edge: backwardRoot,\n              preNode: p\n            });\n            newTo = dfsCodeMin.dfsEdgeList[rmpath[i]].fromNode;\n            flag = true;\n          }\n        });\n      };\n\n      for (var i = rmpath.length - 1; i > end; i--) {\n        var state_1 = _loop_1(i);\n\n        if (state_1 === \"break\") break;\n      }\n\n      if (flag) {\n        var minBackwardEdgeLabel = _this.findMinLabel(backwardRoot);\n\n        dfsCodeMin.dfsEdgeList.push(new DFSedge(maxToC, newTo, VACANT_NODE_LABEL, minBackwardEdgeLabel.edgeLabel, VACANT_NODE_LABEL));\n        var idx_1 = dfsCodeMin.dfsEdgeList.length - 1;\n        if (_this.dfsCode.dfsEdgeList[idx_1] !== dfsCodeMin.dfsEdgeList[idx_1]) return false;\n        return projectIsMin(backwardRoot[minBackwardEdgeLabel.edgeLabel].projected);\n      }\n\n      var forwardRoot = {};\n      flag = false;\n      var newFrom = 0;\n      projected.forEach(function (p) {\n        var history = new History(p);\n\n        var forwardPureEdges = _this.findForwardPureEdges(graph, history.edges[rmpath[0]], minNodeLabel, history);\n\n        if (forwardPureEdges.length > 0) {\n          flag = true;\n          newFrom = maxToC;\n          forwardPureEdges.forEach(function (edge) {\n            var key = edge.label + \"-\" + nodeMap[edge.to].label;\n            if (!forwardRoot[key]) forwardRoot[key] = {\n              projected: [],\n              edgeLabel: edge.label,\n              nodeLabel2: nodeMap[edge.to].label\n            };\n            forwardRoot[key].projected.push({\n              graphId: graph.id,\n              edge: edge,\n              preNode: p\n            });\n          });\n        }\n      });\n      var pathLength = rmpath.length;\n\n      var _loop_2 = function _loop_2(i) {\n        if (flag) return \"break\";\n        var value = rmpath[i];\n        projected.forEach(function (p) {\n          var history = new History(p);\n\n          var forwardRmpathEdges = _this.findForwardRmpathEdges(graph, history.edges[value], minNodeLabel, history);\n\n          if (forwardRmpathEdges.length > 0) {\n            flag = true;\n            newFrom = dfsCodeMin.dfsEdgeList[value].fromNode;\n            forwardRmpathEdges.forEach(function (edge) {\n              var key = edge.label + \"-\" + nodeMap[edge.to].label;\n              if (!forwardRoot[key]) forwardRoot[key] = {\n                projected: [],\n                edgeLabel: edge.label,\n                nodeLabel2: nodeMap[edge.to].label\n              };\n              forwardRoot[key].projected.push({\n                graphId: graph.id,\n                edge: edge,\n                preNode: p\n              });\n            });\n          }\n        });\n      };\n\n      for (var i = 0; i < pathLength; i++) {\n        var state_2 = _loop_2(i);\n\n        if (state_2 === \"break\") break;\n      }\n\n      if (!flag) return true;\n\n      var forwardMinEdgeNodeLabel = _this.findMinLabel(forwardRoot);\n\n      dfsCodeMin.dfsEdgeList.push(new DFSedge(newFrom, maxToC + 1, VACANT_NODE_LABEL, forwardMinEdgeNodeLabel.edgeLabel, forwardMinEdgeNodeLabel.nodeLabel2));\n      var idx = dfsCodeMin.dfsEdgeList.length - 1;\n      if (dfsCode.dfsEdgeList[idx] !== dfsCodeMin.dfsEdgeList[idx]) return false;\n      return projectIsMin(forwardRoot[forwardMinEdgeNodeLabel.edgeLabel + \"-\" + forwardMinEdgeNodeLabel.nodeLabel2].projected);\n    };\n\n    var key = minLabel.nodeLabel1 + \"-\" + minLabel.edgeLabel + \"-\" + minLabel.nodeLabel2;\n    return projectIsMin(root[key].projected);\n  };\n\n  GSpan.prototype.report = function () {\n    if (this.dfsCode.getNodeNum() < this.minNodeNum) return;\n    this.counter++;\n    var graph = this.dfsCode.toGraph(this.counter, this.directed);\n    this.frequentSubgraphs.push(clone(graph));\n  };\n\n  GSpan.prototype.subGraphMining = function (projected) {\n    var _this = this;\n\n    var support = this.getSupport(projected);\n    if (support < this.minSupport) return;\n    if (!this.isMin()) return;\n    this.report();\n    var nodeNum = this.dfsCode.getNodeNum();\n    var rmpath = this.dfsCode.buildRmpath();\n    var maxToC = this.dfsCode.dfsEdgeList[rmpath[0]].toNode;\n    var minNodeLabel = this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1;\n    var forwardRoot = {};\n    var backwardRoot = {};\n    projected.forEach(function (p) {\n      var graph = _this.graphs[p.graphId];\n      var nodeMap = graph.nodeMap;\n      var history = new History(p); // backward Line 526\n\n      for (var i = rmpath.length - 1; i >= 0; i--) {\n        var backwardEdge = _this.findBackwardEdge(graph, history.edges[rmpath[i]], history.edges[rmpath[0]], history);\n\n        if (backwardEdge) {\n          var key = _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode + \"-\" + backwardEdge.label;\n          if (!backwardRoot[key]) backwardRoot[key] = {\n            projected: [],\n            toNodeId: _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode,\n            edgeLabel: backwardEdge.label\n          };\n          backwardRoot[key].projected.push({\n            graphId: p.graphId,\n            edge: backwardEdge,\n            preNode: p\n          });\n        }\n      } // pure forward\n\n\n      if (nodeNum >= _this.maxNodeNum) return;\n\n      var forwardPureEdges = _this.findForwardPureEdges(graph, history.edges[rmpath[0]], minNodeLabel, history);\n\n      forwardPureEdges.forEach(function (edge) {\n        var key = maxToC + \"-\" + edge.label + \"-\" + nodeMap[edge.to].label;\n        if (!forwardRoot[key]) forwardRoot[key] = {\n          projected: [],\n          fromNodeId: maxToC,\n          edgeLabel: edge.label,\n          nodeLabel2: nodeMap[edge.to].label\n        };\n        forwardRoot[key].projected.push({\n          graphId: p.graphId,\n          edge: edge,\n          preNode: p\n        });\n      });\n\n      var _loop_3 = function _loop_3(i) {\n        var forwardRmpathEdges = _this.findForwardRmpathEdges(graph, history.edges[rmpath[i]], minNodeLabel, history);\n\n        forwardRmpathEdges.forEach(function (edge) {\n          var key = _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode + \"-\" + edge.label + \"-\" + nodeMap[edge.to].label;\n          if (!forwardRoot[key]) forwardRoot[key] = {\n            projected: [],\n            fromNodeId: _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode,\n            edgeLabel: edge.label,\n            nodeLabel2: nodeMap[edge.to].label\n          };\n          forwardRoot[key].projected.push({\n            graphId: p.graphId,\n            edge: edge,\n            preNode: p\n          });\n        });\n      }; // rmpath forward\n\n\n      for (var i = 0; i < rmpath.length; i++) {\n        _loop_3(i);\n      }\n    }); // backward\n\n    Object.keys(backwardRoot).forEach(function (key) {\n      var _a = backwardRoot[key],\n          toNodeId = _a.toNodeId,\n          edgeLabel = _a.edgeLabel;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(maxToC, toNodeId, \"-1\", edgeLabel, \"-1\"));\n\n      _this.subGraphMining(backwardRoot[key].projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    }); // forward\n\n    Object.keys(forwardRoot).forEach(function (key) {\n      var _a = forwardRoot[key],\n          fromNodeId = _a.fromNodeId,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(fromNodeId, maxToC + 1, VACANT_NODE_LABEL, edgeLabel, nodeLabel2));\n\n      _this.subGraphMining(forwardRoot[key].projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    });\n  };\n\n  GSpan.prototype.generate1EdgeFrequentSubGraphs = function () {\n    var graphs = this.graphs;\n    var directed = this.directed;\n    var minSupport = this.minSupport;\n    var frequentSize1Subgraphs = this.frequentSize1Subgraphs;\n    var nodeLabelCounter = {},\n        nodeEdgeNodeCounter = {}; //  mapkey  graphKey-node\n\n    var nodeLableCounted = {}; //  mapkey  graphKey-fromNode-edge-toNode\n\n    var nodeEdgeNodeLabelCounted = {};\n    Object.keys(graphs).forEach(function (key) {\n      // Line 271\n      var graph = graphs[key];\n      var nodeMap = graph.nodeMap; //    label  nodeLableCounted\n\n      graph.nodes.forEach(function (node, i) {\n        // Line 272\n        var nodeLabel = node.label;\n        var graphNodeKey = key + \"-\" + nodeLabel;\n\n        if (!nodeLableCounted[graphNodeKey]) {\n          var counter = nodeLabelCounter[nodeLabel] || 0;\n          counter++;\n          nodeLabelCounter[nodeLabel] = counter;\n        }\n\n        nodeLableCounted[graphNodeKey] = {\n          graphKey: key,\n          label: nodeLabel\n        }; //  nodeEdgeNodeLabelCounted. Line 276\n\n        node.edges.forEach(function (edge) {\n          var nodeLabel1 = nodeLabel;\n          var nodeLabel2 = nodeMap[edge.to].label;\n\n          if (!directed && nodeLabel1 > nodeLabel2) {\n            var tmp = nodeLabel2;\n            nodeLabel2 = nodeLabel1;\n            nodeLabel1 = tmp;\n          }\n\n          var edgeLabel = edge.label;\n          var graphNodeEdgeNodeKey = key + \"-\" + nodeLabel1 + \"-\" + edgeLabel + \"-\" + nodeLabel2;\n          var nodeEdgeNodeKey = nodeLabel1 + \"-\" + edgeLabel + \"-\" + nodeLabel2;\n\n          if (!nodeEdgeNodeCounter[nodeEdgeNodeKey]) {\n            var counter = nodeEdgeNodeCounter[nodeEdgeNodeKey] || 0;\n            counter++;\n            nodeEdgeNodeCounter[nodeEdgeNodeKey] = counter; // Line281\n          }\n\n          nodeEdgeNodeLabelCounted[graphNodeEdgeNodeKey] = {\n            graphId: key,\n            nodeLabel1: nodeLabel1,\n            edgeLabel: edgeLabel,\n            nodeLabel2: nodeLabel2\n          };\n        });\n      });\n    }); // \n\n    Object.keys(nodeLabelCounter).forEach(function (label) {\n      var count = nodeLabelCounter[label];\n      if (count < minSupport) return;\n      var g = {\n        nodes: [],\n        edges: []\n      };\n      g.nodes.push({\n        id: \"0\",\n        label: label\n      });\n      frequentSize1Subgraphs.push(g); // if (minNodeNum <= 1) reportSize1 TODO\n    });\n    return frequentSize1Subgraphs;\n  };\n\n  GSpan.prototype.run = function () {\n    var _this = this; // -------- , _generate_1edge_frequent_subgraphs-------\n\n\n    this.frequentSize1Subgraphs = this.generate1EdgeFrequentSubGraphs();\n    if (this.maxNodeNum < 2) return;\n    var graphs = this.graphs;\n    var directed = this.directed; // PDFS  map Line 304\n\n    var root = {};\n    Object.keys(graphs).forEach(function (graphId) {\n      var graph = graphs[graphId];\n      var nodeMap = graph.nodeMap; // Line 306\n\n      graph.nodes.forEach(function (node) {\n        var forwardRootEdges = _this.findForwardRootEdges(graph, node); // Line 308\n\n\n        forwardRootEdges.forEach(function (edge) {\n          var toNode = nodeMap[edge.to];\n          var nodeEdgeNodeLabel = node.label + \"-\" + edge.label + \"-\" + toNode.label;\n          if (!root[nodeEdgeNodeLabel]) root[nodeEdgeNodeLabel] = {\n            projected: [],\n            nodeLabel1: node.label,\n            edgeLabel: edge.label,\n            nodeLabel2: toNode.label\n          };\n          var pdfs = {\n            graphId: graphId,\n            edge: edge,\n            preNode: null\n          };\n          root[nodeEdgeNodeLabel].projected.push(pdfs);\n        });\n      });\n    }); // Line 313\n\n    Object.keys(root).forEach(function (nodeEdgeNodeLabel) {\n      var _a = root[nodeEdgeNodeLabel],\n          projected = _a.projected,\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(0, 1, nodeLabel1, edgeLabel, nodeLabel2));\n\n      _this.subGraphMining(projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    });\n  };\n\n  return GSpan;\n}();\n\nvar formatGraphs = function formatGraphs(graphs, directed, nodeLabelProp, edgeLabelProp) {\n  var result = {};\n  Object.keys(graphs).forEach(function (key, i) {\n    var graph = graphs[key];\n    var fGraph = new Graph(i, true, directed);\n    var nodeIdxMap = {};\n    graph.nodes.forEach(function (node, j) {\n      fGraph.addNode(j, node[nodeLabelProp]);\n      nodeIdxMap[node.id] = j;\n    });\n    graph.edges.forEach(function (edge, k) {\n      var sourceIdx = nodeIdxMap[edge.source];\n      var targetIdx = nodeIdxMap[edge.target];\n      fGraph.addEdge(-1, sourceIdx, targetIdx, edge[edgeLabelProp]);\n    });\n    if (fGraph && fGraph.getNodeNum()) result[fGraph.id] = fGraph;\n  });\n  return result;\n};\n\nvar toGraphDatas = function toGraphDatas(graphs, nodeLabelProp, edgeLabelProp) {\n  var result = [];\n  graphs.forEach(function (graph) {\n    var graphData = {\n      nodes: [],\n      edges: []\n    };\n    graph.nodes.forEach(function (node) {\n      var _a;\n\n      graphData.nodes.push((_a = {\n        id: \"\" + node.id\n      }, _a[nodeLabelProp] = node.label, _a));\n    });\n    graph.edges.forEach(function (edge) {\n      var _a;\n\n      graphData.edges.push((_a = {\n        source: \"\" + edge.from,\n        target: \"\" + edge.to\n      }, _a[edgeLabelProp] = edge.label, _a));\n    });\n    result.push(graphData);\n  });\n  return result;\n};\n\nvar DEFAULT_LABEL_NAME = \"cluster\";\n/**\n * gSpan frequent graph mining\n * @param params \n */\n\nvar gSpan = function gSpan(params) {\n  // -------  GraphData  map  -------\n  var graphs = params.graphs,\n      _a = params.directed,\n      directed = _a === void 0 ? false : _a,\n      _b = params.nodeLabelProp,\n      nodeLabelProp = _b === void 0 ? DEFAULT_LABEL_NAME : _b,\n      _c = params.edgeLabelProp,\n      edgeLabelProp = _c === void 0 ? DEFAULT_LABEL_NAME : _c;\n  var formattedGraphs = formatGraphs(graphs, directed, nodeLabelProp, edgeLabelProp);\n  var minSupport = params.minSupport,\n      maxNodeNum = params.maxNodeNum,\n      minNodeNum = params.minNodeNum,\n      verbose = params.verbose,\n      top = params.top; // -------  -------\n\n  var algoParams = {\n    graphs: formattedGraphs,\n    minSupport: minSupport,\n    maxNodeNum: maxNodeNum,\n    minNodeNum: minNodeNum,\n    top: top,\n    verbose: verbose,\n    directed: directed\n  };\n  var calculator = new GSpan(algoParams);\n  calculator.run();\n  var result = toGraphDatas(calculator.frequentSubgraphs, nodeLabelProp, edgeLabelProp);\n  return result;\n};\n\nexport default gSpan;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { __spreadArray } from \"tslib\";\nimport floydWarshall from './floydWarshall';\nimport gSpan from './gSpan/gSpan';\nimport dijkstra from './dijkstra';\nimport { uniqueId } from './util';\n/**\n *  graphData \n * @param graphData\n * @param spm\n * @param nodeLabelProp\n * @param k k-\n */\n\nvar findKNeighborUnits = function findKNeighborUnits(graphData, spm, nodeLabelProp, k) {\n  if (nodeLabelProp === void 0) {\n    nodeLabelProp = 'cluster';\n  }\n\n  if (k === void 0) {\n    k = 2;\n  }\n\n  var units = [];\n  var nodes = graphData.nodes;\n  spm.forEach(function (row, i) {\n    units.push(findKNeighborUnit(nodes, row, i, nodeLabelProp, k));\n  });\n  return units;\n};\n\nvar findKNeighborUnit = function findKNeighborUnit(nodes, row, i, nodeLabelProp, k) {\n  var unitNodeIdxs = [i];\n  var neighbors = [];\n  var labelCountMap = {};\n  row.forEach(function (v, j) {\n    if (v <= k && i !== j) {\n      unitNodeIdxs.push(j);\n      neighbors.push(nodes[j]);\n      var label = nodes[j][nodeLabelProp];\n      if (!labelCountMap[label]) labelCountMap[label] = {\n        count: 1,\n        dists: [v]\n      };else {\n        labelCountMap[label].count++;\n        labelCountMap[label].dists.push(v);\n      }\n    }\n  }); //  labelCountMap  dists \n\n  Object.keys(labelCountMap).forEach(function (label) {\n    labelCountMap[label].dists = labelCountMap[label].dists.sort(function (a, b) {\n      return a - b;\n    });\n  });\n  return {\n    nodeIdx: i,\n    nodeId: nodes[i].id,\n    nodeIdxs: unitNodeIdxs,\n    neighbors: neighbors,\n    neighborNum: unitNodeIdxs.length - 1,\n    nodeLabelCountMap: labelCountMap\n  };\n};\n/**\n *  k\n * @param k  k k-\n * @param nodeNum  length\n * @param maxNodePairNum  maxNodePairNum\n * @param spm \n */\n\n\nvar findNodePairsRandomly = function findNodePairsRandomly(k, nodeNum, maxNodePairNum, kNeighborUnits, spm) {\n  // \n  var nodePairNumEachNode = Math.ceil(maxNodePairNum / nodeNum);\n  var nodePairMap = {};\n  var foundNodePairCount = 0; //  nodePairNumEachNode  k maxNodePairNum \n\n  kNeighborUnits.forEach(function (unit, i) {\n    //  nodePairNumEachNode(2 * nodeNum)\n    var nodePairForICount = 0;\n    var outerLoopCount = 0;\n    var neighbors = unit.nodeIdxs; // the first one is the center node\n\n    var neighborNum = unit.neighborNum - 1;\n\n    while (nodePairForICount < nodePairNumEachNode) {\n      //  index\n      var oidx = neighbors[1 + Math.floor(Math.random() * neighborNum)];\n      var innerLoopCount = 0; //  idx  random k\n\n      while (nodePairMap[i + \"-\" + oidx] || nodePairMap[oidx + \"-\" + i]) {\n        oidx = Math.floor(Math.random() * nodeNum);\n        innerLoopCount++;\n        if (innerLoopCount > 2 * nodeNum) break; // (2 * nodeNum)\n      }\n\n      if (innerLoopCount < 2 * nodeNum) {\n        // \n        nodePairMap[i + \"-\" + oidx] = {\n          start: i,\n          end: oidx,\n          distance: spm[i][oidx]\n        };\n        nodePairForICount++;\n        foundNodePairCount++; // \n\n        if (foundNodePairCount >= maxNodePairNum) return nodePairMap;\n      }\n\n      outerLoopCount++;\n      if (outerLoopCount > 2 * nodeNum) break; // (2 * nodeNum)\n    } //  nodePairNumEachNode  nodePairNumEachNode\n\n\n    if (nodePairForICount < nodePairNumEachNode) {\n      var gap = nodePairNumEachNode - nodePairForICount;\n      nodePairNumEachNode = (nodePairNumEachNode + gap) / (nodeNum - i - 1);\n    }\n  });\n  return nodePairMap;\n};\n/**\n *  nodePairMap \n * @param nodePairMap  mapkey  node1.id-node2.idvalue  { startNodeIdx, endNodeIdx, distance }\n * @param neighborUnits \n * @param graphData \n * @param edgeMap  map\n * @param cachedInducedGraphMap  key \n */\n\n\nvar getIntersectNeighborInducedGraph = function getIntersectNeighborInducedGraph(nodePairMap, neighborUnits, graphData, cachedInducedGraphMap) {\n  var nodes = graphData.nodes;\n  if (!cachedInducedGraphMap) cachedInducedGraphMap = {};\n  Object.keys(nodePairMap).forEach(function (key) {\n    var _a, _b;\n\n    if (cachedInducedGraphMap && cachedInducedGraphMap[key]) return;\n    cachedInducedGraphMap[key] = {\n      nodes: [],\n      edges: []\n    };\n    var pair = nodePairMap[key];\n    var startUnitNodeIds = (_a = neighborUnits[pair.start]) === null || _a === void 0 ? void 0 : _a.nodeIdxs;\n    var endUnitNodeIds = (_b = neighborUnits[pair.end]) === null || _b === void 0 ? void 0 : _b.nodeIdxs;\n    if (!startUnitNodeIds || !endUnitNodeIds) return; // \n\n    var endSet = new Set(endUnitNodeIds);\n    var intersect = startUnitNodeIds.filter(function (x) {\n      return endSet.has(x);\n    }); //  1580 + 6 nodes full-connected \n\n    if (!intersect || !intersect.length) return; // \n\n    var intersectIdMap = {};\n    var intersectLength = intersect.length;\n\n    for (var i = 0; i < intersectLength; i++) {\n      var node = nodes[intersect[i]];\n      cachedInducedGraphMap[key].nodes.push(node); // \n\n      intersectIdMap[node.id] = true;\n    } // \n\n\n    graphData.edges.forEach(function (edge) {\n      if (intersectIdMap[edge.source] && intersectIdMap[edge.target]) cachedInducedGraphMap[key].edges.push(edge);\n    });\n  });\n  return cachedInducedGraphMap;\n};\n/**\n *  strcutre  graph \n * @param graph \n * @param structure \n * @param nodeLabelProp \n * @param edgeLabelProp \n */\n\n\nvar getMatchedCount = function getMatchedCount(graph, structure, nodeLabelProp, edgeLabelProp) {\n  var nodeMap = {};\n  graph.nodes.forEach(function (node) {\n    nodeMap[node.id] = node;\n  });\n  var count = 0;\n  graph.edges.forEach(function (e) {\n    var sourceLabel = nodeMap[e.source][nodeLabelProp];\n    var targetLabel = nodeMap[e.target][nodeLabelProp];\n    var strNodeLabel1 = structure.nodes[0][nodeLabelProp];\n    var strNodeLabel2 = structure.nodes[1][nodeLabelProp];\n    var strEdgeLabel = structure.edges[0][edgeLabelProp];\n    if (e[edgeLabelProp] !== strEdgeLabel) return;\n\n    if (sourceLabel === strNodeLabel1 && targetLabel === strNodeLabel2 || sourceLabel === strNodeLabel2 && targetLabel === strNodeLabel1) {\n      count++;\n    }\n  });\n  return count;\n};\n/**\n * structures  matchedCountMap \n * @param matchedCountMap  structure  { [strcture.idx]: { [interInducedGraphKey]: count } }\n * @param structureNum strcuture  matchedCountMap.length \n * @param structures\n */\n\n\nvar findRepresentStructure = function findRepresentStructure(matchedCountMap, structureNum, structures) {\n  var maxOffset = Infinity,\n      representClusterType = 0;\n\n  var _loop_1 = function _loop_1(i) {\n    //  mapkey  intGraph  keyvalue  structures[i] \n    var countMapI = matchedCountMap[i]; //  value  keys \n\n    var sortedGraphKeys = Object.keys(countMapI).sort(function (a, b) {\n      return countMapI[a] - countMapI[b];\n    }); //  100  graphKeys graphKeys  groupNum \n\n    var groupNum = 10;\n    var clusters = []; //  groupNum \n\n    sortedGraphKeys.forEach(function (key, j) {\n      if (!clusters[j % groupNum]) clusters[j % groupNum] = {\n        graphs: [],\n        totalCount: 0,\n        aveCount: 0\n      };\n      clusters[j % groupNum].graphs.push(key);\n      clusters[j % groupNum].totalCount += countMapI[key];\n    }); //  cluster  cluster  innerDist cluster  intraDist\n\n    var aveIntraDist = 0; // \n\n    var aveCounts = []; // \n\n    clusters.forEach(function (graphsInCluster) {\n      // \n      var aveCount = graphsInCluster.totalCount / graphsInCluster.graphs.length;\n      graphsInCluster.aveCount = aveCount;\n      aveCounts.push(aveCount); // \n\n      var aveIntraPerCluster = 0;\n      var graphsNum = graphsInCluster.length;\n      graphsInCluster.graphs.forEach(function (graphKey1, j) {\n        var graph1Count = countMapI[graphKey1];\n        graphsInCluster.graphs.forEach(function (graphKey2, k) {\n          if (j === k) return;\n          aveIntraPerCluster += Math.abs(graph1Count - countMapI[graphKey2]);\n        });\n      });\n      aveIntraPerCluster /= graphsNum * (graphsNum - 1) / 2;\n      aveIntraDist += aveIntraPerCluster;\n    });\n    aveIntraDist /= clusters.length; // \n\n    var aveInterDist = 0; // \n\n    aveCounts.forEach(function (aveCount1, j) {\n      aveCounts.forEach(function (aveCount2, k) {\n        if (j === k) return;\n        aveInterDist += Math.abs(aveCount1 - aveCount2);\n      });\n      aveInterDist /= aveCounts.length * (aveCounts.length - 1) / 2;\n    }); //  (-)  structure  DS(G)\n\n    var offset = aveInterDist - aveIntraDist;\n\n    if (maxOffset < offset) {\n      maxOffset = offset;\n      representClusterType = i;\n    }\n  };\n\n  for (var i = 0; i < structureNum; i++) {\n    _loop_1(i);\n  }\n\n  return {\n    structure: structures[representClusterType],\n    structureCountMap: matchedCountMap[representClusterType]\n  };\n};\n\nvar getNodeMaps = function getNodeMaps(nodes, nodeLabelProp) {\n  var nodeMap = {},\n      nodeLabelMap = {};\n  nodes.forEach(function (node, i) {\n    nodeMap[node.id] = {\n      idx: i,\n      node: node,\n      degree: 0\n    };\n    var label = node[nodeLabelProp];\n    if (!nodeLabelMap[label]) nodeLabelMap[label] = [];\n    nodeLabelMap[label].push(node);\n  });\n  return {\n    nodeMap: nodeMap,\n    nodeLabelMap: nodeLabelMap\n  };\n};\n\nvar getEdgeMaps = function getEdgeMaps(edges, edgeLabelProp, nodeMap) {\n  var edgeMap = {},\n      edgeLabelMap = {};\n  edges.forEach(function (edge, i) {\n    edgeMap[\"\" + uniqueId] = {\n      idx: i,\n      edge: edge\n    };\n    var label = edge[edgeLabelProp];\n    if (!edgeLabelMap[label]) edgeLabelMap[label] = [];\n    edgeLabelMap[label].push(edge);\n    var sourceNode = nodeMap[edge.source];\n    if (sourceNode) sourceNode.degree++;\n    var targetNode = nodeMap[edge.target];\n    if (targetNode) targetNode.degree++;\n  });\n  return {\n    edgeMap: edgeMap,\n    edgeLabelMap: edgeLabelMap\n  };\n};\n/**\n *  mapkey  sourceNode.id-targetNode.idvalue \n * @param nodes\n * @param spm\n * @param directed\n */\n\n\nvar getSpmMap = function getSpmMap(nodes, spm, directed) {\n  var length = spm.length;\n  var map = {};\n  spm.forEach(function (row, i) {\n    var start = directed ? 0 : i + 1;\n    var iId = nodes[i].id;\n\n    for (var j = start; j < length; j++) {\n      if (i === j) continue;\n      var jId = nodes[j].id;\n      var dist = row[j];\n      map[iId + \"-\" + jId] = dist;\n      if (!directed) map[jId + \"-\" + iId] = dist;\n    }\n  });\n  return map;\n};\n/**\n * node1node2 NDS \n * @param graph \n * @param node1\n * @param node2\n */\n\n\nvar getNDSDist = function getNDSDist(graph, node1, node2, nodeMap, spDist, kNeighborUnits, structure, nodeLabelProp, edgeLabelProp, cachedNDSMap, cachedInterInducedGraph) {\n  var _a;\n\n  var key = node1.id + \"-\" + node2.id;\n  if (cachedNDSMap && cachedNDSMap[key]) return cachedNDSMap[key];\n  var interInducedGraph = cachedInterInducedGraph ? cachedInterInducedGraph[key] : undefined; // \n\n  if (!interInducedGraph) {\n    var pairMap = (_a = {}, _a[key] = {\n      start: nodeMap[node1.id].idx,\n      end: nodeMap[node2.id].idx,\n      distance: spDist\n    }, _a);\n    cachedInterInducedGraph = getIntersectNeighborInducedGraph(pairMap, kNeighborUnits, graph, cachedInterInducedGraph);\n    interInducedGraph = cachedInterInducedGraph[key];\n  }\n\n  return getMatchedCount(interInducedGraph, structure, nodeLabelProp, edgeLabelProp);\n};\n/**\n * GADDI \n * @param graphData \n * @param pattern \n * @param directed  false\n * @param k  k k-\n * @param length  length\n * @param nodeLabelProp  cluster\n * @param edgeLabelProp  cluster\n */\n\n\nvar GADDI = function GADDI(graphData, pattern, directed, k, length, nodeLabelProp, edgeLabelProp) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (nodeLabelProp === void 0) {\n    nodeLabelProp = 'cluster';\n  }\n\n  if (edgeLabelProp === void 0) {\n    edgeLabelProp = 'cluster';\n  }\n\n  if (!graphData || !graphData.nodes) return; // \n  // 0. /\n  // 1.  graphData 1~5 \n  // 2. \n  // console.log(\"----- stage-pre: preprocessing -------\");\n  // -------- /-------\n\n  var nodeNum = graphData.nodes.length;\n  if (!nodeNum) return; // console.log(\"----- stage-pre.1: calc shortest path matrix for graph -------\");\n\n  var spm = floydWarshall(graphData, directed); // console.log(\n  //   \"----- stage-pre.2: calc shortest path matrix for pattern -------\"\n  // );\n\n  var patternSpm = floydWarshall(pattern, directed); // console.log(\n  //   \"----- stage-pre.3: calc shortest path matrix map for graph -------\"\n  // );\n\n  var spmMap = getSpmMap(graphData.nodes, spm, directed); // console.log(\n  //   \"----- stage-pre.4: calc shortest path matrix map for pattern -------\"\n  // );\n\n  var patternSpmMap = getSpmMap(pattern.nodes, patternSpm, directed); // console.log(\"----- stage-pre.5: establish maps -------\");\n  //  map id  id \n\n  var _a = getNodeMaps(graphData.nodes, nodeLabelProp),\n      nodeMap = _a.nodeMap,\n      nodeLabelMap = _a.nodeLabelMap;\n\n  var _b = getNodeMaps(pattern.nodes, nodeLabelProp),\n      patternNodeMap = _b.nodeMap,\n      patternNodeLabelMap = _b.nodeLabelMap; // \n\n\n  getEdgeMaps(graphData.edges, edgeLabelProp, nodeMap);\n  var patternEdgeLabelMap = getEdgeMaps(pattern.edges, edgeLabelProp, patternNodeMap).edgeLabelMap; //  length pattern \n\n  if (!length) length = Math.max.apply(Math, __spreadArray(__spreadArray([], patternSpm[0]), [2]));\n  if (!k) k = length; // console.log(\"params\", directed, length, k);\n  // console.log(\"----- stage-pre.6: calc k neighbor units -------\");\n  //  k \n\n  var kNeighborUnits = findKNeighborUnits(graphData, spm, nodeLabelProp, k);\n  var patternKNeighborUnits = findKNeighborUnits(pattern, patternSpm, nodeLabelProp, k); // console.log(\n  //   \"----- stage0: going to processing graph and find intersect neighbor induced graphs -------\"\n  // );\n  // console.log(\"----- stage0.1: going to select random node pairs -------\");\n  // --------  graphData-------\n  // 1.1.  100  Length  k\n  //  graphData  20  100  n(n-1)/2 \n\n  var maxNodePairNum = Math.min(100, nodeNum * (nodeNum - 1) / 2);\n  var nodePairsMap = findNodePairsRandomly(k, nodeNum, maxNodePairNum, patternKNeighborUnits, spm); // console.log(\n  //   \"----- stage0.2: going to calculate intersect neighbor induced graphs -------\"\n  // );\n  // 1.2.  {'beginNodeIdx-endNodeIdx': {nodes: [], edges: []}}\n\n  var intGMap = getIntersectNeighborInducedGraph(nodePairsMap, kNeighborUnits, graphData); // 1.3.  gSpan frequent graph mining ISIntG  10 3-4\n\n  var top = 10,\n      minSupport = 1,\n      minNodeNum = 1,\n      maxNodeNum = 4;\n  var params = {\n    graphs: intGMap,\n    nodeLabelProp: nodeLabelProp,\n    edgeLabelProp: edgeLabelProp,\n    minSupport: minSupport,\n    minNodeNum: minNodeNum,\n    maxNodeNum: maxNodeNum,\n    directed: directed\n  }; // console.log(\n  //   \"----- stage1: (gSpan) going to find frequent structure dsG -------\"\n  // );\n  // console.log(\"----- stage1.1: going to run gSpan -------\");\n  //  sub structure \n\n  var freStructures = gSpan(params).slice(0, top); // structureNum  top\n\n  var structureNum = freStructures.length; // 1.4.  10  intGMap \n\n  var matchedCountMap = [];\n  freStructures.forEach(function (structure, i) {\n    matchedCountMap[i] = {};\n    Object.keys(intGMap).forEach(function (key) {\n      var graph = intGMap[key];\n      var subStructureCount = getMatchedCount(graph, structure, nodeLabelProp, edgeLabelProp);\n      matchedCountMap[i][key] = subStructureCount;\n    });\n  }); // console.log(\n  //   \"----- stage1.1: going to find the most represent strucutre -------\"\n  // );\n  // 1.5.  intGMap  structureNum \n  //  DS(G)\n\n  var _c = findRepresentStructure(matchedCountMap, structureNum, freStructures),\n      dsG = _c.structure,\n      ndsDist = _c.structureCountMap; // -------- -------\n  // 2.1  Q  G \n\n\n  var beginPNode = pattern.nodes[0];\n  var label = beginPNode[nodeLabelProp]; // 2.1.1  G \n\n  var candidates = nodeLabelMap[label]; // console.log(\"----- stage2: going to find candidates -------\");\n  // \n\n  var minPatternNodeLabelDegreeMap = {}; // key  labelvalue  label \n\n  var patternIntGraphMap = {},\n      patternNDSDist = {},\n      // key  node.id-node.id\n  patternNDSDistMap = {}; // key  node.id-label2value nds node2\n  // 2.2.2  Q  k  node  NDS \n\n  var patternSpDist = {};\n  Object.keys(patternNodeLabelMap).forEach(function (label2, j) {\n    patternSpDist[label2] = [];\n    var maxDist = -Infinity;\n    var patternNodesWithLabel2 = patternNodeLabelMap[label2];\n    var patternNodePairMap = {};\n    patternNodesWithLabel2.forEach(function (nodeWithLabel2) {\n      var dist = patternSpmMap[beginPNode.id + \"-\" + nodeWithLabel2.id];\n      dist && patternSpDist[label2].push(dist);\n      if (maxDist < dist) maxDist = dist;\n      patternNodePairMap[beginPNode.id + \"-\" + nodeWithLabel2.id] = {\n        start: 0,\n        end: patternNodeMap[nodeWithLabel2.id].idx,\n        distance: dist\n      };\n    }); // spDist[label2] \n\n    patternSpDist[label2] = patternSpDist[label2].sort(function (a, b) {\n      return a - b;\n    }); //  Q  label2  beginPNode  NDS \n    //  label2  beginPNode \n    // key: node1.id-node2.id\n\n    patternIntGraphMap = getIntersectNeighborInducedGraph(patternNodePairMap, patternKNeighborUnits, pattern, patternIntGraphMap); // pattern  beginNode  label2   NDS \n\n    var currentPatternNDSDistArray = [];\n    Object.keys(patternNodePairMap).forEach(function (key) {\n      if (patternNDSDist[key]) {\n        currentPatternNDSDistArray.push(patternNDSDist[key]);\n        return; // \n      }\n\n      var patternIntGraph = patternIntGraphMap[key];\n      patternNDSDist[key] = getMatchedCount(patternIntGraph, dsG, nodeLabelProp, edgeLabelProp);\n      currentPatternNDSDistArray.push(patternNDSDist[key]);\n    }); //  currentPatternNDSDist \n\n    currentPatternNDSDistArray = currentPatternNDSDistArray.sort(function (a, b) {\n      return b - a;\n    });\n    patternNDSDistMap[beginPNode.id + \"-\" + label2] = currentPatternNDSDistArray;\n    if (label2 === label) return;\n    var candidatesNum = candidates.length;\n\n    var _loop_4 = function _loop_4(m) {\n      var cNode = candidates[m]; // prune1 candidates  cNode  kNeighborUnits  label2  pattern  label2 \n\n      var graphNeighborUnit = kNeighborUnits[nodeMap[cNode.id].idx];\n      var graphNeighborUnitCountMap = graphNeighborUnit.nodeLabelCountMap[label2];\n      var patternLabel2Num = patternNodeLabelMap[label2].length;\n\n      if (!graphNeighborUnitCountMap || graphNeighborUnitCountMap.count < patternLabel2Num) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      } // prune2 candidates  cNode  kNeighborUnits  label2  patternSpDist[label2]\n      // (prune2 candidate  spDist[label2].length  patternSpDist[label2]  G > Q  candidate)\n\n\n      var prune2Invalid = false;\n\n      for (var n = 0; n < patternLabel2Num; n++) {\n        if (graphNeighborUnitCountMap.dists[n] > patternSpDist[label2][n]) {\n          prune2Invalid = true;\n          break;\n        }\n      }\n\n      if (prune2Invalid) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      } // prune3 candidates  cNode  kNeighborUnits  label2  NDS  patternNDSDist[beginNode.id-label2]\n      // TODOprune3currentPatternNDSDistArray  currentNDSDist \n      //  G  label2  cNode  NDS \n      //  label2  cNode \n\n\n      var cNodePairMap = {};\n      graphNeighborUnit.neighbors.forEach(function (neighborNode) {\n        var dist = spmMap[cNode.id + \"-\" + neighborNode.id];\n        cNodePairMap[cNode.id + \"-\" + neighborNode.id] = {\n          start: nodeMap[cNode.id].idx,\n          end: nodeMap[neighborNode.id].idx,\n          distance: dist\n        };\n      }); //  intGMap\n\n      intGMap = getIntersectNeighborInducedGraph(cNodePairMap, kNeighborUnits, graphData, intGMap); // candidate  label2  NDS , key  node.id-node.id\n\n      var currentNDSDistArray = [];\n      Object.keys(cNodePairMap).forEach(function (key) {\n        if (ndsDist[key]) {\n          currentNDSDistArray.push(ndsDist[key]);\n          return; // \n        }\n\n        var intGraph = intGMap[key];\n        ndsDist[key] = getMatchedCount(intGraph, dsG, nodeLabelProp, edgeLabelProp);\n        currentNDSDistArray.push(ndsDist[key]);\n      }); //  currentNDSDistArray \n\n      currentNDSDistArray = currentNDSDistArray.sort(function (a, b) {\n        return b - a;\n      });\n      var prune3Invalid = false;\n\n      for (var n = 0; n < patternLabel2Num; n++) {\n        if (currentNDSDistArray[n] < currentPatternNDSDistArray[n]) {\n          prune3Invalid = true;\n          break;\n        }\n      }\n\n      if (prune3Invalid) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      }\n    };\n\n    for (var m = candidatesNum - 1; m >= 0; m--) {\n      _loop_4(m);\n    }\n  });\n  var candidateGraphs = []; // console.log(\n  //   \"----- stage3: going to splice neighbors for each candidate graph -------\"\n  // );\n  // candidates  candidate  Length-neighbor \n  //  Q  Q  label label  candidate  QNDS  Q\n\n  candidates.forEach(function (candidate) {\n    var nodeIdx = nodeMap[candidate.id].idx;\n    var lengthNeighborUnit = findKNeighborUnit(graphData.nodes, spm[nodeIdx], nodeIdx, nodeLabelProp, length);\n    var neighborNodes = lengthNeighborUnit.neighbors; // \n\n    var neighborNum = neighborNodes.length;\n    var unmatched = false;\n\n    var _loop_5 = function _loop_5(i) {\n      //  candidate \n      if (neighborNodes.length + 1 < pattern.nodes.length) {\n        unmatched = true;\n        return {\n          value: void 0\n        };\n      }\n\n      var neighborNode = neighborNodes[i];\n      var neighborLabel = neighborNode[nodeLabelProp]; // prune1:  label  pattern \n\n      if (!patternNodeLabelMap[neighborLabel] || !patternNodeLabelMap[neighborLabel].length) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      }\n\n      var key = candidate.id + \"-\" + neighborNode.id; // prune2:  candidate  label  beginPNode \n      // prune2.1:  beginPNode  pattern  beginPNode  label label \n\n      if (!patternSpDist[neighborLabel] || !patternSpDist[neighborLabel].length) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      } // prune2.2\n\n\n      var distToCandidate = spmMap[key];\n      var maxDistWithLabelInPattern = patternSpDist[neighborLabel][patternSpDist[neighborLabel].length - 1]; // patternSpDist[neighborLabel] \n\n      if (distToCandidate > maxDistWithLabelInPattern) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      } // prune3:  candidate  NDS  label  beginPNode  NDS \n\n\n      var ndsToCandidate = ndsDist[key] ? ndsDist[key] : getNDSDist(graphData, candidate, neighborNode, nodeMap, distToCandidate, kNeighborUnits, dsG, nodeLabelProp, edgeLabelProp, ndsDist, intGMap);\n      var patternKey = beginPNode.id + \"-\" + neighborLabel;\n      var minNdsWithLabelInPattern = patternNDSDistMap[patternKey][patternNDSDistMap[patternKey].length - 1]; // patternNDSDist[key] \n\n      if (ndsToCandidate < minNdsWithLabelInPattern) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      } // prune4:  pattern  label \n\n\n      var minPatternNodeLabelDegree = minPatternNodeLabelDegreeMap[neighborLabel];\n\n      if (minPatternNodeLabelDegree === undefined) {\n        minPatternNodeLabelDegree = Infinity;\n        patternNodeLabelMap[neighborLabel].forEach(function (patternNodeWithLabel) {\n          var patternNodeDegree = patternNodeMap[patternNodeWithLabel.id].degree;\n          if (minPatternNodeLabelDegree > patternNodeDegree) minPatternNodeLabelDegree = patternNodeDegree;\n        });\n        minPatternNodeLabelDegreeMap[neighborLabel] = minPatternNodeLabelDegree;\n      }\n\n      if (nodeMap[neighborNode.id].degree < minPatternNodeLabelDegree) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      }\n    };\n\n    for (var i = neighborNum - 1; i >= 0; i--) {\n      var state_2 = _loop_5(i);\n\n      if (_typeof(state_2) === \"object\") return state_2.value;\n    } //  pattern \n\n\n    if (!unmatched) {\n      candidateGraphs.push({\n        nodes: [candidate].concat(neighborNodes)\n      });\n    }\n  }); // console.log(\n  //   \"----- stage4: going to splice edges and neighbors for each candidate graph -------\"\n  // );\n\n  var undirectedLengthsToBeginPNode = dijkstra(pattern, beginPNode.id, false).length;\n  var undirectedLengthsToBeginPNodeLabelMap = {};\n\n  if (directed) {\n    Object.keys(undirectedLengthsToBeginPNode).forEach(function (nodeId) {\n      var nodeLabel = patternNodeMap[nodeId].node[nodeLabelProp];\n      if (!undirectedLengthsToBeginPNodeLabelMap[nodeLabel]) undirectedLengthsToBeginPNodeLabelMap[nodeLabel] = [undirectedLengthsToBeginPNode[nodeId]];else undirectedLengthsToBeginPNodeLabelMap[nodeLabel].push(undirectedLengthsToBeginPNode[nodeId]);\n    });\n    Object.keys(undirectedLengthsToBeginPNodeLabelMap).forEach(function (pLabel) {\n      undirectedLengthsToBeginPNodeLabelMap[pLabel].sort(function (a, b) {\n        return a - b;\n      });\n    });\n  } else {\n    undirectedLengthsToBeginPNodeLabelMap = patternSpDist;\n  } //  candidateGraphs \n\n\n  var candidateGraphNum = candidateGraphs.length;\n\n  var _loop_2 = function _loop_2(i) {\n    var candidateGraph = candidateGraphs[i];\n    var candidate = candidateGraph.nodes[0];\n    var candidateNodeLabelCountMap = {};\n    var candidateNodeMap = {};\n    candidateGraph.nodes.forEach(function (node, q) {\n      candidateNodeMap[node.id] = {\n        idx: q,\n        node: node,\n        degree: 0\n      };\n      var cNodeLabel = node[nodeLabelProp];\n      if (!candidateNodeLabelCountMap[cNodeLabel]) candidateNodeLabelCountMap[cNodeLabel] = 1;else candidateNodeLabelCountMap[cNodeLabel]++;\n    }); //  candidate  neighborNodes  G \n    //  graphData  candidateGraph.nodes  candidateEdges\n\n    var candidateEdges = [];\n    var edgeLabelCountMap = {};\n    graphData.edges.forEach(function (edge) {\n      if (candidateNodeMap[edge.source] && candidateNodeMap[edge.target]) {\n        candidateEdges.push(edge);\n        if (!edgeLabelCountMap[edge[edgeLabelProp]]) edgeLabelCountMap[edge[edgeLabelProp]] = 1;else edgeLabelCountMap[edge[edgeLabelProp]]++;\n        candidateNodeMap[edge.source].degree++;\n        candidateNodeMap[edge.target].degree++;\n      }\n    }); // prune edgeLabel  candidateGraph  pattern\n\n    var pattenrEdgeLabelNum = Object.keys(patternEdgeLabelMap).length;\n    var prunedByEdgeLabel = false;\n\n    for (var e = 0; e < pattenrEdgeLabelNum; e++) {\n      var label_1 = Object.keys(patternEdgeLabelMap)[e];\n\n      if (!edgeLabelCountMap[label_1] || edgeLabelCountMap[label_1] < patternEdgeLabelMap[label_1].length) {\n        prunedByEdgeLabel = true;\n        break;\n      }\n    }\n\n    if (prunedByEdgeLabel) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    } //  candidateEdges\n\n\n    var candidateEdgeNum = candidateEdges.length; // prune\n\n    if (candidateEdgeNum < pattern.edges.length) {\n      candidateGraphs.splice(i, 1);\n      return \"break\";\n    }\n\n    var candidateGraphInvalid = false;\n\n    var _loop_6 = function _loop_6(e) {\n      var edge = candidateEdges[e];\n      var edgeLabel = edge[edgeLabelProp];\n      var patternEdgesWithLabel = patternEdgeLabelMap[edgeLabel]; // prune 1:  label  pattern  label \n\n      if (!patternEdgesWithLabel || !patternEdgesWithLabel.length) {\n        edgeLabelCountMap[edgeLabel]--; //  label  count  label \n\n        if (patternEdgesWithLabel && edgeLabelCountMap[edgeLabel] < patternEdgesWithLabel.length) {\n          candidateGraphInvalid = true;\n          return \"break\";\n        }\n\n        candidateEdges.splice(e, 1);\n        candidateNodeMap[edge.source].degree--;\n        candidateNodeMap[edge.target].degree--;\n        return \"continue\";\n      } // prune 2:  label + label  pattern \n\n\n      var sourceLabel = candidateNodeMap[edge.source].node[nodeLabelProp];\n      var targetLabel = candidateNodeMap[edge.target].node[nodeLabelProp];\n      var edgeMatched = false;\n      patternEdgesWithLabel.forEach(function (patternEdge) {\n        var patternSource = patternNodeMap[patternEdge.source].node;\n        var patternTarget = patternNodeMap[patternEdge.target].node;\n        if (patternSource[nodeLabelProp] === sourceLabel && patternTarget[nodeLabelProp] === targetLabel) edgeMatched = true;\n        if (!directed && patternSource[nodeLabelProp] === targetLabel && patternTarget[nodeLabelProp] === sourceLabel) edgeMatched = true;\n      });\n\n      if (!edgeMatched) {\n        edgeLabelCountMap[edgeLabel]--; //  label  count  label \n\n        if (patternEdgesWithLabel && edgeLabelCountMap[edgeLabel] < patternEdgesWithLabel.length) {\n          candidateGraphInvalid = true;\n          return \"break\";\n        }\n\n        candidateEdges.splice(e, 1);\n        candidateNodeMap[edge.source].degree--;\n        candidateNodeMap[edge.target].degree--;\n        return \"continue\";\n      }\n    };\n\n    for (var e = candidateEdgeNum - 1; e >= 0; e--) {\n      var state_3 = _loop_6(e);\n\n      if (state_3 === \"break\") break;\n    } // prune2: / label \n\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n\n    candidateGraph.edges = candidateEdges;\n    var lengthsToCandidate = dijkstra(candidateGraph, candidateGraph.nodes[0].id, false).length;\n    Object.keys(lengthsToCandidate).reverse().forEach(function (targetId) {\n      if (targetId === candidateGraph.nodes[0].id || candidateGraphInvalid) return; // prune4:  candidate\n\n      if (lengthsToCandidate[targetId] === Infinity) {\n        var targetNodeLabel = candidateNodeMap[targetId].node[nodeLabelProp];\n        candidateNodeLabelCountMap[targetNodeLabel]--;\n\n        if (candidateNodeLabelCountMap[targetNodeLabel] < patternNodeLabelMap[targetNodeLabel].length) {\n          candidateGraphInvalid = true;\n          return;\n        }\n\n        var idx = candidateGraph.nodes.indexOf(candidateNodeMap[targetId].node);\n        candidateGraph.nodes.splice(idx, 1);\n        candidateNodeMap[targetId] = undefined;\n        return;\n      } // prune5:   pattern  label  beginNode \n\n\n      var nLabel = nodeMap[targetId].node[nodeLabelProp];\n\n      if (!undirectedLengthsToBeginPNodeLabelMap[nLabel] || !undirectedLengthsToBeginPNodeLabelMap[nLabel].length || lengthsToCandidate[targetId] > undirectedLengthsToBeginPNodeLabelMap[nLabel][undirectedLengthsToBeginPNodeLabelMap[nLabel].length - 1]) {\n        var targetNodeLabel = candidateNodeMap[targetId].node[nodeLabelProp];\n        candidateNodeLabelCountMap[targetNodeLabel]--;\n\n        if (candidateNodeLabelCountMap[targetNodeLabel] < patternNodeLabelMap[targetNodeLabel].length) {\n          candidateGraphInvalid = true;\n          return;\n        }\n\n        var idx = candidateGraph.nodes.indexOf(candidateNodeMap[targetId].node);\n        candidateGraph.nodes.splice(idx, 1);\n        candidateNodeMap[targetId] = undefined;\n      }\n    });\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n\n    var degreeChanged = true;\n    var loopCount = 0;\n\n    while (degreeChanged && !candidateGraphInvalid) {\n      degreeChanged = false; // candidate \n\n      if (candidateNodeMap[candidate.id].degree < patternNodeMap[beginPNode.id].degree) {\n        candidateGraphInvalid = true;\n        break;\n      } // candidate label \n\n\n      if (candidateNodeLabelCountMap[candidate[nodeLabelProp]] < patternNodeLabelMap[candidate[nodeLabelProp]].length) {\n        candidateGraphInvalid = true;\n        break;\n      } // prune6\n\n\n      var currentCandidateNodeNum = candidateGraph.nodes.length;\n\n      for (var o = currentCandidateNodeNum - 1; o >= 0; o--) {\n        var cgNode = candidateGraph.nodes[o];\n        var nodeDegree = candidateNodeMap[cgNode.id].degree;\n        var cNodeLabel = cgNode[nodeLabelProp];\n\n        if (nodeDegree < minPatternNodeLabelDegreeMap[cNodeLabel]) {\n          candidateNodeLabelCountMap[cgNode[nodeLabelProp]]--; //  label \n\n          if (candidateNodeLabelCountMap[cgNode[nodeLabelProp]] < patternNodeLabelMap[cgNode[nodeLabelProp]].length) {\n            candidateGraphInvalid = true;\n            break;\n          }\n\n          candidateGraph.nodes.splice(o, 1);\n          candidateNodeMap[cgNode.id] = undefined;\n          degreeChanged = true;\n        }\n      }\n\n      if (candidateGraphInvalid || !degreeChanged && loopCount !== 0) break; //  prune5  candidateGraph \n\n      candidateEdgeNum = candidateEdges.length;\n\n      for (var y = candidateEdgeNum - 1; y >= 0; y--) {\n        var cedge = candidateEdges[y];\n\n        if (!candidateNodeMap[cedge.source] || !candidateNodeMap[cedge.target]) {\n          candidateEdges.splice(y, 1);\n          var edgeLabel = cedge[edgeLabelProp];\n          edgeLabelCountMap[edgeLabel]--;\n          candidateNodeMap[cedge.source] && candidateNodeMap[cedge.source].degree--;\n          candidateNodeMap[cedge.target] && candidateNodeMap[cedge.target].degree--; //  label \n\n          if (patternEdgeLabelMap[edgeLabel] && edgeLabelCountMap[edgeLabel] < patternEdgeLabelMap[edgeLabel].length) {\n            candidateGraphInvalid = true;\n            break;\n          }\n\n          degreeChanged = true;\n        }\n      }\n\n      loopCount++;\n    }\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    } // prune: // label \n\n\n    if (candidateGraphInvalid || candidateGraph.nodes.length < pattern.nodes.length || candidateEdges.length < pattern.edges.length) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n  };\n\n  for (var i = candidateGraphNum - 1; i >= 0; i--) {\n    var state_1 = _loop_2(i);\n\n    if (state_1 === \"break\") break;\n  } //  candidateGraphs\n  // console.log(\n  //   \"----- stage5: going to splice dulplicated candidate graphs -------\"\n  // );\n  //  candidateGraphs  node-node-edgeLabel  key value\n\n\n  var currentLength = candidateGraphs.length;\n\n  var _loop_3 = function _loop_3(i) {\n    var cg1 = candidateGraphs[i];\n    var cg1EdgeMap = {}; // [node1.id-node2.id-edge.label]: count\n\n    cg1.edges.forEach(function (edge) {\n      var key = edge.source + \"-\" + edge.target + \"-\" + edge.label;\n      if (!cg1EdgeMap[key]) cg1EdgeMap[key] = 1;else cg1EdgeMap[key]++;\n    });\n\n    var _loop_7 = function _loop_7(j) {\n      var cg2 = candidateGraphs[j];\n      var cg2EdgeMap = {}; // [node1.id-node2.id-edge.label]: count\n\n      cg2.edges.forEach(function (edge) {\n        var key = edge.source + \"-\" + edge.target + \"-\" + edge.label;\n        if (!cg2EdgeMap[key]) cg2EdgeMap[key] = 1;else cg2EdgeMap[key]++;\n      });\n      var same = true;\n\n      if (Object.keys(cg2EdgeMap).length !== Object.keys(cg1EdgeMap).length) {\n        same = false;\n      } else {\n        Object.keys(cg1EdgeMap).forEach(function (key) {\n          if (cg2EdgeMap[key] !== cg1EdgeMap[key]) same = false;\n        });\n      }\n\n      if (same) {\n        candidateGraphs.splice(j, 1);\n      }\n    };\n\n    for (var j = currentLength - 1; j > i; j--) {\n      _loop_7(j);\n    }\n\n    currentLength = candidateGraphs.length;\n  };\n\n  for (var i = 0; i <= currentLength - 1; i++) {\n    _loop_3(i);\n  }\n\n  return candidateGraphs;\n};\n\nexport default GADDI;","import LinkedList from './linked-list';\n\nvar Stack =\n/** @class */\nfunction () {\n  function Stack(maxStep) {\n    if (maxStep === void 0) {\n      maxStep = 10;\n    }\n\n    this.linkedList = new LinkedList();\n    this.maxStep = maxStep;\n  }\n\n  Object.defineProperty(Stack.prototype, \"length\", {\n    get: function get() {\n      return this.linkedList.toArray().length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * \n   */\n\n  Stack.prototype.isEmpty = function () {\n    return !this.linkedList.head;\n  };\n  /**\n   * \n   */\n\n\n  Stack.prototype.isMaxStack = function () {\n    return this.toArray().length >= this.maxStep;\n  };\n  /**\n   * \n   */\n\n\n  Stack.prototype.peek = function () {\n    if (this.isEmpty()) {\n      return null;\n    } // \n\n\n    return this.linkedList.head.value;\n  };\n\n  Stack.prototype.push = function (value) {\n    this.linkedList.prepend(value);\n\n    if (this.length > this.maxStep) {\n      this.linkedList.deleteTail();\n    }\n  };\n\n  Stack.prototype.pop = function () {\n    var removeHead = this.linkedList.deleteHead();\n    return removeHead ? removeHead.value : null;\n  };\n\n  Stack.prototype.toArray = function () {\n    return this.linkedList.toArray().map(function (node) {\n      return node.value;\n    });\n  };\n\n  Stack.prototype.clear = function () {\n    while (!this.isEmpty()) {\n      this.pop();\n    }\n  };\n\n  return Stack;\n}();\n\nexport default Stack;","import { mat3, vec3, ext, vec2 } from '@antv/matrix-util';\nimport { isArray, each } from '@antv/util';\nvar transform = ext.transform;\n/**\n * \n * @param   {string}       attributeName  \n * @param   {number}       min    \n * @param   {number}       max    \n * @return  {boolean}      bool   \n */\n\nexport var compare = function compare(attributeName) {\n  return function (m, n) {\n    return m[attributeName] - n[attributeName];\n  };\n};\n/**\n * \n * @param   {number}       value  \n * @param   {number}       min    \n * @param   {number}       max    \n * @return  {boolean}      bool   \n */\n\nvar isBetween = function isBetween(value, min, max) {\n  return value >= min && value <= max;\n};\n/**\n * \n * @param  {Point}  p0 \n * @param  {Point}  p1 \n * @param  {Point}  p2 \n * @param  {Point}  p3 \n * @return {Point}  \n */\n\n\nexport var getLineIntersect = function getLineIntersect(p0, p1, p2, p3) {\n  var tolerance = 0.0001;\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var invertKross = 1 / kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) * invertKross;\n    var t = (E.x * D0.y - E.y * D0.x) * invertKross;\n    if (!isBetween(s, 0, 1) || !isBetween(t, 0, 1)) return null;\n    return {\n      x: p0.x + s * D0.x,\n      y: p0.y + s * D0.y\n    };\n  }\n\n  return null;\n};\n/**\n * point and rectangular intersection point\n * @param  {IRect} rect  rect\n * @param  {Point} point point\n * @return {PointPoint} rst;\n */\n\nexport var getRectIntersectByPoint = function getRectIntersectByPoint(rect, point) {\n  var x = rect.x,\n      y = rect.y,\n      width = rect.width,\n      height = rect.height;\n  var cx = x + width / 2;\n  var cy = y + height / 2;\n  var points = [];\n  var center = {\n    x: cx,\n    y: cy\n  };\n  points.push({\n    x: x,\n    y: y\n  });\n  points.push({\n    x: x + width,\n    y: y\n  });\n  points.push({\n    x: x + width,\n    y: y + height\n  });\n  points.push({\n    x: x,\n    y: y + height\n  });\n  points.push({\n    x: x,\n    y: y\n  });\n  var rst = null;\n\n  for (var i = 1; i < points.length; i++) {\n    rst = getLineIntersect(points[i - 1], points[i], center, point);\n\n    if (rst) {\n      break;\n    }\n  }\n\n  return rst;\n};\n/**\n * get point and circle inIntersect\n * @param {ICircle} circle x,y,r\n * @param {Point} point  x,y\n * @return {Point} applied point\n */\n\nexport var getCircleIntersectByPoint = function getCircleIntersectByPoint(circle, point) {\n  var cx = circle.x,\n      cy = circle.y,\n      r = circle.r;\n  var x = point.x,\n      y = point.y;\n  var dx = x - cx;\n  var dy = y - cy;\n  var d = Math.sqrt(dx * dx + dy * dy);\n\n  if (d < r) {\n    return null;\n  }\n\n  var signX = Math.sign(dx);\n  var signY = Math.sign(dy);\n  var angle = Math.atan(dy / dx);\n  return {\n    x: cx + Math.abs(r * Math.cos(angle)) * signX,\n    y: cy + Math.abs(r * Math.sin(angle)) * signY\n  };\n};\n/**\n * get point and ellipse inIntersect\n * @param {Object} ellipse  x,y,rx,ry\n * @param {Object} point  x,y\n * @return {object} applied point\n */\n\nexport var getEllipseIntersectByPoint = function getEllipseIntersectByPoint(ellipse, point) {\n  var a = ellipse.rx;\n  var b = ellipse.ry;\n  var cx = ellipse.x;\n  var cy = ellipse.y;\n  var dx = point.x - cx;\n  var dy = point.y - cy; //  x,y  -PI, PI\n\n  var angle = Math.atan2(dy / b, dx / a);\n\n  if (angle < 0) {\n    angle += 2 * Math.PI; //  02PI\n  }\n\n  return {\n    x: cx + a * Math.cos(angle),\n    y: cy + b * Math.sin(angle)\n  };\n};\n/**\n * coordinate matrix transformation\n * @param  {number} point   coordinate\n * @param  {Matrix} matrix  matrix\n * @param  {number} tag     could be 0 or 1\n * @return {Point} transformed point\n */\n\nexport var applyMatrix = function applyMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  var vector = [point.x, point.y, tag];\n\n  if (!matrix || isNaN(matrix[0])) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n};\n/**\n * coordinate matrix invert transformation\n * @param  {number} point   coordinate\n * @param  {number} matrix  matrix\n * @param  {number} tag     could be 0 or 1\n * @return {object} transformed point\n */\n\nexport var invertMatrix = function invertMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  if (!matrix || isNaN(matrix[0])) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var inversedMatrix = mat3.invert([1, 0, 0, 0, 1, 0, 0, 0, 1], matrix);\n\n  if (!inversedMatrix) {\n    inversedMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var vector = [point.x, point.y, tag];\n  vec3.transformMat3(vector, vector, inversedMatrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n};\n/**\n *\n * @param p1 First coordinate\n * @param p2 second coordinate\n * @param p3 three coordinate\n */\n\nexport var getCircleCenterByPoints = function getCircleCenterByPoints(p1, p2, p3) {\n  var a = p1.x - p2.x;\n  var b = p1.y - p2.y;\n  var c = p1.x - p3.x;\n  var d = p1.y - p3.y;\n  var e = (p1.x * p1.x - p2.x * p2.x - p2.y * p2.y + p1.y * p1.y) / 2;\n  var f = (p1.x * p1.x - p3.x * p3.x - p3.y * p3.y + p1.y * p1.y) / 2;\n  var denominator = b * c - a * d;\n  return {\n    x: -(d * e - b * f) / denominator,\n    y: -(a * f - c * e) / denominator\n  };\n};\n/**\n * get distance by two points\n * @param p1 first point\n * @param p2 second point\n */\n\nexport var distance = function distance(p1, p2) {\n  var vx = p1.x - p2.x;\n  var vy = p1.y - p2.y;\n  return Math.sqrt(vx * vx + vy * vy);\n};\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\n\nexport var scaleMatrix = function scaleMatrix(matrix, ratio) {\n  var result = [];\n  matrix.forEach(function (row) {\n    var newRow = [];\n    row.forEach(function (v) {\n      newRow.push(v * ratio);\n    });\n    result.push(newRow);\n  });\n  return result;\n};\n/**\n * Floyd Warshall algorithm for shortest path distances matrix\n * @param  {array} adjMatrix   adjacency matrix\n * @return {array} distances   shortest path distances matrix\n */\n\nexport var floydWarshall = function floydWarshall(adjMatrix) {\n  // initialize\n  var dist = [];\n  var size = adjMatrix.length;\n\n  for (var i = 0; i < size; i += 1) {\n    dist[i] = [];\n\n    for (var j = 0; j < size; j += 1) {\n      if (i === j) {\n        dist[i][j] = 0;\n      } else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n        dist[i][j] = Infinity;\n      } else {\n        dist[i][j] = adjMatrix[i][j];\n      }\n    }\n  } // floyd\n\n\n  for (var k = 0; k < size; k += 1) {\n    for (var i = 0; i < size; i += 1) {\n      for (var j = 0; j < size; j += 1) {\n        if (dist[i][j] > dist[i][k] + dist[k][j]) {\n          dist[i][j] = dist[i][k] + dist[k][j];\n        }\n      }\n    }\n  }\n\n  return dist;\n};\n/**\n * get adjacency matrix\n * @param data graph data\n * @param directed whether it's a directed graph\n */\n\nexport var getAdjMatrix = function getAdjMatrix(data, directed) {\n  var nodes = data.nodes,\n      edges = data.edges;\n  var matrix = []; // map node with index in data.nodes\n\n  var nodeMap = {};\n\n  if (!nodes) {\n    throw new Error('invalid nodes data!');\n  }\n\n  if (nodes) {\n    nodes.forEach(function (node, i) {\n      nodeMap[node.id] = i;\n      var row = [];\n      matrix.push(row);\n    });\n  }\n\n  if (edges) {\n    edges.forEach(function (e) {\n      var source = e.source,\n          target = e.target;\n      var sIndex = nodeMap[source];\n      var tIndex = nodeMap[target];\n      matrix[sIndex][tIndex] = 1;\n\n      if (!directed) {\n        matrix[tIndex][sIndex] = 1;\n      }\n    });\n  }\n\n  return matrix;\n};\n/**\n * group\n * @param group Group \n * @param vec \n */\n\nexport var translate = function translate(group, vec) {\n  group.translate(vec.x, vec.y);\n};\n/**\n * \n * @param group Group \n * @param point \n */\n\nexport var move = function move(group, point) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var bbox = group.getCanvasBBox();\n  var vx = point.x - bbox.minX;\n  var vy = point.y - bbox.minY;\n  var movedMatrix = transform(matrix, [['t', vx, vy]]);\n  group.setMatrix(movedMatrix);\n};\n/**\n *  group\n * @param group Group \n * @param point x  y \n */\n\nexport var scale = function scale(group, ratio) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var scaleXY = ratio;\n\n  if (!isArray(ratio)) {\n    scaleXY = [ratio, ratio];\n  }\n\n  if (isArray(ratio) && ratio.length === 1) {\n    scaleXY = [ratio[0], ratio[0]];\n  }\n\n  matrix = transform(matrix, [['s', scaleXY[0], scaleXY[1]]]);\n  group.setMatrix(matrix);\n};\n/**\n *\n * @param group Group \n * @param ratio \n */\n\nexport var rotate = function rotate(group, angle) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  matrix = transform(matrix, [['r', angle]]);\n  group.setMatrix(matrix);\n};\nexport var getDegree = function getDegree(n, nodeIdxMap, edges) {\n  var degrees = [];\n\n  for (var i = 0; i < n; i++) {\n    degrees[i] = 0;\n  }\n\n  edges.forEach(function (e) {\n    if (e.source) {\n      degrees[nodeIdxMap[e.source]] += 1;\n    }\n\n    if (e.target) {\n      degrees[nodeIdxMap[e.target]] += 1;\n    }\n  });\n  return degrees;\n}; // Qp1p2\n\nfunction onSegment(p1, p2, q) {\n  if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) && Math.min(p1[0], p2[0]) <= q[0] && q[0] <= Math.max(p1[0], p2[0]) && Math.min(p1[1], p2[1]) <= q[1] && q[1] <= Math.max(p1[1], p2[1])) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * P-. Borrow from https://github.com/antvis/util/blob/master/packages/path-util/src/point-in-polygon.ts\n * @param points\n * @param x\n * @param y\n */\n\n\nexport var isPointInPolygon = function isPointInPolygon(points, x, y) {\n  var isHit = false;\n  var n = points.length; // doubleeps\n\n  var tolerance = 1e-6;\n\n  function dcmp(xValue) {\n    if (Math.abs(xValue) < tolerance) {\n      return 0;\n    }\n\n    return xValue < 0 ? -1 : 1;\n  }\n\n  if (n <= 2) {\n    // svg  3 \n    return false;\n  }\n\n  for (var i = 0; i < n; i++) {\n    var p1 = points[i];\n    var p2 = points[(i + 1) % n];\n\n    if (onSegment(p1, p2, [x, y])) {\n      // \n      return true;\n    } // min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n    //    \n\n\n    if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 && dcmp(x - (y - p1[1]) * (p1[0] - p2[0]) / (p1[1] - p2[1]) - p1[0]) < 0) {\n      isHit = !isHit;\n    }\n  }\n\n  return isHit;\n}; // BBox\n\nexport var intersectBBox = function intersectBBox(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n};\n\nvar lineIntersectPolygon = function lineIntersectPolygon(lines, line) {\n  var isIntersect = false;\n  each(lines, function (l) {\n    if (getLineIntersect(l.from, l.to, line.from, line.to)) {\n      isIntersect = true;\n      return false;\n    }\n  });\n  return isIntersect;\n};\n/**\n * polygon\n * borrow from @antv/path-util\n * @param points1 polygon1\n * @param points2 polygon2\n */\n\n\nexport var isPolygonsIntersect = function isPolygonsIntersect(points1, points2) {\n  var getBBox = function getBBox(points) {\n    var xArr = points.map(function (p) {\n      return p[0];\n    });\n    var yArr = points.map(function (p) {\n      return p[1];\n    });\n    return {\n      minX: Math.min.apply(null, xArr),\n      maxX: Math.max.apply(null, xArr),\n      minY: Math.min.apply(null, yArr),\n      maxY: Math.max.apply(null, yArr)\n    };\n  };\n\n  var parseToLines = function parseToLines(points) {\n    var lines = [];\n    var count = points.length;\n\n    for (var i = 0; i < count - 1; i++) {\n      var point = points[i];\n      var next = points[i + 1];\n      lines.push({\n        from: {\n          x: point[0],\n          y: point[1]\n        },\n        to: {\n          x: next[0],\n          y: next[1]\n        }\n      });\n    }\n\n    if (lines.length > 1) {\n      var first = points[0];\n      var last = points[count - 1];\n      lines.push({\n        from: {\n          x: last[0],\n          y: last[1]\n        },\n        to: {\n          x: first[0],\n          y: first[1]\n        }\n      });\n    }\n\n    return lines;\n  }; //  false\n\n\n  if (points1.length < 2 || points2.length < 2) {\n    return false;\n  }\n\n  var bbox1 = getBBox(points1);\n  var bbox2 = getBBox(points2); // \n\n  if (!intersectBBox(bbox1, bbox2)) {\n    return false;\n  }\n\n  var isIn = false; // \n\n  each(points2, function (point) {\n    if (isPointInPolygon(points1, point[0], point[1])) {\n      isIn = true;\n      return false;\n    }\n  });\n\n  if (isIn) {\n    return true;\n  }\n\n  each(points1, function (point) {\n    if (isPointInPolygon(points2, point[0], point[1])) {\n      isIn = true;\n      return false;\n    }\n  });\n\n  if (isIn) {\n    return true;\n  }\n\n  var lines1 = parseToLines(points1);\n  var lines2 = parseToLines(points2);\n  var isIntersect = false;\n  each(lines2, function (line) {\n    if (lineIntersectPolygon(lines1, line)) {\n      isIntersect = true;\n      return false;\n    }\n  });\n  return isIntersect;\n};\n\nvar Line =\n/** @class */\nfunction () {\n  function Line(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  Line.prototype.getBBox = function () {\n    var minX = Math.min(this.x1, this.x2);\n    var minY = Math.min(this.y1, this.y2);\n    var maxX = Math.max(this.x1, this.x2);\n    var maxY = Math.max(this.y1, this.y2);\n    var res = {\n      x: minX,\n      y: minY,\n      minX: minX,\n      minY: minY,\n      maxX: maxX,\n      maxY: maxY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n    return res;\n  };\n\n  return Line;\n}();\n\nexport { Line };\nexport var getBBoxBoundLine = function getBBoxBoundLine(bbox, direction) {\n  var bounds = {\n    top: [bbox.minX, bbox.minY, bbox.maxX, bbox.minY],\n    left: [bbox.minX, bbox.minY, bbox.minX, bbox.maxY],\n    bottom: [bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY],\n    right: [bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY]\n  };\n  return bounds[direction];\n};\n/**\n * \n */\n\nvar fractionAlongLineA = function fractionAlongLineA(la, lb) {\n  var uaT = (lb.x2 - lb.x1) * (la.y1 - lb.y1) - (lb.y2 - lb.y1) * (la.x1 - lb.x1);\n  var ubT = (la.x2 - la.x1) * (la.y1 - lb.y1) - (la.y2 - la.y1) * (la.x1 - lb.x1);\n  var uB = (lb.y2 - lb.y1) * (la.x2 - la.x1) - (lb.x2 - lb.x1) * (la.y2 - la.y1);\n\n  if (uB) {\n    var ua = uaT / uB;\n    var ub = ubT / uB;\n\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n      return ua;\n    }\n  }\n\n  return Number.POSITIVE_INFINITY;\n};\n\nexport var itemIntersectByLine = function itemIntersectByLine(item, line) {\n  var directions = ['top', 'left', 'bottom', 'right'];\n  var bbox = item.getBBox();\n  var countIntersections = 0;\n  var intersections = [];\n\n  for (var i = 0; i < 4; i++) {\n    var _a = getBBoxBoundLine(bbox, directions[i]),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    intersections[i] = getLineIntersect({\n      x: line.x1,\n      y: line.y1\n    }, {\n      x: line.x2,\n      y: line.y2\n    }, {\n      x: x1,\n      y: y1\n    }, {\n      x: x2,\n      y: y2\n    });\n\n    if (intersections[i]) {\n      countIntersections += 1;\n    }\n  }\n\n  return [intersections, countIntersections];\n};\nexport var fractionToLine = function fractionToLine(item, line) {\n  var directions = ['top', 'left', 'bottom', 'right'];\n  var bbox = item.getBBox();\n  var minDistance = Number.POSITIVE_INFINITY;\n  var countIntersections = 0;\n\n  for (var i = 0; i < 4; i++) {\n    var _a = getBBoxBoundLine(bbox, directions[i]),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    var testDistance = fractionAlongLineA(line, new Line(x1, y1, x2, y2));\n    testDistance = Math.abs(testDistance - 0.5);\n\n    if (testDistance >= 0 && testDistance <= 1) {\n      countIntersections += 1;\n      minDistance = testDistance < minDistance ? testDistance : minDistance;\n    }\n  }\n\n  if (countIntersections === 0) return -1;\n  return minDistance;\n};\nexport var getPointsCenter = function getPointsCenter(points) {\n  var centerX = 0;\n  var centerY = 0;\n\n  if (points.length > 0) {\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n      var point = points_1[_i];\n      centerX += point.x;\n      centerY += point.y;\n    }\n\n    centerX /= points.length;\n    centerY /= points.length;\n  }\n\n  return {\n    x: centerX,\n    y: centerY\n  };\n};\nexport var squareDist = function squareDist(a, b) {\n  return Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2);\n};\nexport var pointLineSquareDist = function pointLineSquareDist(point, line) {\n  var x1 = line.x1;\n  var y1 = line.y1;\n  var x2 = line.x2 - x1;\n  var y2 = line.y2 - y1;\n  var px = point.x - x1;\n  var py = point.y - y1;\n  var dotprod = px * x2 + py * y2;\n  var projlenSq;\n\n  if (dotprod <= 0) {\n    projlenSq = 0;\n  } else {\n    px = x2 - px;\n    py = y2 - py;\n    dotprod = px * x2 + py * y2;\n\n    if (dotprod <= 0) {\n      projlenSq = 0;\n    } else {\n      projlenSq = dotprod * dotprod / (x2 * x2 + y2 * y2);\n    }\n  }\n\n  var lenSq = px * px + py * py - projlenSq;\n\n  if (lenSq < 0) {\n    lenSq = 0;\n  }\n\n  return lenSq;\n};\nexport var isPointsOverlap = function isPointsOverlap(p1, p2, e) {\n  if (e === void 0) {\n    e = 1e-3;\n  }\n\n  return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2) < Math.pow(e, 2);\n};\n/**\n * 0\n * @param point IPoint\n * @param rect IRect\n */\n\nexport var pointRectSquareDist = function pointRectSquareDist(point, rect) {\n  var isLeft = point.x < rect.x;\n  var isRight = point.x > rect.x + rect.width;\n  var isTop = point.y > rect.y + rect.height;\n  var isBottom = point.y < rect.y;\n  var isPointOutside = isLeft || isRight || isTop || isBottom;\n\n  if (!isPointOutside) {\n    return 0;\n  }\n\n  if (isTop && !isLeft && !isRight) {\n    return Math.pow(rect.y + rect.height - point.y, 2);\n  }\n\n  if (isBottom && !isLeft && !isRight) {\n    return Math.pow(point.y - rect.y, 2);\n  }\n\n  if (isLeft && !isTop && !isBottom) {\n    return Math.pow(rect.x - point.x, 2);\n  }\n\n  if (isRight && !isTop && !isBottom) {\n    return Math.pow(rect.x + rect.width - point.x, 2);\n  }\n\n  var dx = Math.min(Math.abs(rect.x - point.x), Math.abs(rect.x + rect.width - point.x));\n  var dy = Math.min(Math.abs(rect.y - point.y), Math.abs(rect.y + rect.height - point.y));\n  return dx * dx + dy * dy;\n};\n/**\n * point to line distance\n * @param  {array} line  [x1, y1, x2, y2]\n * @param  {object} point  {x, y}\n * @return {Number|NaN} distance\n */\n\nexport var pointLineDistance = function pointLineDistance(line, point) {\n  var x1 = line[0],\n      y1 = line[1],\n      x2 = line[2],\n      y2 = line[3];\n  var x = point.x,\n      y = point.y;\n  var d = [x2 - x1, y2 - y1];\n\n  if (vec2.exactEquals(d, [0, 0])) {\n    return NaN;\n  }\n\n  var u = [-d[1], d[0]]; // @ts-ignore\n\n  vec2.normalize(u, u);\n  var a = [x - x1, y - y1]; // @ts-ignore\n\n  return Math.abs(vec2.dot(a, u));\n};","var subjectColor = 'rgb(95, 149, 255)';\nvar backColor = 'rgb(255, 255, 255)';\nvar textColor = 'rgb(0, 0, 0)';\nvar activeFill = 'rgb(247, 250, 255)';\nvar nodeMainFill = 'rgb(239, 244, 255)';\nvar comboFill = 'rgb(253, 253, 253)';\nvar disabledFill = 'rgb(250, 250, 250)';\nvar edgeMainStroke = 'rgb(224, 224, 224)';\nvar edgeInactiveStroke = 'rgb(234, 234, 234)';\nvar edgeDisablesStroke = 'rgb(245, 245, 245)';\nvar inactiveStroke = 'rgb(191, 213, 255)';\nvar highlightStroke = '#4572d9';\nvar highlightFill = 'rgb(223, 234, 255)';\nvar colorSet = {\n  // for nodes\n  mainStroke: subjectColor,\n  mainFill: nodeMainFill,\n  activeStroke: subjectColor,\n  activeFill: activeFill,\n  inactiveStroke: inactiveStroke,\n  inactiveFill: activeFill,\n  selectedStroke: subjectColor,\n  selectedFill: backColor,\n  highlightStroke: highlightStroke,\n  highlightFill: highlightFill,\n  disableStroke: edgeMainStroke,\n  disableFill: disabledFill,\n  // for edges\n  edgeMainStroke: edgeMainStroke,\n  edgeActiveStroke: subjectColor,\n  edgeInactiveStroke: edgeInactiveStroke,\n  edgeSelectedStroke: subjectColor,\n  edgeHighlightStroke: subjectColor,\n  edgeDisableStroke: edgeDisablesStroke,\n  // for combos\n  comboMainStroke: edgeMainStroke,\n  comboMainFill: comboFill,\n  comboActiveStroke: subjectColor,\n  comboActiveFill: activeFill,\n  comboInactiveStroke: edgeMainStroke,\n  comboInactiveFill: comboFill,\n  comboSelectedStroke: subjectColor,\n  comboSelectedFill: comboFill,\n  comboHighlightStroke: highlightStroke,\n  comboHighlightFill: comboFill,\n  comboDisableStroke: edgeInactiveStroke,\n  comboDisableFill: disabledFill\n};\nexport default {\n  version: '0.3.0',\n  rootContainerClassName: 'root-container',\n  nodeContainerClassName: 'node-container',\n  edgeContainerClassName: 'edge-container',\n  comboContainerClassName: 'combo-container',\n  delegateContainerClassName: 'delegate-container',\n  defaultLoopPosition: 'top',\n  nodeLabel: {\n    style: {\n      fill: '#000',\n      fontSize: 12,\n      textAlign: 'center',\n      textBaseline: 'middle'\n    },\n    offset: 4 // \n\n  },\n  defaultNode: {\n    type: 'circle',\n    style: {\n      lineWidth: 1,\n      stroke: colorSet.mainStroke,\n      fill: nodeMainFill\n    },\n    size: 20,\n    color: colorSet.mainStroke,\n    linkPoints: {\n      size: 8,\n      lineWidth: 1,\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke\n    }\n  },\n  //  activeselectedhighlightinactivedisable\n  nodeStateStyles: {\n    active: {\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.mainStroke,\n      shadowBlur: 10\n    },\n    selected: {\n      fill: colorSet.selectedFill,\n      stroke: colorSet.selectedStroke,\n      lineWidth: 4,\n      shadowColor: colorSet.selectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      fill: colorSet.highlightFill,\n      stroke: colorSet.highlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      fill: colorSet.inactiveFill,\n      stroke: colorSet.inactiveStroke,\n      lineWidth: 1\n    },\n    disable: {\n      fill: colorSet.disableFill,\n      stroke: colorSet.disableStroke,\n      lineWidth: 1\n    }\n  },\n  edgeLabel: {\n    style: {\n      fill: textColor,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12\n    }\n  },\n  defaultEdge: {\n    type: 'line',\n    size: 1,\n    style: {\n      stroke: colorSet.edgeMainStroke,\n      lineAppendWidth: 2\n    },\n    color: colorSet.edgeMainStroke\n  },\n  //  activeselectedhighlightinactivedisable\n  edgeStateStyles: {\n    active: {\n      stroke: colorSet.edgeActiveStroke,\n      lineWidth: 1\n    },\n    selected: {\n      stroke: colorSet.edgeSelectedStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.edgeSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      stroke: colorSet.edgeHighlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      stroke: colorSet.edgeInactiveStroke,\n      lineWidth: 1\n    },\n    disable: {\n      stroke: colorSet.edgeDisableStroke,\n      lineWidth: 1\n    }\n  },\n  comboLabel: {\n    style: {\n      fill: textColor,\n      // textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12\n    },\n    refY: 10,\n    refX: 10 // Combo \n\n  },\n  defaultCombo: {\n    type: 'circle',\n    style: {\n      fill: colorSet.comboMainFill,\n      lineWidth: 1,\n      stroke: colorSet.comboMainStroke,\n      r: 5,\n      width: 20,\n      height: 10\n    },\n    size: [20, 5],\n    color: colorSet.comboMainStroke,\n    padding: [25, 20, 15, 20]\n  },\n  // combo  activeselectedhighlightinactivedisable\n  comboStateStyles: {\n    active: {\n      stroke: colorSet.comboActiveStroke,\n      lineWidth: 1,\n      fill: colorSet.comboActiveFill\n    },\n    selected: {\n      stroke: colorSet.comboSelectedStroke,\n      lineWidth: 2,\n      fill: colorSet.comboSelectedFill,\n      shadowColor: colorSet.comboSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      stroke: colorSet.comboHighlightStroke,\n      lineWidth: 2,\n      fill: colorSet.comboHighlightFill,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      stroke: colorSet.comboInactiveStroke,\n      fill: colorSet.comboInactiveFill,\n      lineWidth: 1\n    },\n    disable: {\n      stroke: colorSet.comboDisableStroke,\n      fill: colorSet.comboDisableFill,\n      lineWidth: 1\n    }\n  },\n  delegateStyle: {\n    fill: '#F3F9FF',\n    fillOpacity: 0.5,\n    stroke: '#1890FF',\n    strokeOpacity: 0.9,\n    lineDash: [5, 5]\n  }\n};","export default {\n  ' ': 0.3329986572265625,\n  a: 0.5589996337890625,\n  A: 0.6569992065429687,\n  b: 0.58599853515625,\n  B: 0.6769989013671875,\n  c: 0.5469985961914062,\n  C: 0.7279998779296875,\n  d: 0.58599853515625,\n  D: 0.705999755859375,\n  e: 0.554998779296875,\n  E: 0.63699951171875,\n  f: 0.37299957275390627,\n  F: 0.5769989013671875,\n  g: 0.5909988403320312,\n  G: 0.7479995727539063,\n  h: 0.555999755859375,\n  H: 0.7199996948242188,\n  i: 0.255999755859375,\n  I: 0.23699951171875,\n  j: 0.26699981689453123,\n  J: 0.5169998168945312,\n  k: 0.5289993286132812,\n  K: 0.6899993896484375,\n  l: 0.23499908447265624,\n  L: 0.5879989624023437,\n  m: 0.854998779296875,\n  M: 0.8819992065429687,\n  n: 0.5589996337890625,\n  N: 0.7189987182617188,\n  o: 0.58599853515625,\n  O: 0.7669998168945312,\n  p: 0.58599853515625,\n  P: 0.6419998168945312,\n  q: 0.58599853515625,\n  Q: 0.7669998168945312,\n  r: 0.3649993896484375,\n  R: 0.6759994506835938,\n  s: 0.504998779296875,\n  S: 0.6319992065429687,\n  t: 0.354998779296875,\n  T: 0.6189987182617187,\n  u: 0.5599990844726562,\n  U: 0.7139999389648437,\n  v: 0.48199920654296874,\n  V: 0.6389999389648438,\n  w: 0.754998779296875,\n  W: 0.929998779296875,\n  x: 0.5089996337890625,\n  X: 0.63699951171875,\n  y: 0.4959991455078125,\n  Y: 0.66199951171875,\n  z: 0.48699951171875,\n  Z: 0.6239990234375,\n  '0': 0.6,\n  '1': 0.40099945068359377,\n  '2': 0.6,\n  '3': 0.6,\n  '4': 0.6,\n  '5': 0.6,\n  '6': 0.6,\n  '7': 0.5469985961914062,\n  '8': 0.6,\n  '9': 0.6,\n  '[': 0.3329986572265625,\n  ']': 0.3329986572265625,\n  ',': 0.26399993896484375,\n  '.': 0.26399993896484375,\n  ';': 0.26399993896484375,\n  ':': 0.26399993896484375,\n  '{': 0.3329986572265625,\n  '}': 0.3329986572265625,\n  '\\\\': 0.5,\n  '|': 0.19499969482421875,\n  '=': 0.604998779296875,\n  '+': 0.604998779296875,\n  '-': 0.604998779296875,\n  _: 0.5,\n  '`': 0.3329986572265625,\n  ' ~': 0.8329986572265625,\n  '!': 0.3329986572265625,\n  '@': 0.8579986572265625,\n  '#': 0.6,\n  $: 0.6,\n  '%': 0.9699996948242188,\n  '^': 0.517999267578125,\n  '&': 0.7259994506835937,\n  '*': 0.505999755859375,\n  '(': 0.3329986572265625,\n  ')': 0.3329986572265625,\n  '<': 0.604998779296875,\n  '>': 0.604998779296875,\n  '/': 0.5,\n  '?': 0.53699951171875\n};","import { __assign } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport Global from '../global';\nimport { applyMatrix } from './math';\nimport letterAspectRatio from './letterAspectRatio';\nimport { isString, clone, isNumber, isObject } from '@antv/util';\nvar PI = Math.PI,\n    sin = Math.sin,\n    cos = Math.cos; // 84522.5\n\nvar SELF_LINK_SIN = sin(PI / 8);\nvar SELF_LINK_COS = cos(PI / 8);\nexport var getBBox = function getBBox(element, group) {\n  var bbox = element.getBBox();\n  var leftTop = {\n    x: bbox.minX,\n    y: bbox.minY\n  };\n  var rightBottom = {\n    x: bbox.maxX,\n    y: bbox.maxY\n  }; // \n\n  if (group) {\n    var matrix = group.getMatrix();\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    leftTop = applyMatrix(leftTop, matrix);\n    rightBottom = applyMatrix(rightBottom, matrix);\n  }\n\n  var lx = leftTop.x,\n      ly = leftTop.y;\n  var rx = rightBottom.x,\n      ry = rightBottom.y;\n  return {\n    x: lx,\n    y: ly,\n    minX: lx,\n    minY: ly,\n    maxX: rx,\n    maxY: ry,\n    width: rx - lx,\n    height: ry - ly\n  };\n};\n/**\n * get loop edge config\n * @param cfg edge config\n */\n\nexport var getLoopCfgs = function getLoopCfgs(cfg) {\n  var item = cfg.sourceNode || cfg.targetNode;\n  var container = item.get('group');\n  var containerMatrix = container.getMatrix();\n  if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  var keyShape = item.getKeyShape();\n  var bbox = keyShape.getBBox();\n  var loopCfg = cfg.loopCfg || {}; // keyShape\n\n  var dist = loopCfg.dist || Math.max(bbox.width, bbox.height) * 2; // keyShape\n\n  var position = loopCfg.position || Global.defaultLoopPosition; // group\n\n  var center = [containerMatrix[6], containerMatrix[7]];\n  var startPoint = [cfg.startPoint.x, cfg.startPoint.y];\n  var endPoint = [cfg.endPoint.x, cfg.endPoint.y];\n  var rstart = bbox.height / 2;\n  var rend = bbox.height / 2;\n  var sinDeltaStart = rstart * SELF_LINK_SIN;\n  var cosDeltaStart = rstart * SELF_LINK_COS;\n  var sinDeltaEnd = rend * SELF_LINK_SIN;\n  var cosDeltaEnd = rend * SELF_LINK_COS; //  cfg \n\n  if (startPoint[0] === endPoint[0] && startPoint[1] === endPoint[1]) {\n    switch (position) {\n      case 'top':\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n        break;\n\n      case 'top-right':\n        rstart = bbox.height / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + cosDeltaEnd, center[1] - sinDeltaEnd];\n        break;\n\n      case 'right':\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + cosDeltaStart, center[1] - sinDeltaStart];\n        endPoint = [center[0] + cosDeltaEnd, center[1] + sinDeltaEnd];\n        break;\n\n      case 'bottom-right':\n        rstart = bbox.width / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + cosDeltaStart, center[1] + sinDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] + cosDeltaEnd];\n        break;\n\n      case 'bottom':\n        rstart = bbox.height / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + sinDeltaStart, center[1] + cosDeltaStart];\n        endPoint = [center[0] - sinDeltaEnd, center[1] + cosDeltaEnd];\n        break;\n\n      case 'bottom-left':\n        rstart = bbox.height / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] + cosDeltaStart];\n        endPoint = [center[0] - cosDeltaEnd, center[1] + sinDeltaEnd];\n        break;\n\n      case 'left':\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - cosDeltaStart, center[1] + sinDeltaStart];\n        endPoint = [center[0] - cosDeltaEnd, center[1] - sinDeltaEnd];\n        break;\n\n      case 'top-left':\n        rstart = bbox.width / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - cosDeltaStart, center[1] - sinDeltaStart];\n        endPoint = [center[0] - sinDeltaEnd, center[1] - cosDeltaEnd];\n        break;\n\n      default:\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n    } // \n\n\n    if (loopCfg.clockwise === false) {\n      var swap = [startPoint[0], startPoint[1]];\n      startPoint = [endPoint[0], endPoint[1]];\n      endPoint = [swap[0], swap[1]];\n    }\n  }\n\n  var startVec = [startPoint[0] - center[0], startPoint[1] - center[1]];\n  var scaleRateStart = (rstart + dist) / rstart;\n  var scaleRateEnd = (rend + dist) / rend;\n\n  if (loopCfg.clockwise === false) {\n    scaleRateStart = (rend + dist) / rend;\n    scaleRateEnd = (rstart + dist) / rstart;\n  }\n\n  var startExtendVec = vec2.scale([0, 0], startVec, scaleRateStart);\n  var controlPoint1 = [center[0] + startExtendVec[0], center[1] + startExtendVec[1]];\n  var endVec = [endPoint[0] - center[0], endPoint[1] - center[1]];\n  var endExtendVec = vec2.scale([0, 0], endVec, scaleRateEnd);\n  var controlPoint2 = [center[0] + endExtendVec[0], center[1] + endExtendVec[1]];\n  cfg.startPoint = {\n    x: startPoint[0],\n    y: startPoint[1]\n  };\n  cfg.endPoint = {\n    x: endPoint[0],\n    y: endPoint[1]\n  };\n  cfg.controlPoints = [{\n    x: controlPoint1[0],\n    y: controlPoint1[1]\n  }, {\n    x: controlPoint2[0],\n    y: controlPoint2[1]\n  }];\n  return cfg;\n};\n/**\n *  label  label \n * @param {object}  pathShape  G  path  Edge  keyShape\n * @param {number}  percent     0 - 1 \n * @param {number}  refX     x  label \n * @param {number}  refY     y  label \n * @param {boolean} rotate     \n * @return {object}  x, y, \n */\n\nexport var getLabelPosition = function getLabelPosition(pathShape, percent, refX, refY, rotate) {\n  var TAN_OFFSET = 0.0001;\n  var vector = [];\n  var point = pathShape.getPoint(percent);\n\n  if (point === null) {\n    return {\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n  } //  g path \n\n\n  if (percent < TAN_OFFSET) {\n    vector = pathShape.getStartTangent().reverse();\n  } else if (percent > 1 - TAN_OFFSET) {\n    vector = pathShape.getEndTangent();\n  } else {\n    // ,\n    var offsetPoint = pathShape.getPoint(percent + TAN_OFFSET);\n    vector.push([point.x, point.y]);\n    vector.push([offsetPoint.x, offsetPoint.y]);\n  }\n\n  var rad = Math.atan2(vector[1][1] - vector[0][1], vector[1][0] - vector[0][0]);\n\n  if (rad < 0) {\n    rad += PI * 2;\n  }\n\n  if (refX) {\n    point.x += cos(rad) * refX;\n    point.y += sin(rad) * refX;\n  }\n\n  if (refY) {\n    //  x   - 90\n    var normal = rad - PI / 2; //  y  refY  y \n\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      normal -= PI;\n    }\n\n    point.x += cos(normal) * refY;\n    point.y += sin(normal) * refY;\n  }\n\n  var result = {\n    x: point.x,\n    y: point.y,\n    angle: rad\n  };\n\n  if (rotate) {\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      rad -= PI;\n    }\n\n    return __assign({\n      rotate: rad\n    }, result);\n  }\n\n  return result;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\nvar traverse = function traverse(data, fn) {\n  if (fn(data) === false) {\n    return false;\n  }\n\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverse(data.children[i], fn)) return false;\n    }\n  }\n\n  return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\n\nvar traverseUp = function traverseUp(data, fn) {\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverseUp(data.children[i], fn)) return;\n    }\n  }\n\n  if (fn(data) === false) {\n    return false;\n  }\n\n  return true;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\n\nexport var traverseTree = function traverseTree(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n\n  traverse(data, fn);\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\n\nexport var traverseTreeUp = function traverseTreeUp(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n\n  traverseUp(data, fn);\n};\n/**\n *\n * @param letter the letter\n * @param fontSize\n * @return the letter's width\n */\n\nexport var getLetterWidth = function getLetterWidth(letter, fontSize) {\n  return fontSize * (letterAspectRatio[letter] || 1);\n};\n/**\n *\n * @param text the text\n * @param fontSize\n * @return the text's size\n */\n\nexport var getTextSize = function getTextSize(text, fontSize) {\n  var width = 0;\n  var pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\");\n  text.split('').forEach(function (letter) {\n    if (pattern.test(letter)) {\n      // \n      width += fontSize;\n    } else {\n      width += getLetterWidth(letter, fontSize);\n    }\n  });\n  return [width, fontSize];\n};\n/**\n * construct the trees from combos data\n * @param array the combos array\n * @param nodes the nodes array\n * @return the tree\n */\n\nexport var plainCombosToTrees = function plainCombosToTrees(array, nodes) {\n  var result = [];\n  var addedMap = {};\n  var modelMap = {};\n  array.forEach(function (d) {\n    modelMap[d.id] = d;\n  });\n  array.forEach(function (d, i) {\n    var cd = clone(d);\n    cd.itemType = 'combo';\n    cd.children = undefined;\n\n    if (cd.parentId === cd.id) {\n      console.warn(\"The parentId for combo \" + cd.id + \" can not be the same as the combo's id\");\n      delete cd.parentId;\n    } else if (cd.parentId && !modelMap[cd.parentId]) {\n      console.warn(\"The parent combo for combo \" + cd.id + \" does not exist!\");\n      delete cd.parentId;\n    }\n\n    var mappedObj = addedMap[cd.id];\n\n    if (mappedObj) {\n      cd.children = mappedObj.children;\n      addedMap[cd.id] = cd;\n      mappedObj = cd;\n\n      if (!mappedObj.parentId) {\n        result.push(mappedObj);\n        return;\n      }\n\n      var mappedParent = addedMap[mappedObj.parentId];\n\n      if (mappedParent) {\n        if (mappedParent.children) mappedParent.children.push(cd);else mappedParent.children = [cd];\n      } else {\n        var parent_1 = {\n          id: mappedObj.parentId,\n          children: [mappedObj]\n        };\n        addedMap[mappedObj.parentId] = parent_1;\n        addedMap[cd.id] = cd;\n      }\n\n      return;\n    }\n\n    if (isString(d.parentId)) {\n      var parent_2 = addedMap[d.parentId];\n\n      if (parent_2) {\n        if (parent_2.children) parent_2.children.push(cd);else parent_2.children = [cd];\n        addedMap[cd.id] = cd;\n      } else {\n        var pa = {\n          id: d.parentId,\n          children: [cd]\n        };\n        addedMap[pa.id] = pa;\n        addedMap[cd.id] = cd;\n      }\n    } else {\n      result.push(cd);\n      addedMap[cd.id] = cd;\n    }\n  }); // proccess the nodes\n\n  var nodeMap = {};\n  (nodes || []).forEach(function (node) {\n    nodeMap[node.id] = node;\n    var combo = addedMap[node.comboId];\n\n    if (combo) {\n      var cnode = {\n        id: node.id,\n        comboId: node.comboId\n      };\n      if (combo.children) combo.children.push(cnode);else combo.children = [cnode];\n      cnode.itemType = 'node';\n      addedMap[node.id] = cnode;\n    }\n  }); // assign the depth for each element\n\n  var maxDepth = 0;\n  result.forEach(function (tree) {\n    tree.depth = maxDepth + 10;\n    traverse(tree, function (child) {\n      var parent;\n      var itemType = addedMap[child.id].itemType;\n\n      if (itemType === 'node') {\n        parent = addedMap[child.comboId];\n      } else {\n        parent = addedMap[child.parentId];\n      }\n\n      if (parent) {\n        if (itemType === 'node') child.depth = maxDepth + 1;else child.depth = maxDepth + 10;\n      } else {\n        child.depth = maxDepth + 10;\n      }\n\n      if (maxDepth < child.depth) maxDepth = child.depth;\n      var oriNodeModel = nodeMap[child.id];\n\n      if (oriNodeModel) {\n        oriNodeModel.depth = child.depth;\n      }\n\n      return true;\n    });\n  });\n  return result;\n};\nexport var reconstructTree = function reconstructTree(trees, subtreeId, newParentId) {\n  var brothers = trees;\n  var subtree;\n  var comboChildsMap = {\n    root: {\n      children: trees\n    }\n  };\n  var foundSubTree = false;\n  var oldParentId = 'root';\n  (trees || []).forEach(function (tree) {\n    if (foundSubTree) return;\n\n    if (tree.id === subtreeId) {\n      subtree = tree;\n\n      if (tree.itemType === 'combo') {\n        subtree.parentId = newParentId;\n      } else {\n        subtree.comboId = newParentId;\n      }\n\n      foundSubTree = true;\n      return;\n    }\n\n    traverseTree(tree, function (child) {\n      comboChildsMap[child.id] = {\n        children: child.children\n      }; // store the old parent id to delete the subtree from the old parent's children in next recursion\n\n      brothers = comboChildsMap[child.parentId || child.comboId || 'root'].children;\n\n      if (child && (child.removed || subtreeId === child.id) && brothers) {\n        oldParentId = child.parentId || child.comboId || 'root';\n        subtree = child; // re-assign the parentId or comboId for the moved subtree\n\n        if (child.itemType === 'combo') {\n          subtree.parentId = newParentId;\n        } else {\n          subtree.comboId = newParentId;\n        }\n\n        foundSubTree = true;\n        return false;\n      }\n\n      return true;\n    });\n  });\n  brothers = comboChildsMap[oldParentId].children;\n  var index = brothers ? brothers.indexOf(subtree) : -1;\n  if (index > -1) brothers.splice(index, 1); // \n\n  if (!foundSubTree) {\n    subtree = {\n      id: subtreeId,\n      itemType: 'node',\n      comboId: newParentId\n    };\n    comboChildsMap[subtreeId] = {\n      children: undefined\n    };\n  } // append to new parent\n\n\n  if (subtreeId) {\n    var found_1 = false; // newParentId is undefined means the subtree will have no parent\n\n    if (newParentId) {\n      var newParentDepth_1 = 0;\n      (trees || []).forEach(function (tree) {\n        if (found_1) return; // terminate\n\n        traverseTree(tree, function (child) {\n          // append subtree to the new parent ans assign the depth to the subtree\n          if (newParentId === child.id) {\n            found_1 = true;\n            if (child.children) child.children.push(subtree);else child.children = [subtree];\n            newParentDepth_1 = child.depth;\n            if (subtree.itemType === 'node') subtree.depth = newParentDepth_1 + 2;else subtree.depth = newParentDepth_1 + 1;\n            return false; // terminate\n          }\n\n          return true;\n        });\n      });\n    } else if ((!newParentId || !found_1) && subtree.itemType !== 'node') {\n      // if the newParentId is undefined or it is not found in the tree, add the subTree to the root\n      trees.push(subtree);\n    } // update the depth of the subtree and its children from the subtree\n\n\n    var currentDepth_1 = subtree.depth;\n    traverseTree(subtree, function (child) {\n      if (child.itemType === 'node') currentDepth_1 += 2;else currentDepth_1 += 1;\n      child.depth = currentDepth_1;\n      return true;\n    });\n  }\n\n  return trees;\n};\nexport var getComboBBox = function getComboBBox(children, graph) {\n  var comboBBox = {\n    minX: Infinity,\n    minY: Infinity,\n    maxX: -Infinity,\n    maxY: -Infinity,\n    x: undefined,\n    y: undefined,\n    width: undefined,\n    height: undefined,\n    centerX: undefined,\n    centerY: undefined\n  };\n\n  if (!children || children.length === 0) {\n    return comboBBox;\n  }\n\n  children.forEach(function (child) {\n    var childItem = graph.findById(child.id);\n    if (!childItem || !childItem.isVisible()) return; // ignore hidden children\n\n    childItem.set('bboxCanvasCache', undefined);\n    var childBBox = childItem.getCanvasBBox();\n    if (childBBox.x && comboBBox.minX > childBBox.minX) comboBBox.minX = childBBox.minX;\n    if (childBBox.y && comboBBox.minY > childBBox.minY) comboBBox.minY = childBBox.minY;\n    if (childBBox.x && comboBBox.maxX < childBBox.maxX) comboBBox.maxX = childBBox.maxX;\n    if (childBBox.y && comboBBox.maxY < childBBox.maxY) comboBBox.maxY = childBBox.maxY;\n  });\n  comboBBox.x = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.y = (comboBBox.minY + comboBBox.maxY) / 2;\n  comboBBox.width = comboBBox.maxX - comboBBox.minX;\n  comboBBox.height = comboBBox.maxY - comboBBox.minY;\n  comboBBox.centerX = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.centerY = (comboBBox.minY + comboBBox.maxY) / 2;\n  Object.keys(comboBBox).forEach(function (key) {\n    if (comboBBox[key] === Infinity || comboBBox[key] === -Infinity) {\n      comboBBox[key] = undefined;\n    }\n  });\n  return comboBBox;\n};\nexport var shouldRefreshEdge = function shouldRefreshEdge(cfg) {\n  var refreshEdge = isNumber(cfg.x) || isNumber(cfg.y) || cfg.type || cfg.anchorPoints || cfg.size;\n  if (cfg.style) refreshEdge = refreshEdge || isNumber(cfg.style.r) || isNumber(cfg.style.width) || isNumber(cfg.style.height) || isNumber(cfg.style.rx) || isNumber(cfg.style.ry);\n  return refreshEdge;\n};\nexport var cloneBesidesImg = function cloneBesidesImg(obj) {\n  var clonedObj = {};\n  Object.keys(obj).forEach(function (key1) {\n    var obj2 = obj[key1];\n\n    if (isObject(obj2)) {\n      var clonedObj2_1 = {};\n      Object.keys(obj2).forEach(function (key2) {\n        var v = obj2[key2];\n        if (key2 === 'img' && !isString(v)) return;\n        clonedObj2_1[key2] = clone(v);\n      });\n      clonedObj[key1] = clonedObj2_1;\n    } else {\n      clonedObj[key1] = clone(obj2);\n    }\n  });\n  return clonedObj;\n};","import { __spreadArray } from \"tslib\";\nimport { isString } from '@antv/util';\nimport { traverseTree } from './graphic';\n/**\n * \n * 1. \n * 2.  ID  123  '123' \n * 3.  source  target  ID \n * @param data \n * @return boolean  true false\n */\n\nexport var dataValidation = function dataValidation(data) {\n  // 1. \n  if (!data) {\n    console.error('G6 Error Tips: the data must be defined');\n    return false;\n  } // 2.  ID \n\n\n  var nodes = data.nodes,\n      edges = data.edges,\n      _a = data.combos,\n      combos = _a === void 0 ? [] : _a;\n\n  if (!nodes && !edges) {\n    var validated_1 = true; //  nodes  edges TreeGraphData TreeGraphData \n\n    traverseTree(data, function (param) {\n      if (!isString(param.id)) {\n        validated_1 = false;\n        return false;\n      }\n\n      return true;\n    });\n    return validated_1;\n  }\n\n  var nonNode = (nodes || []).find(function (node) {\n    return !isString(node.id);\n  });\n\n  if (nonNode) {\n    console.warn(\"G6 Warning Tips: missing 'id' property, or %c\" + nonNode.id + \"%c is not a string.\", 'font-size: 20px; color: red;', '');\n    return false;\n  } // 3.  source  target   Combo\n\n\n  var nodeIds = (nodes || []).map(function (node) {\n    return node.id;\n  });\n  var comboIds = combos.map(function (combo) {\n    return combo.id;\n  });\n\n  var ids = __spreadArray(__spreadArray([], nodeIds), comboIds);\n\n  var nonEdges = (edges || []).find(function (edge) {\n    return !ids.includes(edge.source) || !ids.includes(edge.target);\n  });\n\n  if (nonEdges) {\n    console.warn(\"G6 Warning Tips: The source %c\" + nonEdges.source + \"%c or the target %c\" + nonEdges.target + \"%c of the edge do not exist in the nodes or combos.\", 'font-size: 20px; color: red;', '', 'font-size: 20px; color: red;', '');\n    return false;\n  }\n\n  return true;\n};\n/**\n * combo\n * @param type combo\n * @param data \n * @return boolean  true false\n */\n\nexport var singleDataValidation = function singleDataValidation(type, data) {\n  if (type === 'node' || type === 'combo') {\n    //  id id\n    if (data.id && !isString(data.id)) {\n      console.warn(\"G6 Warning Tips: missing 'id' property, or the 'id' %c\" + data.id + \"%c is not a string.\", 'font-size: 20px; color: red;', '');\n      return false;\n    }\n  } else if (type === 'edge') {\n    //  source  target \n    if (!data.source || !data.target) {\n      console.warn(\"G6 Warning Tips: missing 'source' or 'target' for the edge.\");\n      return false;\n    }\n  }\n\n  return true;\n};","import { each, isArray, isString } from '@antv/util';\nimport Behavior from '../../behavior/behavior';\n\nvar ModeController =\n/** @class */\nfunction () {\n  function ModeController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n    this.modes = graph.get('modes') || {\n      default: []\n    };\n    this.formatModes();\n    this.mode = graph.get('defaultMode') || 'default';\n    this.currentBehaves = [];\n    this.setMode(this.mode);\n  }\n\n  ModeController.prototype.formatModes = function () {\n    var modes = this.modes;\n    each(modes, function (mode) {\n      each(mode, function (behavior, i) {\n        if (isString(behavior)) {\n          mode[i] = {\n            type: behavior\n          };\n        }\n      });\n    });\n  };\n\n  ModeController.prototype.setBehaviors = function (mode) {\n    var graph = this.graph;\n    var behaviors = this.modes[mode];\n    var behaves = [];\n    var behave;\n    each(behaviors || [], function (behavior) {\n      var BehaviorInstance = Behavior.getBehavior(behavior.type || behavior);\n\n      if (!BehaviorInstance) {\n        return;\n      }\n\n      behave = new BehaviorInstance(behavior);\n\n      if (behave) {\n        behave.bind(graph);\n        behaves.push(behave);\n      }\n    });\n    this.currentBehaves = behaves;\n  };\n\n  ModeController.mergeBehaviors = function (modeBehaviors, behaviors) {\n    each(behaviors, function (behavior) {\n      if (modeBehaviors.indexOf(behavior) < 0) {\n        if (isString(behavior)) {\n          behavior = {\n            type: behavior\n          };\n        }\n\n        modeBehaviors.push(behavior);\n      }\n    });\n    return modeBehaviors;\n  };\n\n  ModeController.filterBehaviors = function (modeBehaviors, behaviors) {\n    var result = [];\n    modeBehaviors.forEach(function (behavior) {\n      var type = '';\n\n      if (isString(behavior)) {\n        type = behavior;\n      } else {\n        // eslint-disable-next-line prefer-destructuring\n        type = behavior.type;\n      }\n\n      if (behaviors.indexOf(type) < 0) {\n        result.push(behavior);\n      }\n    });\n    return result;\n  };\n\n  ModeController.prototype.setMode = function (mode) {\n    var _a = this,\n        modes = _a.modes,\n        graph = _a.graph;\n\n    var current = mode;\n    var behaviors = modes[current];\n\n    if (!behaviors) {\n      return;\n    }\n\n    graph.emit('beforemodechange', {\n      mode: mode\n    });\n    each(this.currentBehaves, function (behave) {\n      if (behave.delegate) behave.delegate.remove();\n      behave.unbind(graph);\n    });\n    this.setBehaviors(current);\n    graph.emit('aftermodechange', {\n      mode: mode\n    });\n    this.mode = mode;\n  };\n\n  ModeController.prototype.getMode = function () {\n    return this.mode;\n  };\n  /**\n   *  Behavior\n   *\n   * @param {ModeType[]} behaviors\n   * @param {(ModeType[] | ModeType)} modes\n   * @param {boolean} isAdd\n   * @returns {Mode}\n   * @memberof Mode\n   */\n\n\n  ModeController.prototype.manipulateBehaviors = function (behaviors, modes, isAdd) {\n    var _this = this;\n\n    var behaves;\n\n    if (!isArray(behaviors)) {\n      behaves = [behaviors];\n    } else {\n      behaves = behaviors;\n    }\n\n    if (isArray(modes)) {\n      each(modes, function (mode) {\n        if (!_this.modes[mode]) {\n          if (isAdd) {\n            _this.modes[mode] = behaves;\n          }\n        } else if (isAdd) {\n          _this.modes[mode] = ModeController.mergeBehaviors(_this.modes[mode] || [], behaves);\n        } else {\n          _this.modes[mode] = ModeController.filterBehaviors(_this.modes[mode] || [], behaves);\n        }\n      });\n      return this;\n    }\n\n    var currentMode = modes;\n\n    if (!modes) {\n      currentMode = this.mode; // isString(this.mode) ? this.mode : this.mode.type\n    }\n\n    if (!this.modes[currentMode]) {\n      if (isAdd) {\n        this.modes[currentMode] = behaves;\n      }\n    }\n\n    if (isAdd) {\n      this.modes[currentMode] = ModeController.mergeBehaviors(this.modes[currentMode] || [], behaves);\n    } else {\n      this.modes[currentMode] = ModeController.filterBehaviors(this.modes[currentMode] || [], behaves);\n    }\n\n    this.setMode(this.mode);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType} behavior \n   * @param {string | string[]} modes  default\n   * @return {Graph} Graph\n   */\n\n\n  ModeController.prototype.updateBehavior = function (behavior, newCfg, mode) {\n    if (isString(behavior)) {\n      behavior = {\n        type: behavior\n      };\n    }\n\n    var behaviorSet = [];\n\n    if (!mode || mode === this.mode || mode === 'default') {\n      behaviorSet = this.currentBehaves;\n\n      if (!behaviorSet || !behaviorSet.length) {\n        console.warn('Update behavior failed! There is no behaviors in this mode on the graph.');\n        return this;\n      }\n\n      var length_1 = behaviorSet.length;\n\n      for (var i = 0; i < length_1; i++) {\n        var behave = behaviorSet[i];\n\n        if (behave.type === behavior.type) {\n          behave.updateCfg(newCfg);\n          return this;\n        }\n\n        if (i === length_1 - 1) console.warn('Update behavior failed! There is no such behavior in the mode');\n      }\n    } else {\n      behaviorSet = this.modes[mode];\n\n      if (!behaviorSet || !behaviorSet.length) {\n        console.warn('Update behavior failed! There is no behaviors in this mode on the graph.');\n        return this;\n      }\n\n      var length_2 = behaviorSet.length;\n\n      for (var i = 0; i < length_2; i++) {\n        var behave = behaviorSet[i];\n\n        if (behave.type === behavior.type || behave === behavior.type) {\n          if (behave === behavior.type) behave = {\n            type: behave\n          };\n          Object.assign(behave, newCfg);\n          behaviorSet[i] = behave;\n          return this;\n        }\n\n        if (i === length_2 - 1) console.warn('Update behavior failed! There is no such behavior in the mode');\n      }\n    }\n\n    return this;\n  };\n\n  ModeController.prototype.destroy = function () {\n    this.graph = null;\n    this.modes = null;\n    this.currentBehaves = null;\n    this.destroyed = true;\n  };\n\n  return ModeController;\n}();\n\nexport default ModeController;","export default function modifyCSS(dom, css) {\n    if (dom) {\n        for (var key in css) {\n            if (css.hasOwnProperty(key)) {\n                dom.style[key] = css[key];\n            }\n        }\n    }\n    return dom;\n}\n//# sourceMappingURL=modify-css.js.map","import { __extends } from \"tslib\";\nimport { Event as GraphEvent } from '@antv/g-base';\n\nvar G6GraphEvent =\n/** @class */\nfunction (_super) {\n  __extends(G6GraphEvent, _super);\n\n  function G6GraphEvent(type, event) {\n    var _this = _super.call(this, type, event) || this;\n\n    _this.item = event.item;\n    _this.canvasX = event.canvasX;\n    _this.canvasY = event.canvasY;\n    _this.detail = event.detail;\n    return _this;\n  }\n\n  return G6GraphEvent;\n}(GraphEvent);\n\nexport { G6GraphEvent };","import { isString, isNumber, isNil, isArray } from '@antv/util';\nimport { G6GraphEvent } from '../interface/behavior';\nexport var uniqueId = function uniqueId(type) {\n  return type + \"-\" + Math.random() + Date.now();\n};\n/**\n * turn padding into [top, right, bottom, right]\n * @param  {Number|Array} padding input padding\n * @return {array} output\n */\n\nexport var formatPadding = function formatPadding(padding) {\n  var top = 0;\n  var left = 0;\n  var right = 0;\n  var bottom = 0;\n\n  if (isNumber(padding)) {\n    top = left = right = bottom = padding;\n  } else if (isString(padding)) {\n    var intPadding = parseInt(padding, 10);\n    top = left = right = bottom = intPadding;\n  } else if (isArray(padding)) {\n    top = padding[0];\n    right = !isNil(padding[1]) ? padding[1] : padding[0];\n    bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n    left = !isNil(padding[3]) ? padding[3] : right;\n  }\n\n  return [top, right, bottom, left];\n};\n/**\n * clone event\n * @param e\n */\n\nexport var cloneEvent = function cloneEvent(e) {\n  var event = new G6GraphEvent(e.type, e);\n  event.clientX = e.clientX;\n  event.clientY = e.clientY;\n  event.x = e.x;\n  event.y = e.y;\n  event.target = e.target;\n  event.currentTarget = e.currentTarget;\n  event.bubbles = true;\n  event.item = e.item;\n  return event;\n};\n/**\n *  viewport \n * @param matrix Viewport  Matrix\n */\n\nexport var isViewportChanged = function isViewportChanged(matrix) {\n  // matrix  null \n  if (!matrix) {\n    return false;\n  }\n\n  var MATRIX_LEN = 9;\n  var ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n  for (var i = 0; i < MATRIX_LEN; i++) {\n    if (matrix[i] !== ORIGIN_MATRIX[i]) {\n      return true;\n    }\n  }\n\n  return false;\n};\nexport var isNaN = function isNaN(input) {\n  return Number.isNaN(Number(input));\n};\n/**\n *  Item  BBox\n * @param items Item node  combo\n */\n\nexport var calculationItemsBBox = function calculationItemsBBox(items) {\n  var minx = Infinity;\n  var maxx = -Infinity;\n  var miny = Infinity;\n  var maxy = -Infinity; // x y\n\n  for (var i = 0; i < items.length; i++) {\n    var element = items[i];\n    var bbox = element.getBBox();\n    var minX = bbox.minX,\n        minY = bbox.minY,\n        maxX = bbox.maxX,\n        maxY = bbox.maxY;\n\n    if (minX < minx) {\n      minx = minX;\n    }\n\n    if (minY < miny) {\n      miny = minY;\n    }\n\n    if (maxX > maxx) {\n      maxx = maxX;\n    }\n\n    if (maxY > maxy) {\n      maxy = maxY;\n    }\n  }\n\n  var x = Math.floor(minx);\n  var y = Math.floor(miny);\n  var width = Math.ceil(maxx) - Math.floor(minx);\n  var height = Math.ceil(maxy) - Math.floor(miny);\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    minX: minx,\n    minY: miny,\n    maxX: maxx,\n    maxY: maxy\n  };\n};\n/**\n *  edges  quadratic  curveOffset \n * : https://g6.antv.vision/en/docs/api/Util\n * @param edges \n * @param offsetDiff  offset \n * @param multiEdgeType\n * @param singleEdgeType\n * @param loopEdgeType\n */\n\nexport var processParallelEdges = function processParallelEdges(edges, offsetDiff, multiEdgeType, singleEdgeType, loopEdgeType) {\n  if (offsetDiff === void 0) {\n    offsetDiff = 15;\n  }\n\n  if (multiEdgeType === void 0) {\n    multiEdgeType = 'quadratic';\n  }\n\n  if (singleEdgeType === void 0) {\n    singleEdgeType = undefined;\n  }\n\n  if (loopEdgeType === void 0) {\n    loopEdgeType = undefined;\n  }\n\n  var len = edges.length;\n  var cod = offsetDiff * 2;\n  var loopPosition = ['top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left'];\n  var edgeMap = {};\n  var tags = [];\n  var reverses = {};\n\n  for (var i = 0; i < len; i++) {\n    var edge = edges[i];\n    var source = edge.source,\n        target = edge.target;\n    var sourceTarget = source + \"-\" + target;\n    if (tags[i]) continue;\n\n    if (!edgeMap[sourceTarget]) {\n      edgeMap[sourceTarget] = [];\n    }\n\n    tags[i] = true;\n    edgeMap[sourceTarget].push(edge);\n\n    for (var j = 0; j < len; j++) {\n      if (i === j) continue;\n      var sedge = edges[j];\n      var src = sedge.source;\n      var dst = sedge.target; // \n      // source = target\n      // target = source\n\n      if (!tags[j]) {\n        if (source === dst && target === src) {\n          edgeMap[sourceTarget].push(sedge);\n          tags[j] = true;\n          reverses[src + \"|\" + dst + \"|\" + (edgeMap[sourceTarget].length - 1)] = true;\n        } else if (source === src && target === dst) {\n          edgeMap[sourceTarget].push(sedge);\n          tags[j] = true;\n        }\n      }\n    }\n  }\n\n  for (var key in edgeMap) {\n    var arcEdges = edgeMap[key];\n    var length_1 = arcEdges.length;\n\n    for (var k = 0; k < length_1; k++) {\n      var current = arcEdges[k];\n\n      if (current.source === current.target) {\n        if (loopEdgeType) current.type = loopEdgeType; // 8\n\n        current.loopCfg = {\n          position: loopPosition[k % 8],\n          dist: Math.floor(k / 8) * 20 + 50\n        };\n        continue;\n      }\n\n      if (length_1 === 1 && singleEdgeType && current.source !== current.target) {\n        current.type = singleEdgeType;\n        continue;\n      }\n\n      current.type = multiEdgeType;\n      var sign = (k % 2 === 0 ? 1 : -1) * (reverses[current.source + \"|\" + current.target + \"|\" + k] ? -1 : 1);\n\n      if (length_1 % 2 === 1) {\n        current.curveOffset = sign * Math.ceil(k / 2) * cod;\n      } else {\n        current.curveOffset = sign * (Math.floor(k / 2) * cod + offsetDiff);\n      }\n    }\n  }\n\n  return edges;\n};","import { __assign } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport { modifyCSS } from '@antv/dom-util';\nimport { formatPadding } from '../../util/base';\nimport { applyMatrix, invertMatrix } from '../../util/math';\n\nvar ViewController =\n/** @class */\nfunction () {\n  function ViewController(graph) {\n    this.destroyed = false;\n    this.graph = graph;\n    this.destroyed = false;\n  } // get view center coordinate\n\n\n  ViewController.prototype.getViewCenter = function () {\n    var padding = this.getFormatPadding();\n    var graph = this.graph;\n    var width = this.graph.get('width');\n    var height = graph.get('height');\n    return {\n      x: (width - padding[1] - padding[3]) / 2 + padding[3],\n      y: (height - padding[0] - padding[2]) / 2 + padding[0]\n    };\n  };\n\n  ViewController.prototype.fitCenter = function () {\n    var graph = this.graph;\n    var group = graph.get('group');\n    group.resetMatrix();\n    var bbox = group.getCanvasBBox();\n    if (bbox.width === 0 || bbox.height === 0) return;\n    var viewCenter = this.getViewCenter();\n    var groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    graph.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n  }; // fit view graph\n\n\n  ViewController.prototype.fitView = function () {\n    var graph = this.graph;\n    var padding = this.getFormatPadding();\n    var width = graph.get('width');\n    var height = graph.get('height');\n    var group = graph.get('group');\n    group.resetMatrix();\n    var bbox = group.getCanvasBBox();\n    if (bbox.width === 0 || bbox.height === 0) return;\n    var viewCenter = this.getViewCenter();\n    var groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    graph.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n    var w = (width - padding[1] - padding[3]) / bbox.width;\n    var h = (height - padding[0] - padding[2]) / bbox.height;\n    var ratio = w;\n\n    if (w > h) {\n      ratio = h;\n    }\n\n    graph.zoom(ratio, viewCenter);\n  };\n\n  ViewController.prototype.getFormatPadding = function () {\n    var padding = this.graph.get('fitViewPadding');\n    return formatPadding(padding);\n  };\n\n  ViewController.prototype.focusPoint = function (point, animate, animateCfg) {\n    var _this = this;\n\n    var viewCenter = this.getViewCenter();\n    var modelCenter = this.getPointByCanvas(viewCenter.x, viewCenter.y);\n    var viewportMatrix = this.graph.get('group').getMatrix();\n    if (!viewportMatrix) viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n    if (animate) {\n      var dx_1 = (modelCenter.x - point.x) * viewportMatrix[0];\n      var dy_1 = (modelCenter.y - point.y) * viewportMatrix[4];\n      var lastX_1 = 0;\n      var lastY_1 = 0;\n      var newX_1 = 0;\n      var newY_1 = 0; // \n\n      this.graph.get('canvas').animate(function (ratio) {\n        newX_1 = dx_1 * ratio;\n        newY_1 = dy_1 * ratio;\n\n        _this.graph.translate(newX_1 - lastX_1, newY_1 - lastY_1);\n\n        lastX_1 = newX_1;\n        lastY_1 = newY_1;\n      }, __assign({}, animateCfg));\n    } else {\n      this.graph.translate((modelCenter.x - point.x) * viewportMatrix[0], (modelCenter.y - point.y) * viewportMatrix[4]);\n    }\n  };\n  /**\n   *  Canvas \n   * @param canvasX canvas x \n   * @param canvasY canvas y \n   */\n\n\n  ViewController.prototype.getPointByCanvas = function (canvasX, canvasY) {\n    var viewportMatrix = this.graph.get('group').getMatrix();\n\n    if (!viewportMatrix) {\n      viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    var point = invertMatrix({\n      x: canvasX,\n      y: canvasY\n    }, viewportMatrix);\n    return point;\n  };\n  /**\n   * \n   * @param clientX  x \n   * @param clientY  y \n   */\n\n\n  ViewController.prototype.getPointByClient = function (clientX, clientY) {\n    var canvas = this.graph.get('canvas');\n    var canvasPoint = canvas.getPointByClient(clientX, clientY);\n    return this.getPointByCanvas(canvasPoint.x, canvasPoint.y);\n  };\n  /**\n   * \n   * @param x  x \n   * @param y  y \n   */\n\n\n  ViewController.prototype.getClientByPoint = function (x, y) {\n    var canvas = this.graph.get('canvas');\n    var canvasPoint = this.getCanvasByPoint(x, y);\n    var point = canvas.getClientByPoint(canvasPoint.x, canvasPoint.y);\n    return {\n      x: point.x,\n      y: point.y\n    };\n  };\n  /**\n   *  Canvas \n   * @param x  x \n   * @param y  y \n   */\n\n\n  ViewController.prototype.getCanvasByPoint = function (x, y) {\n    var viewportMatrix = this.graph.get('group').getMatrix();\n\n    if (!viewportMatrix) {\n      viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    return applyMatrix({\n      x: x,\n      y: y\n    }, viewportMatrix);\n  };\n  /**\n   * \n   * @param item Item  id\n   * @param {boolean} animate \n   * @param {GraphAnimateConfig} animateCfg \n   */\n\n\n  ViewController.prototype.focus = function (item, animate, animateCfg) {\n    if (isString(item)) {\n      item = this.graph.findById(item);\n    }\n\n    if (item) {\n      var x = 0,\n          y = 0;\n\n      if (item.getType && item.getType() === 'edge') {\n        var sourceMatrix = item.getSource().get('group').getMatrix();\n        var targetMatrix = item.getTarget().get('group').getMatrix();\n\n        if (sourceMatrix && targetMatrix) {\n          x = (sourceMatrix[6] + targetMatrix[6]) / 2;\n          y = (sourceMatrix[7] + targetMatrix[7]) / 2;\n        } else if (sourceMatrix || targetMatrix) {\n          x = sourceMatrix ? sourceMatrix[6] : targetMatrix[6];\n          y = sourceMatrix ? sourceMatrix[7] : targetMatrix[7];\n        }\n      } else {\n        var group = item.get('group');\n        var matrix = group.getMatrix();\n        if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        x = matrix[6];\n        y = matrix[7];\n      } // modelx,y,modelx,yx,y\n\n\n      this.focusPoint({\n        x: x,\n        y: y\n      }, animate, animateCfg);\n    }\n  };\n  /**\n   *  canvas \n   * @param width canvas \n   * @param height canvas \n   */\n\n\n  ViewController.prototype.changeSize = function (width, height) {\n    var graph = this.graph;\n\n    if (!isNumber(width) || !isNumber(height)) {\n      throw Error('invalid canvas width & height, please make sure width & height type is number');\n    }\n\n    graph.set({\n      width: width,\n      height: height\n    });\n    var canvas = graph.get('canvas');\n    canvas.changeSize(width, height); // change the size of grid plugin if it exists on graph\n\n    var plugins = graph.get('plugins');\n    plugins.forEach(function (plugin) {\n      if (plugin.get('gridContainer')) {\n        var minZoom = graph.get('minZoom');\n        modifyCSS(plugin.get('container'), {\n          width: width + \"px\",\n          height: height + \"px\"\n        });\n        modifyCSS(plugin.get('gridContainer'), {\n          width: width / minZoom + \"px\",\n          height: height / minZoom + \"px\",\n          left: 0,\n          top: 0\n        });\n      }\n    });\n  };\n\n  ViewController.prototype.destroy = function () {\n    this.graph = null;\n    this.destroyed = false;\n  };\n\n  return ViewController;\n}();\n\nexport default ViewController;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * @fileOverview xmlNodeupdate\n * @author xuzhi.mxz@antfin.com\n */\nimport { __assign, __rest } from \"tslib\";\nimport { get } from '@antv/util';\nimport { getTextSize } from '../util/graphic';\n/**\n * JSON \n * @param text json \n */\n\nfunction looseJSONParse(text) {\n  if (typeof text !== 'string') {\n    return text;\n  }\n\n  var safeParse = function safeParse(str) {\n    if (typeof str !== 'string') {\n      return str;\n    }\n\n    try {\n      return JSON.parse(str.trim());\n    } catch (e) {\n      return str.trim();\n    }\n  };\n\n  var firstAttempt = safeParse(text);\n\n  if (typeof firstAttempt !== 'string') {\n    return firstAttempt;\n  }\n\n  var tail = function tail(arr) {\n    return arr[arr.length - 1];\n  };\n\n  var str = text.trim();\n  var objectStack = [];\n  var syntaxStack = [];\n\n  var isLastPair = function isLastPair() {\n    var syntaxes = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      syntaxes[_i] = arguments[_i];\n    }\n\n    return syntaxes.some(function (syntax) {\n      return tail(syntaxStack) === syntax;\n    });\n  };\n\n  var getValueStore = function getValueStore() {\n    return tail(objectStack);\n  };\n\n  var rst = null;\n  var i = 0;\n  var temp = '';\n\n  while (i < str.length) {\n    var nowChar = str[i];\n    var isInString = isLastPair('\"', \"'\");\n\n    if (!isInString && !nowChar.trim()) {\n      i += 1;\n      continue;\n    }\n\n    var isLastTranslate = str[i - 1] === '\\\\';\n    var isInObject = isLastPair('}');\n    var isInArray = isLastPair(']');\n    var isWaitingValue = isLastPair(',');\n    var tempArr = getValueStore();\n\n    if (isInString) {\n      if (tail(syntaxStack) === nowChar && !isLastTranslate) {\n        syntaxStack.pop();\n        var value = safeParse(temp);\n        tempArr.push(value);\n        rst = value;\n        temp = '';\n      } else {\n        temp += nowChar;\n      }\n    } else if (isInArray && nowChar === ',') {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n    } else if (isInObject && nowChar === ':') {\n      syntaxStack.push(',');\n\n      if (temp) {\n        tempArr.push(temp);\n        temp = '';\n      }\n    } else if (isWaitingValue && nowChar === ',') {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      syntaxStack.pop();\n    } else if (nowChar === '}' && (isInObject || isWaitingValue)) {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      if (isWaitingValue) {\n        syntaxStack.pop();\n      }\n\n      var obj = {};\n\n      for (var c = 1; c < tempArr.length; c += 2) {\n        obj[tempArr[c - 1]] = tempArr[c];\n      }\n\n      objectStack.pop();\n\n      if (objectStack.length) {\n        tail(objectStack).push(obj);\n      }\n\n      syntaxStack.pop();\n      rst = obj;\n    } else if (nowChar === ']' && isInArray) {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      objectStack.pop();\n\n      if (objectStack.length) {\n        tail(objectStack).push(tempArr);\n      }\n\n      syntaxStack.pop();\n      rst = tempArr;\n    } else if (nowChar === '{') {\n      objectStack.push([]);\n      syntaxStack.push('}');\n    } else if (nowChar === '[') {\n      objectStack.push([]);\n      syntaxStack.push(']');\n    } else if (nowChar === '\"') {\n      syntaxStack.push('\"');\n    } else if (nowChar === \"'\") {\n      syntaxStack.push(\"'\");\n    } else {\n      temp += nowChar;\n    }\n\n    i += 1;\n  }\n\n  return rst || temp;\n}\n\nvar keyConvert = function keyConvert(str) {\n  return str.split('-').reduce(function (a, b) {\n    return a + b.charAt(0).toUpperCase() + b.slice(1);\n  });\n};\n/**\n * {{}}\n * @param xml\n */\n\n\nexport var xmlDataRenderer = function xmlDataRenderer(xml) {\n  return function (data) {\n    var len = xml.length;\n    var arr = [];\n    var i = 0;\n    var tmp = '';\n\n    while (i < len) {\n      if (xml[i] === '{' && xml[i + 1] === '{') {\n        arr.push(tmp);\n        tmp = '';\n        i += 2;\n      } else if (xml[i] === '}' && xml[i + 1] === '}') {\n        if (arr.length) {\n          var last = arr.pop();\n          tmp = get(data, tmp, last.endsWith('=') ? \"\\\"{\" + tmp + \"}\\\"\" : tmp);\n          arr.push(last + tmp);\n        }\n\n        i += 2;\n        tmp = '';\n      } else {\n        tmp += xml[i];\n        i += 1;\n      }\n    }\n\n    arr.push(tmp);\n    return arr.map(function (e, index) {\n      return arr[index - 1] && arr[index - 1].endsWith('=') ? \"\\\"{\" + e + \"}\\\"\" : e;\n    }).join('');\n  };\n};\n/**\n * XMLJSON\n * @param xml xml\n */\n\nexport function parseXML(xml, cfg) {\n  var attrs = {};\n  var keys = xml.getAttributeNames && xml.getAttributeNames() || [];\n  var children = xml.children && Array.from(xml.children).map(function (e) {\n    return parseXML(e, cfg);\n  });\n  var rst = {};\n  var tagName = xml.tagName ? xml.tagName.toLowerCase() : 'group';\n\n  if (tagName === 'text') {\n    attrs.text = xml.innerText;\n  }\n\n  rst.type = tagName;\n\n  if (tagName === 'img') {\n    rst.type = 'image';\n  }\n\n  Array.from(keys).forEach(function (k) {\n    var key = keyConvert(k);\n    var val = xml.getAttribute(k);\n\n    try {\n      if (key === 'style' || key === 'attrs') {\n        var style = looseJSONParse(val);\n        attrs = __assign(__assign({}, attrs), style);\n      } else {\n        rst[key] = looseJSONParse(val);\n      }\n    } catch (e) {\n      if (key === 'style') {\n        throw e;\n      }\n\n      rst[key] = val;\n    }\n  });\n  rst.attrs = attrs;\n\n  if (cfg && cfg.style && rst.name && _typeof(cfg.style[rst.name]) === 'object') {\n    rst.attrs = __assign(__assign({}, rst.attrs), cfg.style[rst.name]);\n  }\n\n  if (cfg && cfg.style && rst.keyshape) {\n    rst.attrs = __assign(__assign({}, rst.attrs), cfg.style);\n  }\n\n  if (children.length) {\n    rst.children = children;\n  }\n\n  return rst;\n}\n/**\n * bounding boxshapebbox\n */\n\nexport function getBBox(node, offset, chilrenBBox) {\n  var _a = node.attrs,\n      attrs = _a === void 0 ? {} : _a;\n  var bbox = {\n    x: offset.x || 0,\n    y: offset.y || 0,\n    width: chilrenBBox.width || 0,\n    height: chilrenBBox.height || 0\n  };\n  var shapeHeight, shapeWidth;\n\n  switch (node.type) {\n    case 'maker':\n    case 'circle':\n      if (attrs.r) {\n        shapeWidth = 2 * attrs.r;\n        shapeHeight = 2 * attrs.r;\n      }\n\n      break;\n\n    case 'text':\n      if (attrs.text) {\n        shapeWidth = getTextSize(attrs.text, attrs.fontSize || 12)[0];\n        shapeHeight = 16;\n        bbox.y += shapeHeight;\n        bbox.height = shapeHeight;\n        bbox.width = shapeWidth;\n        node.attrs = __assign({\n          fontSize: 12,\n          fill: '#000'\n        }, attrs);\n      }\n\n      break;\n\n    default:\n      if (attrs.width) {\n        shapeWidth = attrs.width;\n      }\n\n      if (attrs.height) {\n        shapeHeight = attrs.height;\n      }\n\n  }\n\n  if (shapeHeight >= 0) {\n    bbox.height = shapeHeight;\n  }\n\n  if (shapeWidth >= 0) {\n    bbox.width = shapeWidth;\n  }\n\n  if (attrs.marginTop) {\n    bbox.y += attrs.marginTop;\n  }\n\n  if (attrs.marginLeft) {\n    bbox.x += attrs.marginLeft;\n  }\n\n  return bbox;\n}\n/**\n * xmlattrs\n * @param target\n * @param lastOffset\n */\n\nexport function generateTarget(target, lastOffset) {\n  var _a;\n\n  if (lastOffset === void 0) {\n    lastOffset = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var defaultBbox = __assign({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }, lastOffset);\n\n  if ((_a = target.children) === null || _a === void 0 ? void 0 : _a.length) {\n    var _b = target.attrs,\n        attrs = _b === void 0 ? {} : _b;\n    var marginTop = attrs.marginTop;\n\n    var offset = __assign({}, lastOffset);\n\n    if (marginTop) {\n      offset.y += marginTop;\n    }\n\n    for (var index = 0; index < target.children.length; index++) {\n      target.children[index].attrs.key = (attrs.key || 'root') + \" -\" + index + \" \";\n      var node = generateTarget(target.children[index], offset);\n\n      if (node.bbox) {\n        var bbox = node.bbox;\n\n        if (node.attrs.next === 'inline') {\n          offset.x += node.bbox.width;\n        } else {\n          offset.y += node.bbox.height;\n        }\n\n        if (bbox.width + bbox.x > defaultBbox.width) {\n          defaultBbox.width = bbox.width + bbox.x;\n        }\n\n        if (bbox.height + bbox.y > defaultBbox.height) {\n          defaultBbox.height = bbox.height + bbox.y;\n        }\n      }\n    }\n  }\n\n  target.bbox = getBBox(target, lastOffset, defaultBbox);\n  target.attrs = __assign(__assign({}, target.attrs), target.bbox);\n  return target;\n}\n/**\n * node,\n *  'add'   delete   change attrs  'restructure' \n * @param nowTarget\n * @param formerTarget\n */\n\nexport function compareTwoTarget(nowTarget, formerTarget) {\n  var _a, _b, _c, _d;\n\n  var type = (nowTarget || {}).type;\n  var key = ((formerTarget === null || formerTarget === void 0 ? void 0 : formerTarget.attrs) || {}).key;\n\n  if (key && nowTarget) {\n    nowTarget.attrs.key = key;\n  }\n\n  if (!nowTarget && formerTarget) {\n    return {\n      action: 'delete',\n      val: formerTarget,\n      type: type,\n      key: key\n    };\n  }\n\n  if (nowTarget && !formerTarget) {\n    return {\n      action: 'add',\n      val: nowTarget,\n      type: type\n    };\n  }\n\n  if (!nowTarget && !formerTarget) {\n    return {\n      action: 'same',\n      type: type\n    };\n  }\n\n  var children = [];\n\n  if (((_a = nowTarget.children) === null || _a === void 0 ? void 0 : _a.length) > 0 || ((_b = formerTarget.children) === null || _b === void 0 ? void 0 : _b.length) > 0) {\n    var length_1 = Math.max((_c = nowTarget.children) === null || _c === void 0 ? void 0 : _c.length, (_d = formerTarget.children) === null || _d === void 0 ? void 0 : _d.length);\n    var formerChilren = formerTarget.children || [];\n    var nowChilren = nowTarget.children || [];\n\n    for (var index = 0; index < length_1; index += 1) {\n      children.push(compareTwoTarget(nowChilren[index], formerChilren[index]));\n    }\n  }\n\n  var formerKeys = Object.keys(formerTarget.attrs);\n  var nowKeys = Object.keys(nowTarget.attrs);\n\n  if (formerTarget.type !== nowTarget.type) {\n    return {\n      action: 'restructure',\n      nowTarget: nowTarget,\n      formerTarget: formerTarget,\n      key: key,\n      children: children\n    };\n  }\n\n  if (formerKeys.filter(function (e) {\n    return e !== 'children';\n  }).some(function (e) {\n    return nowTarget.attrs[e] !== formerTarget.attrs[e] || !nowKeys.includes(e);\n  })) {\n    return {\n      action: 'change',\n      val: nowTarget,\n      children: children,\n      type: type,\n      key: key\n    };\n  }\n\n  return {\n    action: 'same',\n    children: children,\n    type: type,\n    key: key\n  };\n}\n/**\n * xmlxml\n * @param gen\n */\n\nexport function createNodeFromXML(gen) {\n  var structures = {};\n\n  var compileXML = function compileXML(cfg) {\n    var rawStr = typeof gen === 'function' ? gen(cfg) : gen;\n    var target = xmlDataRenderer(rawStr)(cfg); // TODO patch #16\n\n    var xmlParser = document.createElement('div');\n    xmlParser.innerHTML = target;\n    var xml = xmlParser.children[0];\n    var result = generateTarget(parseXML(xml, cfg));\n    xmlParser.remove();\n    return result;\n  };\n\n  return {\n    draw: function draw(cfg, group) {\n      var resultTarget = compileXML(cfg);\n      var keyshape = group;\n\n      var renderTarget = function renderTarget(target) {\n        var _a = target.attrs,\n            attrs = _a === void 0 ? {} : _a,\n            bbox = target.bbox,\n            type = target.type,\n            children = target.children,\n            rest = __rest(target, [\"attrs\", \"bbox\", \"type\", \"children\"]);\n\n        if (target.type !== 'group') {\n          var shape = group.addShape(target.type, __assign({\n            attrs: attrs,\n            origin: {\n              bbox: bbox,\n              type: type,\n              children: children\n            }\n          }, rest));\n\n          if (target.keyshape) {\n            keyshape = shape;\n          }\n        }\n\n        if (target.children) {\n          target.children.forEach(function (n) {\n            return renderTarget(n);\n          });\n        }\n      };\n\n      renderTarget(resultTarget);\n      structures[cfg.id] = [resultTarget];\n      return keyshape;\n    },\n    update: function update(cfg, node) {\n      if (!structures[cfg.id]) {\n        structures[cfg.id] = [];\n      }\n\n      var container = node.getContainer();\n      var children = container.get('children');\n      var newTarget = compileXML(cfg);\n      var lastTarget = structures[cfg.id].pop();\n      var diffResult = compareTwoTarget(newTarget, lastTarget);\n\n      var addShape = function addShape(shape) {\n        var _a;\n\n        if (shape.type !== 'group') {\n          container.addShape(shape.type, {\n            attrs: shape.attrs\n          });\n        }\n\n        if ((_a = shape.children) === null || _a === void 0 ? void 0 : _a.length) {\n          shape.children.map(function (e) {\n            return addShape(e);\n          });\n        }\n      };\n\n      var delShape = function delShape(shape) {\n        var _a;\n\n        var targetShape = children.find(function (e) {\n          return e.attrs.key === shape.attrs.key;\n        });\n\n        if (targetShape) {\n          container.removeChild(targetShape);\n        }\n\n        if ((_a = shape.children) === null || _a === void 0 ? void 0 : _a.length) {\n          shape.children.map(function (e) {\n            return delShape(e);\n          });\n        }\n      };\n\n      var updateTarget = function updateTarget(target) {\n        var key = target.key;\n\n        if (target.type !== 'group') {\n          var targetShape = children.find(function (e) {\n            return e.attrs.key === key;\n          });\n\n          switch (target.action) {\n            case 'change':\n              if (targetShape) {\n                var originAttr = target.val.keyshape ? node.getOriginStyle() : {};\n                targetShape.attr(__assign(__assign({}, originAttr), target.val.attrs));\n              }\n\n              break;\n\n            case 'add':\n              addShape(target.val);\n              break;\n\n            case 'delete':\n              delShape(target.val);\n              break;\n\n            case 'restructure':\n              delShape(target.formerTarget);\n              addShape(target.nowTarget);\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        if (target.children) {\n          target.children.forEach(function (n) {\n            return updateTarget(n);\n          });\n        }\n      };\n\n      updateTarget(diffResult);\n      structures[cfg.id].push(newTarget);\n    },\n    getAnchorPoints: function getAnchorPoints() {\n      return [[0, 0.5], [1, 0.5], [0.5, 1], [0.5, 0]];\n    }\n  };\n}","import { __assign } from \"tslib\";\nimport { upperFirst } from '@antv/util';\nimport { createNodeFromXML } from './xml';\nvar cache = {}; // ucfirst \n// \n\nfunction ucfirst(str) {\n  if (!cache[str]) {\n    cache[str] = upperFirst(str);\n  }\n\n  return cache[str];\n}\n/**\n * \n * @type Shape.FactoryBase\n */\n\n\nexport var ShapeFactoryBase = {\n  /**\n   * / shapeType \n   * @type {String}\n   */\n  defaultShapeType: 'defaultType',\n\n  /**\n   *  className\n   * @type {String}\n   */\n  className: null,\n\n  /**\n   *  Shape \n   * @param  {String} type \n   * @return {Shape} \n   */\n  getShape: function getShape(type) {\n    var self = this;\n    var shape = self[type] || self[self.defaultShapeType] || self['simple-circle'];\n    return shape;\n  },\n\n  /**\n   * \n   * @param  {String} type  \n   * @param  {Object} cfg \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  draw: function draw(type, cfg, group) {\n    var shape = this.getShape(type);\n    var rst = shape.draw(cfg, group);\n\n    if (shape.afterDraw) {\n      shape.afterDraw(cfg, group, rst);\n    }\n\n    return rst;\n  },\n\n  /**\n   * \n   * @param  {String} type  \n   * @param  {Object} cfg \n   * @param  {G6.Item} item \n   */\n  baseUpdate: function baseUpdate(type, cfg, item) {\n    var shape = this.getShape(type);\n\n    if (shape.update) {\n      //  update \n      shape.update(cfg, item);\n    }\n\n    if (shape.afterUpdate) {\n      shape.afterUpdate(cfg, item);\n    }\n  },\n\n  /**\n   * \n   * @param {String} type  \n   * @param {String} name  \n   * @param {String | Boolean} value \n   * @param {G6.Item} item  \n   */\n  setState: function setState(type, name, value, item) {\n    var shape = this.getShape(type); //  shape/shapeBase.ts  setState \n\n    shape.setState(name, value, item);\n  },\n\n  /**\n   * \n   * @param  {String} type \n   * @return {Boolean} \n   */\n  shouldUpdate: function shouldUpdate(type) {\n    var shape = this.getShape(type);\n    return !!shape.update;\n  },\n  getControlPoints: function getControlPoints(type, cfg) {\n    var shape = this.getShape(type);\n    return shape.getControlPoints(cfg);\n  },\n\n  /**\n   * \n   * @param {String} type \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(type, cfg) {\n    var shape = this.getShape(type);\n    return shape.getAnchorPoints(cfg);\n  }\n};\n/**\n * \n */\n\nvar ShapeFramework = {\n  // \n  options: {},\n\n  /**\n   * \n   */\n  draw: function draw(cfg, group) {\n    return this.drawShape(cfg, group);\n  },\n\n  /**\n   * \n   */\n  drawShape: function drawShape()\n  /* cfg, group */\n  {},\n\n  /**\n   * \n   */\n  afterDraw: function afterDraw()\n  /* cfg, group */\n  {},\n  // update(cfg, item) // \n  afterUpdate: function afterUpdate()\n  /* cfg, item */\n  {},\n\n  /**\n   * \n   */\n  setState: function setState()\n  /* name, value, item */\n  {},\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(cfg) {\n    var defaultAnchorPoints = this.options.anchorPoints;\n    var anchorPoints = cfg.anchorPoints || defaultAnchorPoints;\n    return anchorPoints;\n  }\n  /*  update  draw \n  update(cfg, item) {\n     }\n  */\n\n};\n\nvar Shape =\n/** @class */\nfunction () {\n  function Shape() {}\n\n  Shape.registerFactory = function (factoryType, cfg) {\n    var className = ucfirst(factoryType);\n    var factoryBase = ShapeFactoryBase;\n\n    var shapeFactory = __assign(__assign({}, factoryBase), cfg);\n\n    Shape[className] = shapeFactory;\n    shapeFactory.className = className;\n    return shapeFactory;\n  };\n\n  Shape.getFactory = function (factoryType) {\n    var className = ucfirst(factoryType);\n    return Shape[className];\n  };\n\n  Shape.registerNode = function (shapeType, nodeDefinition, extendShapeType) {\n    var shapeFactory = Shape.Node;\n    var shapeObj;\n\n    if (typeof nodeDefinition === 'string' || typeof nodeDefinition === 'function') {\n      var autoNodeDefinition = createNodeFromXML(nodeDefinition);\n      shapeObj = __assign(__assign({}, shapeFactory.getShape('single-node')), autoNodeDefinition);\n    } else if (nodeDefinition.jsx) {\n      var jsx = nodeDefinition.jsx;\n      var autoNodeDefinition = createNodeFromXML(jsx);\n      shapeObj = __assign(__assign(__assign({}, shapeFactory.getShape('single-node')), autoNodeDefinition), nodeDefinition);\n    } else {\n      shapeFactory.getShape(extendShapeType);\n      var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n      shapeObj = __assign(__assign({}, extendShape), nodeDefinition);\n    }\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'node';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  Shape.registerEdge = function (shapeType, edgeDefinition, extendShapeType) {\n    var shapeFactory = Shape.Edge;\n    var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n\n    var shapeObj = __assign(__assign({}, extendShape), edgeDefinition);\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'edge';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  Shape.registerCombo = function (shapeType, comboDefinition, extendShapeType) {\n    var shapeFactory = Shape.Combo;\n    var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n\n    var shapeObj = __assign(__assign({}, extendShape), comboDefinition);\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'combo';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  return Shape;\n}();\n\nexport default Shape; //  Node \n\nShape.registerFactory('node', {\n  defaultShapeType: 'circle'\n}); //  Edge \n\nShape.registerFactory('edge', {\n  defaultShapeType: 'line'\n}); //  Combo \n\nShape.registerFactory('combo', {\n  defaultShapeType: 'circle'\n});","import { __assign } from \"tslib\";\nimport { each, isNil, isPlainObject, isString, isBoolean, mix, deepMix, clone } from '@antv/util';\nimport Shape from '../element/shape';\nimport { getBBox } from '../util/graphic';\nimport { translate } from '../util/math';\nimport { uniqueId } from '../util/base';\nvar CACHE_BBOX = 'bboxCache';\nvar CACHE_CANVAS_BBOX = 'bboxCanvasCache';\nvar ARROWS = ['startArrow', 'endArrow'];\n\nvar ItemBase =\n/** @class */\nfunction () {\n  function ItemBase(cfg) {\n    this._cfg = {};\n    this.destroyed = false;\n    var defaultCfg = {\n      /**\n       * id\n       * @type {string}\n       */\n      id: undefined,\n\n      /**\n       * \n       * @type {string}\n       */\n      type: 'item',\n\n      /**\n       * data model\n       * @type {object}\n       */\n      model: {},\n\n      /**\n       * g group\n       * @type {G.Group}\n       */\n      group: undefined,\n\n      /**\n       * is open animate\n       * @type {boolean}\n       */\n      animate: false,\n\n      /**\n       * visible - not group visible\n       * @type {boolean}\n       */\n      visible: true,\n\n      /**\n       * locked - lock node\n       * @type {boolean}\n       */\n      locked: false,\n\n      /**\n       * capture event\n       * @type {boolean}\n       */\n      event: true,\n\n      /**\n       * key shape to calculate item's bbox\n       * @type object\n       */\n      keyShape: undefined,\n\n      /**\n       * item's states, such as selected or active\n       * @type Array\n       */\n      states: []\n    };\n    this._cfg = Object.assign(defaultCfg, this.getDefaultCfg(), cfg);\n    var model = this.get('model');\n    var id = model.id;\n    var itemType = this.get('type');\n\n    if (!id) {\n      id = uniqueId(itemType);\n      this.get('model').id = id;\n    }\n\n    this.set('id', id);\n    var group = cfg.group;\n\n    if (group) {\n      group.set('item', this);\n      group.set('id', id);\n    }\n\n    this.init();\n    this.draw();\n    var shapeType = model.shape || model.type || (itemType === 'edge' ? 'line' : 'circle');\n    var shapeFactory = this.get('shapeFactory');\n\n    if (shapeFactory && shapeFactory[shapeType]) {\n      var options = shapeFactory[shapeType].options; // merge the stateStyles from item and shape\n\n      if (options && options.stateStyles) {\n        var styles = this.get('styles') || model.stateStyles;\n        styles = deepMix({}, options.stateStyles, styles);\n        this.set('styles', styles);\n      }\n    }\n  }\n  /**\n   *  keyshape \n   */\n\n\n  ItemBase.prototype.calculateBBox = function () {\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    return bbox;\n  };\n  /**\n   *  keyshape \n   */\n\n\n  ItemBase.prototype.calculateCanvasBBox = function () {\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    return bbox;\n  };\n  /**\n   * draw shape\n   */\n\n\n  ItemBase.prototype.drawInner = function () {\n    var self = this;\n    var shapeFactory = self.get('shapeFactory');\n    var group = self.get('group');\n    var model = self.get('model');\n    group.clear();\n    var visible = model.visible;\n    if (visible !== undefined && !visible) self.changeVisibility(visible);\n\n    if (!shapeFactory) {\n      return;\n    }\n\n    self.updatePosition(model);\n    var cfg = self.getShapeCfg(model); // \n\n    var shapeType = cfg.type;\n    var keyShape = shapeFactory.draw(shapeType, cfg, group);\n\n    if (keyShape) {\n      self.set('keyShape', keyShape);\n      keyShape.set('isKeyShape', true);\n      keyShape.set('draggable', true);\n    }\n\n    this.setOriginStyle(); //  model  shape  shape \n\n    this.set('currentShape', shapeType);\n    this.restoreStates(shapeFactory, shapeType);\n  };\n  /**\n   * \n   * @param keyShape  keyShape\n   * @param group Group \n   */\n\n\n  ItemBase.prototype.setOriginStyle = function () {\n    var group = this.get('group');\n    var children = group.get('children');\n    var keyShape = this.getKeyShape();\n    var self = this;\n    var keyShapeName = keyShape.get('name');\n\n    if (!this.get('originStyle')) {\n      //  set originStyle attrs\n      var originStyles_1 = {};\n      each(children, function (child) {\n        var shapeType = child.get('type');\n        var name = child.get('name');\n\n        if (name && name !== keyShapeName) {\n          originStyles_1[name] = shapeType !== 'image' ? clone(child.attr()) : self.getShapeStyleByName(name);\n        } else {\n          // !name || name === keyShape\n          var keyShapeStyle = self.getShapeStyleByName(); //  child.attr  shape \n\n          if (keyShapeStyle.path) delete keyShapeStyle.path;\n          if (keyShapeStyle.matrix) delete keyShapeStyle.matrix;\n\n          if (!keyShapeName) {\n            Object.assign(originStyles_1, keyShapeStyle);\n          } else {\n            //  keyShape  name  !name keyShape name\n            if (!name) {\n              var shapeName = uniqueId('shape');\n              child.set('name', shapeName);\n              originStyles_1[shapeName] = shapeType !== 'image' ? clone(child.attr()) : self.getShapeStyleByName(name);\n            } else originStyles_1[keyShapeName] = keyShapeStyle;\n          }\n        }\n      });\n      self.set('originStyle', originStyles_1);\n    } else {\n      //  set originStyles stateStyles  originStyles \n      //  originStyle shape attrs\n      var styles_1 = this.getOriginStyle(); // let styles: ShapeStyle = {};\n\n      if (keyShapeName && !styles_1[keyShapeName]) styles_1[keyShapeName] = {}; // \n\n      var currentStatesStyle_1 = this.getCurrentStatesStyle(); //  attrs stateStyles  originStyles \n\n      each(children, function (child) {\n        var name = child.get('name');\n        var shapeAttrs = child.attr();\n\n        if (name && name !== keyShapeName) {\n          //  name  keyShape \n          var shapeStateStyle_1 = currentStatesStyle_1[name];\n          if (!styles_1[name]) styles_1[name] = {};\n\n          if (shapeStateStyle_1) {\n            Object.keys(shapeAttrs).forEach(function (key) {\n              var value = shapeAttrs[key];\n              if (value !== shapeStateStyle_1[key]) styles_1[name][key] = value;\n            });\n          } else {\n            styles_1[name] = child.get('type') !== 'image' ? clone(shapeAttrs) : self.getShapeStyleByName(name);\n          }\n        } else {\n          var shapeAttrs_1 = child.attr();\n\n          var keyShapeStateStyles_1 = __assign(__assign({}, currentStatesStyle_1), currentStatesStyle_1[keyShapeName]);\n\n          Object.keys(shapeAttrs_1).forEach(function (key) {\n            var value = shapeAttrs_1[key]; //  arrow shape \n            // if (isPlainObject(value) && ARROWS.indexOf(name) === -1) return;\n\n            if (keyShapeStateStyles_1[key] !== value) {\n              if (keyShapeName) styles_1[keyShapeName][key] = value;else styles_1[key] = value;\n            }\n          });\n        }\n      });\n      if (styles_1.path) delete styles_1.path;\n      if (styles_1.matrix) delete styles_1.matrix;\n      if (styles_1.x) delete styles_1.x;\n      if (styles_1.y) delete styles_1.y;\n      if (styles_1[keyShapeName] && styles_1[keyShapeName].x) delete styles_1[keyShapeName].x;\n      if (styles_1[keyShapeName] && styles_1[keyShapeName].y) delete styles_1[keyShapeName].y;\n      self.set('originStyle', styles_1);\n    }\n  };\n  /**\n   * restore shape states\n   * @param shapeFactory\n   * @param shapeType\n   */\n\n\n  ItemBase.prototype.restoreStates = function (shapeFactory, shapeType) {\n    var self = this;\n    var states = self.get('states');\n    each(states, function (state) {\n      shapeFactory.setState(shapeType, state, true, self);\n    });\n  };\n\n  ItemBase.prototype.init = function () {\n    var shapeFactory = Shape.getFactory(this.get('type'));\n    this.set('shapeFactory', shapeFactory);\n  };\n  /**\n   * \n   * @internal \n   * @param  {String} key \n   * @return {object | string | number} \n   */\n\n\n  ItemBase.prototype.get = function (key) {\n    return this._cfg[key];\n  };\n  /**\n   * \n   * @internal \n   * @param {String|Object} key \n   * @param {object | string | number} val \n   */\n\n\n  ItemBase.prototype.set = function (key, val) {\n    if (isPlainObject(key)) {\n      this._cfg = __assign(__assign({}, this._cfg), key);\n    } else {\n      this._cfg[key] = val;\n    }\n  };\n\n  ItemBase.prototype.getDefaultCfg = function () {\n    return {};\n  };\n  /**\n   * / cache\n   */\n\n\n  ItemBase.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null);\n    this.set(CACHE_CANVAS_BBOX, null);\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.beforeDraw = function () {};\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.afterDraw = function () {};\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.afterUpdate = function () {};\n  /**\n   * draw shape\n   */\n\n\n  ItemBase.prototype.draw = function () {\n    this.beforeDraw();\n    this.drawInner();\n    this.afterDraw();\n  };\n\n  ItemBase.prototype.getShapeStyleByName = function (name) {\n    var group = this.get('group');\n    var currentShape;\n\n    if (name) {\n      currentShape = group.find(function (element) {\n        return element.get('name') === name;\n      });\n    } else {\n      currentShape = this.getKeyShape();\n    }\n\n    if (currentShape) {\n      var styles_2 = {};\n      each(currentShape.attr(), function (val, key) {\n        //  img  updateItem \n        if (key !== 'img') {\n          styles_2[key] = val;\n        }\n      });\n      return styles_2;\n    }\n\n    return {};\n  };\n\n  ItemBase.prototype.getShapeCfg = function (model) {\n    var styles = this.get('styles');\n\n    if (styles) {\n      // merge graphitem\n      var newModel = model;\n      newModel.style = __assign(__assign({}, styles), model.style);\n      return newModel;\n    }\n\n    return model;\n  };\n  /**\n   * \n   * @param state \n   */\n\n\n  ItemBase.prototype.getStateStyle = function (state) {\n    var styles = this.get('styles');\n    var stateStyle = styles && styles[state];\n    return stateStyle;\n  };\n  /**\n   * get keyshape style\n   */\n\n\n  ItemBase.prototype.getOriginStyle = function () {\n    return this.get('originStyle');\n  };\n\n  ItemBase.prototype.getCurrentStatesStyle = function () {\n    var self = this;\n    var styles = {};\n    var states = self.getStates();\n\n    if (!states || !states.length) {\n      return this.getOriginStyle();\n    }\n\n    each(self.getStates(), function (state) {\n      styles = Object.assign(styles, self.getStateStyle(state));\n    });\n    return styles;\n  };\n  /**\n   *  visible \n   * @internal  graph \n   * @param {String} state \n   * @param {Boolean} value \n   */\n\n\n  ItemBase.prototype.setState = function (state, value) {\n    var states = this.get('states');\n    var shapeFactory = this.get('shapeFactory');\n    var stateName = state;\n    var filterStateName = state;\n\n    if (isString(value)) {\n      stateName = state + \":\" + value;\n      filterStateName = state + \":\";\n    }\n\n    var newStates = states;\n\n    if (isBoolean(value)) {\n      var index = states.indexOf(filterStateName);\n\n      if (value) {\n        if (index > -1) {\n          return;\n        }\n\n        states.push(stateName);\n      } else if (index > -1) {\n        states.splice(index, 1);\n      }\n    } else if (isString(value)) {\n      //  states  filterStateName \n      var filterStates = states.filter(function (name) {\n        return name.includes(filterStateName);\n      });\n\n      if (filterStates.length > 0) {\n        this.clearStates(filterStates);\n      }\n\n      newStates = newStates.filter(function (name) {\n        return !name.includes(filterStateName);\n      });\n      newStates.push(stateName);\n      this.set('states', newStates);\n    }\n\n    if (shapeFactory) {\n      var model = this.get('model');\n      var type = model.type; //  shape/shape.ts  setState\n\n      shapeFactory.setState(type, state, value, this);\n    }\n  };\n  /**\n   * \n   * @param states \n   */\n\n\n  ItemBase.prototype.clearStates = function (states) {\n    var self = this;\n    var originStates = self.getStates();\n    var shapeFactory = self.get('shapeFactory');\n    var model = self.get('model');\n    var shape = model.type;\n\n    if (!states) {\n      states = originStates;\n    }\n\n    if (isString(states)) {\n      states = [states];\n    }\n\n    var newStates = originStates.filter(function (state) {\n      return states.indexOf(state) === -1;\n    });\n    self.set('states', newStates);\n    states.forEach(function (state) {\n      shapeFactory.setState(shape, state, false, self);\n    });\n  };\n  /**\n   * \n   * @return {G.Group} \n   */\n\n\n  ItemBase.prototype.getContainer = function () {\n    return this.get('group');\n  };\n  /**\n   * \n   * @return {IShapeBase} \n   */\n\n\n  ItemBase.prototype.getKeyShape = function () {\n    return this.get('keyShape');\n  };\n  /**\n   * \n   * @return {Object} \n   */\n\n\n  ItemBase.prototype.getModel = function () {\n    return this.get('model');\n  };\n  /**\n   * \n   * @return {string} \n   */\n\n\n  ItemBase.prototype.getType = function () {\n    return this.get('type');\n  };\n  /**\n   *  Item ID\n   */\n\n\n  ItemBase.prototype.getID = function () {\n    return this.get('id');\n  };\n  /**\n   *  Item \n   */\n\n\n  ItemBase.prototype.isItem = function () {\n    return true;\n  };\n  /**\n   * \n   * @return {Array} \n   */\n\n\n  ItemBase.prototype.getStates = function () {\n    return this.get('states');\n  };\n  /**\n   * \n   * @param {String} state \n   * @return {Boolean} \n   */\n\n\n  ItemBase.prototype.hasState = function (state) {\n    var states = this.getStates();\n    return states.indexOf(state) >= 0;\n  };\n  /**\n   * \n   * 1. item model \n   * 2. \n   *\n   *  shape \n   */\n\n\n  ItemBase.prototype.refresh = function () {\n    var model = this.get('model'); // \n\n    this.updatePosition(model); // \n\n    this.updateShape(); // \n\n    this.afterUpdate(); // \n\n    this.clearCache();\n  };\n\n  ItemBase.prototype.isOnlyMove = function (cfg) {\n    return false;\n  };\n  /**\n   *  model \n   * @internal  Graph  graph.update \n   * @param  {Object} cfg       \n   */\n\n\n  ItemBase.prototype.update = function (cfg, onlyMove) {\n    if (onlyMove === void 0) {\n      onlyMove = false;\n    }\n\n    var model = this.get('model');\n    var oriVisible = model.visible;\n    var cfgVisible = cfg.visible;\n    if (oriVisible !== cfgVisible && cfgVisible !== undefined) this.changeVisibility(cfgVisible);\n    var originPosition = {\n      x: model.x,\n      y: model.y\n    };\n    cfg.x = isNaN(cfg.x) ? model.x : cfg.x;\n    cfg.y = isNaN(cfg.y) ? model.y : cfg.y;\n    var styles = this.get('styles');\n\n    if (cfg.stateStyles) {\n      //  item  this.get('styles') \n      var stateStyles = cfg.stateStyles;\n      mix(styles, stateStyles);\n      delete cfg.stateStyles;\n    } // \n\n\n    Object.assign(model, cfg); // isOnlyMove node\n    // const onlyMove = this.isOnlyMove(cfg);\n    // \n\n    if (onlyMove) {\n      this.updatePosition(cfg);\n    } else {\n      //  x,y \n      if (originPosition.x !== cfg.x || originPosition.y !== cfg.y) {\n        this.updatePosition(cfg);\n      }\n\n      this.updateShape();\n    }\n\n    this.afterUpdate();\n    this.clearCache();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.updateShape = function () {\n    var shapeFactory = this.get('shapeFactory');\n    var model = this.get('model');\n    var shape = model.type; // \n    // 1. \n    // 2.  shape  shape\n\n    if (shapeFactory.shouldUpdate(shape) && shape === this.get('currentShape')) {\n      var updateCfg = this.getShapeCfg(model);\n      shapeFactory.baseUpdate(shape, updateCfg, this); // \n\n      this.setOriginStyle();\n    } else {\n      // \n      this.draw();\n    } // \n\n\n    this.restoreStates(shapeFactory, shape);\n  };\n  /**\n   * \n   * @param {object} cfg \n   */\n\n\n  ItemBase.prototype.updatePosition = function (cfg) {\n    var model = this.get('model');\n    var x = isNil(cfg.x) ? model.x : cfg.x;\n    var y = isNil(cfg.y) ? model.y : cfg.y;\n    var group = this.get('group');\n\n    if (isNil(x) || isNil(y)) {\n      return false;\n    }\n\n    model.x = x;\n    model.y = y;\n    var matrix = group.getMatrix();\n    if (matrix && matrix[6] === x && matrix[7] === y) return false;\n    group.resetMatrix(); // G 4.0 element https://www.yuque.com/antv/blog/kxzk9g#4rMMV\n\n    translate(group, {\n      x: x,\n      y: y\n    });\n    this.clearCache(); // \n\n    return true;\n  };\n  /**\n   *  item  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  ItemBase.prototype.getBBox = function () {\n    //  bbox \n    var bbox = this.get(CACHE_BBOX);\n\n    if (!bbox) {\n      bbox = this.calculateBBox();\n      this.set(CACHE_BBOX, bbox);\n    }\n\n    return bbox;\n  };\n  /**\n   *  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  ItemBase.prototype.getCanvasBBox = function () {\n    //  bbox \n    var bbox = this.get(CACHE_CANVAS_BBOX);\n\n    if (!bbox) {\n      bbox = this.calculateCanvasBBox();\n      this.set(CACHE_CANVAS_BBOX, bbox);\n    }\n\n    return bbox;\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.toFront = function () {\n    var group = this.get('group');\n    group.toFront();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.toBack = function () {\n    var group = this.get('group');\n    group.toBack();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.show = function () {\n    this.changeVisibility(true);\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.hide = function () {\n    this.changeVisibility(false);\n  };\n  /**\n   * \n   * @param  {Boolean} visible \n   */\n\n\n  ItemBase.prototype.changeVisibility = function (visible) {\n    var group = this.get('group');\n\n    if (visible) {\n      group.show();\n    } else {\n      group.hide();\n    }\n\n    this.set('visible', visible);\n  };\n  /**\n   * \n   * @return {Boolean} \n   */\n\n\n  ItemBase.prototype.isVisible = function () {\n    return this.get('visible');\n  };\n  /**\n   * \n   * @param {Boolean} enable \n   */\n\n\n  ItemBase.prototype.enableCapture = function (enable) {\n    var group = this.get('group');\n\n    if (group) {\n      group.set('capture', enable);\n    }\n  };\n\n  ItemBase.prototype.destroy = function () {\n    if (!this.destroyed) {\n      var animate = this.get('animate');\n      var group = this.get('group');\n\n      if (animate) {\n        group.stopAnimate();\n      }\n\n      this.clearCache();\n      group.remove();\n      this._cfg = null;\n      this.destroyed = true;\n    }\n  };\n\n  return ItemBase;\n}();\n\nexport default ItemBase;","import { __extends } from \"tslib\";\nimport { isString, isPlainObject, isNil, mix } from '@antv/util';\nimport Item from './item';\nvar END_MAP = {\n  source: 'start',\n  target: 'end'\n};\nvar ITEM_NAME_SUFFIX = 'Node'; //  sourceNode, targetNode\n\nvar POINT_NAME_SUFFIX = 'Point'; //  startPoint, endPoint\n\nvar ANCHOR_NAME_SUFFIX = 'Anchor';\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Edge.prototype.getDefaultCfg = function () {\n    return {\n      type: 'edge',\n      sourceNode: null,\n      targetNode: null,\n      startPoint: null,\n      endPoint: null,\n      linkCenter: false\n    };\n  };\n\n  Edge.prototype.setEnd = function (name, value) {\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var preItem = this.get(itemName);\n\n    if (preItem && !preItem.destroyed) {\n      // \n      preItem.removeEdge(this);\n    }\n\n    if (isPlainObject(value)) {\n      // \n      this.set(pointName, value);\n      this.set(itemName, null);\n    } else {\n      value.addEdge(this);\n      this.set(itemName, value);\n      this.set(pointName, null);\n    }\n  };\n  /**\n   * \n   * @param name source | target\n   * @param model \n   * @param controlPoints \n   */\n\n\n  Edge.prototype.getLinkPoint = function (name, model, controlPoints) {\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var point = this.get(pointName);\n\n    if (!point) {\n      var item = this.get(itemName);\n      var anchorName = name + ANCHOR_NAME_SUFFIX;\n      var prePoint = this.getPrePoint(name, controlPoints);\n      var anchorIndex = model[anchorName];\n\n      if (!isNil(anchorIndex)) {\n        // \n        point = item.getLinkPointByAnchor(anchorIndex);\n      } // \n\n\n      point = point || item.getLinkPoint(prePoint);\n\n      if (!isNil(point.index)) {\n        this.set(name + \"AnchorIndex\", point.index);\n      }\n    }\n\n    return point;\n  };\n  /**\n   * \n   * @param name\n   * @param controlPoints\n   */\n\n\n  Edge.prototype.getPrePoint = function (name, controlPoints) {\n    if (controlPoints && controlPoints.length) {\n      var index = name === 'source' ? 0 : controlPoints.length - 1;\n      return controlPoints[index];\n    }\n\n    var oppositeName = name === 'source' ? 'target' : 'source'; // \n\n    return this.getEndPoint(oppositeName);\n  };\n  /**\n   * \n   * @param name\n   */\n\n\n  Edge.prototype.getEndPoint = function (name) {\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var item = this.get(itemName); //  model\n\n    if (item) {\n      return item.get('model');\n    } // \n\n\n    return this.get(pointName);\n  };\n  /**\n   * \n   * @param model\n   */\n\n\n  Edge.prototype.getControlPointsByCenter = function (model) {\n    var sourcePoint = this.getEndPoint('source');\n    var targetPoint = this.getEndPoint('target');\n    var shapeFactory = this.get('shapeFactory');\n    var type = model.type;\n    return shapeFactory.getControlPoints(type, {\n      startPoint: sourcePoint,\n      endPoint: targetPoint\n    });\n  };\n\n  Edge.prototype.getEndCenter = function (name) {\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var item = this.get(itemName); //  model\n\n    if (item) {\n      var bbox = item.getBBox();\n      return {\n        x: bbox.centerX,\n        y: bbox.centerY\n      };\n    } // \n\n\n    return this.get(pointName);\n  };\n\n  Edge.prototype.init = function () {\n    _super.prototype.init.call(this); // \n\n\n    this.setSource(this.get('source'));\n    this.setTarget(this.get('target'));\n  };\n\n  Edge.prototype.getShapeCfg = function (model) {\n    var self = this;\n    var linkCenter = self.get('linkCenter'); // \n\n    var cfg = _super.prototype.getShapeCfg.call(this, model);\n\n    if (linkCenter) {\n      cfg.startPoint = self.getEndCenter('source');\n      cfg.endPoint = self.getEndCenter('target');\n    } else {\n      var controlPoints = cfg.controlPoints || self.getControlPointsByCenter(cfg);\n      cfg.startPoint = self.getLinkPoint('source', model, controlPoints);\n      cfg.endPoint = self.getLinkPoint('target', model, controlPoints);\n    }\n\n    cfg.sourceNode = self.get('sourceNode');\n    cfg.targetNode = self.get('targetNode');\n    return cfg;\n  };\n  /**\n   * \n   */\n\n\n  Edge.prototype.getModel = function () {\n    var out = this.get('model');\n    var sourceItem = this.get(\"source\" + ITEM_NAME_SUFFIX);\n    var targetItem = this.get(\"target\" + ITEM_NAME_SUFFIX);\n\n    if (sourceItem) {\n      delete out[\"source\" + ITEM_NAME_SUFFIX];\n    } else {\n      out.source = this.get(\"start\" + POINT_NAME_SUFFIX);\n    }\n\n    if (targetItem) {\n      delete out[\"target\" + ITEM_NAME_SUFFIX];\n    } else {\n      out.target = this.get(\"end\" + POINT_NAME_SUFFIX);\n    }\n\n    if (!isString(out.source) && !isPlainObject(out.source)) {\n      out.source = out.source.getID();\n    }\n\n    if (!isString(out.target) && !isPlainObject(out.target)) {\n      out.target = out.target.getID();\n    }\n\n    return out;\n  };\n\n  Edge.prototype.setSource = function (source) {\n    this.setEnd('source', source);\n    this.set('source', source);\n  };\n\n  Edge.prototype.setTarget = function (target) {\n    this.setEnd('target', target);\n    this.set('target', target);\n  };\n\n  Edge.prototype.getSource = function () {\n    return this.get('source');\n  };\n\n  Edge.prototype.getTarget = function () {\n    return this.get('target');\n  };\n\n  Edge.prototype.updatePosition = function () {\n    return false;\n  };\n  /**\n   *  path \n   * @param {object} cfg \n   */\n\n\n  Edge.prototype.update = function (cfg, onlyMove) {\n    if (onlyMove === void 0) {\n      onlyMove = false;\n    }\n\n    var model = this.get('model');\n    var oriVisible = model.visible;\n    var cfgVisible = cfg.visible;\n    if (oriVisible !== cfgVisible && cfgVisible !== undefined) this.changeVisibility(cfgVisible);\n    var styles = this.get('styles');\n\n    if (cfg.stateStyles) {\n      //  item  this.get('styles') \n      var stateStyles = cfg.stateStyles;\n      mix(styles, stateStyles);\n      delete cfg.stateStyles;\n    }\n\n    Object.assign(model, cfg);\n    this.updateShape();\n    this.afterUpdate();\n    this.clearCache();\n  };\n\n  Edge.prototype.destroy = function () {\n    var sourceItem = this.get(\"source\" + ITEM_NAME_SUFFIX);\n    var targetItem = this.get(\"target\" + ITEM_NAME_SUFFIX);\n\n    if (sourceItem && !sourceItem.destroyed) {\n      sourceItem.removeEdge(this);\n    }\n\n    if (targetItem && !targetItem.destroyed) {\n      targetItem.removeEdge(this);\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  return Edge;\n}(Item);\n\nexport default Edge;","import { __extends } from \"tslib\";\nimport { each, isNil } from '@antv/util';\nimport { distance, getCircleIntersectByPoint, getEllipseIntersectByPoint, getRectIntersectByPoint } from '../util/math';\nimport Item from './item';\nvar CACHE_ANCHOR_POINTS = 'anchorPointsCache';\nvar CACHE_BBOX = 'bboxCache';\n\nvar Node =\n/** @class */\nfunction (_super) {\n  __extends(Node, _super);\n\n  function Node() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Node.prototype.getNearestPoint = function (points, curPoint) {\n    var index = 0;\n    var nearestPoint = points[0];\n    var minDistance = distance(points[0], curPoint);\n\n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      var dis = distance(point, curPoint);\n\n      if (dis < minDistance) {\n        nearestPoint = point;\n        minDistance = dis;\n        index = i;\n      }\n    }\n\n    nearestPoint.anchorIndex = index;\n    return nearestPoint;\n  };\n\n  Node.prototype.getDefaultCfg = function () {\n    return {\n      type: 'node',\n      edges: []\n    };\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getEdges = function () {\n    return this.get('edges');\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getInEdges = function () {\n    var self = this;\n    return this.get('edges').filter(function (edge) {\n      return edge.get('target') === self;\n    });\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getOutEdges = function () {\n    var self = this;\n    return this.get('edges').filter(function (edge) {\n      return edge.get('source') === self;\n    });\n  };\n  /**\n   * \n   *\n   * @returns {INode[]}\n   * @memberof Node\n   */\n\n\n  Node.prototype.getNeighbors = function (type) {\n    var _this = this;\n\n    var edges = this.get('edges');\n\n    if (type === 'target') {\n      //  source\n      var neighhborsConverter_1 = function neighhborsConverter_1(edge) {\n        return edge.getSource() === _this;\n      };\n\n      return edges.filter(neighhborsConverter_1).map(function (edge) {\n        return edge.getTarget();\n      });\n    }\n\n    if (type === 'source') {\n      //  target\n      var neighhborsConverter_2 = function neighhborsConverter_2(edge) {\n        return edge.getTarget() === _this;\n      };\n\n      return edges.filter(neighhborsConverter_2).map(function (edge) {\n        return edge.getSource();\n      });\n    } //  type \n\n\n    var neighhborsConverter = function neighhborsConverter(edge) {\n      return edge.getSource() === _this ? edge.getTarget() : edge.getSource();\n    };\n\n    return edges.map(neighhborsConverter);\n  };\n  /**\n   * \n   * @param  {Number} index \n   */\n\n\n  Node.prototype.getLinkPointByAnchor = function (index) {\n    var anchorPoints = this.getAnchorPoints();\n    return anchorPoints[index];\n  };\n  /**\n   * \n   * @param point\n   */\n\n\n  Node.prototype.getLinkPoint = function (point) {\n    var keyShape = this.get('keyShape');\n    var type = keyShape.get('type');\n    var itemType = this.get('type');\n    var centerX;\n    var centerY;\n    var bbox = this.getBBox();\n\n    if (itemType === 'combo') {\n      centerX = bbox.centerX || (bbox.maxX + bbox.minX) / 2;\n      centerY = bbox.centerY || (bbox.maxY + bbox.minY) / 2;\n    } else {\n      centerX = bbox.centerX;\n      centerY = bbox.centerY;\n    }\n\n    var anchorPoints = this.getAnchorPoints();\n    var intersectPoint;\n\n    switch (type) {\n      case 'circle':\n        intersectPoint = getCircleIntersectByPoint({\n          x: centerX,\n          y: centerY,\n          r: bbox.width / 2\n        }, point);\n        break;\n\n      case 'ellipse':\n        intersectPoint = getEllipseIntersectByPoint({\n          x: centerX,\n          y: centerY,\n          rx: bbox.width / 2,\n          ry: bbox.height / 2\n        }, point);\n        break;\n\n      default:\n        intersectPoint = getRectIntersectByPoint(bbox, point);\n    }\n\n    var linkPoint = intersectPoint; // \n\n    if (anchorPoints.length) {\n      if (!linkPoint) {\n        // \n        linkPoint = point;\n      }\n\n      linkPoint = this.getNearestPoint(anchorPoints, linkPoint);\n    }\n\n    if (!linkPoint) {\n      // \n      linkPoint = {\n        x: centerX,\n        y: centerY\n      };\n    }\n\n    return linkPoint;\n  };\n  /**\n   * \n   * @return {array} anchorPoints\n   */\n\n\n  Node.prototype.getAnchorPoints = function () {\n    var anchorPoints = this.get(CACHE_ANCHOR_POINTS);\n\n    if (!anchorPoints) {\n      anchorPoints = [];\n      var shapeFactory = this.get('shapeFactory');\n      var bbox_1 = this.getBBox();\n      var model = this.get('model');\n      var shapeCfg = this.getShapeCfg(model);\n      var type = model.type;\n      var points = shapeFactory.getAnchorPoints(type, shapeCfg) || [];\n      each(points, function (pointArr, index) {\n        var point = {\n          x: bbox_1.minX + pointArr[0] * bbox_1.width,\n          y: bbox_1.minY + pointArr[1] * bbox_1.height,\n          anchorIndex: index\n        };\n        anchorPoints.push(point);\n      });\n      this.set(CACHE_ANCHOR_POINTS, anchorPoints);\n    }\n\n    return anchorPoints;\n  };\n  /**\n   * add edge\n   * @param edge Edge instance\n   */\n\n\n  Node.prototype.addEdge = function (edge) {\n    this.get('edges').push(edge);\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.lock = function () {\n    this.set('locked', true);\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.unlock = function () {\n    this.set('locked', false);\n  };\n\n  Node.prototype.hasLocked = function () {\n    return this.get('locked');\n  };\n  /**\n   * \n   * @param {Edge} edge \n   */\n\n\n  Node.prototype.removeEdge = function (edge) {\n    var edges = this.getEdges();\n    var index = edges.indexOf(edge);\n\n    if (index > -1) {\n      edges.splice(index, 1);\n    }\n  };\n\n  Node.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null); //  bbox\n\n    this.set(CACHE_ANCHOR_POINTS, null);\n  };\n  /**\n   * \n   * @param cfg \n   */\n\n\n  Node.prototype.isOnlyMove = function (cfg) {\n    if (!cfg) {\n      return false;\n    }\n\n    var existX = !isNil(cfg.x);\n    var existY = !isNil(cfg.y);\n    var keys = Object.keys(cfg); //  x   y\n    //  x y\n\n    return keys.length === 1 && (existX || existY) || keys.length === 2 && existX && existY;\n  };\n\n  return Node;\n}(Item);\n\nexport default Node;","import { __assign, __extends } from \"tslib\";\nimport Node from './node';\nimport Global from '../global';\nimport { getBBox } from '../util/graphic';\nimport { isNumber } from '@antv/util';\nvar CACHE_BBOX = 'bboxCache';\nvar CACHE_CANVAS_BBOX = 'bboxCanvasCache';\nvar CACHE_SIZE = 'sizeCache';\nvar CACHE_ANCHOR_POINTS = 'anchorPointsCache';\n\nvar Combo =\n/** @class */\nfunction (_super) {\n  __extends(Combo, _super);\n\n  function Combo() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Combo.prototype.getDefaultCfg = function () {\n    return {\n      type: 'combo',\n      nodes: [],\n      edges: [],\n      combos: []\n    };\n  };\n\n  Combo.prototype.getShapeCfg = function (model) {\n    var styles = this.get('styles');\n    var bbox = this.get('bbox');\n\n    if (styles && bbox) {\n      // merge graphitem\n      var newModel = model;\n      var size = {\n        r: Math.hypot(bbox.height, bbox.width) / 2 || Global.defaultCombo.size[0] / 2,\n        width: bbox.width || Global.defaultCombo.size[0],\n        height: bbox.height || Global.defaultCombo.size[1]\n      };\n      newModel.style = __assign(__assign(__assign({}, styles), model.style), size);\n      var padding = model.padding || Global.defaultCombo.padding;\n\n      if (isNumber(padding)) {\n        size.r += padding;\n        size.width += padding * 2;\n        size.height += padding * 2;\n      } else {\n        size.r += padding[0];\n        size.width += padding[1] + padding[3] || padding[1] * 2;\n        size.height += padding[0] + padding[2] || padding[0] * 2;\n      }\n\n      this.set(CACHE_SIZE, size);\n      return newModel;\n    }\n\n    return model;\n  };\n  /**\n   *  keyshape \n   */\n\n\n  Combo.prototype.calculateCanvasBBox = function () {\n    if (this.destroyed) return;\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    var cacheSize = this.get(CACHE_SIZE);\n    var cacheBBox = this.get(CACHE_BBOX) || {};\n    var oriX = cacheBBox.x;\n    var oriY = cacheBBox.x;\n\n    if (cacheSize) {\n      cacheSize.width = Math.max(cacheSize.width, bbox.width);\n      cacheSize.height = Math.max(cacheSize.height, bbox.height);\n      var type = keyShape.get('type');\n\n      if (type === 'circle') {\n        bbox.width = cacheSize.r * 2;\n        bbox.height = cacheSize.r * 2;\n      } else {\n        bbox.width = cacheSize.width;\n        bbox.height = cacheSize.height;\n      }\n\n      bbox.minX = bbox.centerX - bbox.width / 2;\n      bbox.minY = bbox.centerY - bbox.height / 2;\n      bbox.maxX = bbox.centerX + bbox.width / 2;\n      bbox.maxY = bbox.centerY + bbox.height / 2;\n    } else {\n      bbox.width = bbox.maxX - bbox.minX;\n      bbox.height = bbox.maxY - bbox.minY;\n      bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n      bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    }\n\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    if (bbox.x !== oriX || bbox.y !== oriY) this.set(CACHE_ANCHOR_POINTS, null);\n    return bbox;\n  };\n  /**\n   *  Combo  ComboNode  Edge\n   */\n\n\n  Combo.prototype.getChildren = function () {\n    var self = this;\n    return {\n      nodes: self.getNodes(),\n      combos: self.getCombos()\n    };\n  };\n  /**\n   *  Combo \n   */\n\n\n  Combo.prototype.getNodes = function () {\n    var self = this;\n    return self.get('nodes');\n  };\n  /**\n   *  Combo  combo\n   */\n\n\n  Combo.prototype.getCombos = function () {\n    var self = this;\n    return self.get('combos');\n  };\n  /**\n   *  Combo  combo  node\n   * @param item Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addChild = function (item) {\n    var self = this;\n    var itemType = item.getType();\n\n    switch (itemType) {\n      case 'node':\n        self.addNode(item);\n        break;\n\n      case 'combo':\n        self.addCombo(item);\n        break;\n\n      default:\n        console.warn('Only node or combo items are allowed to be added into a combo');\n        return false;\n    }\n\n    return true;\n  };\n  /**\n   *  Combo  combo\n   * @param combo Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addCombo = function (combo) {\n    var self = this;\n    self.get('combos').push(combo);\n    return true;\n  };\n  /**\n   *  Combo \n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addNode = function (node) {\n    var self = this;\n    self.get('nodes').push(node);\n    return true;\n  };\n  /**\n   *  Combo  combo  node\n   * @param item Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeChild = function (item) {\n    var self = this;\n    var itemType = item.getType();\n\n    switch (itemType) {\n      case 'node':\n        self.removeNode(item);\n        break;\n\n      case 'combo':\n        self.removeCombo(item);\n        break;\n\n      default:\n        console.warn('Only node or combo items are allowed to be added into a combo');\n        return false;\n    }\n\n    return true;\n  };\n  /**\n   *  Combo  combo\n   * @param combo Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeCombo = function (combo) {\n    if (!combo) return;\n    var combos = this.getCombos();\n    var index = combos.indexOf(combo);\n\n    if (index > -1) {\n      combos.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   *  Combo \n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeNode = function (node) {\n    if (!node) return;\n    var nodes = this.getNodes();\n    var index = nodes.indexOf(node);\n\n    if (index > -1) {\n      nodes.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  };\n\n  Combo.prototype.isOnlyMove = function (cfg) {\n    return false;\n  };\n  /**\n   *  item  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  Combo.prototype.getBBox = function () {\n    this.set(CACHE_CANVAS_BBOX, null);\n    var bbox = this.calculateCanvasBBox();\n    return bbox;\n  };\n\n  Combo.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null); //  bbox\n\n    this.set(CACHE_CANVAS_BBOX, null);\n    this.set(CACHE_ANCHOR_POINTS, null);\n  };\n\n  Combo.prototype.destroy = function () {\n    if (!this.destroyed) {\n      var animate = this.get('animate');\n      var group = this.get('group');\n\n      if (animate) {\n        group.stopAnimate();\n      }\n\n      this.clearCache();\n      this.set(CACHE_SIZE, null);\n      this.set('bbox', null);\n      group.remove();\n      this._cfg = null;\n      this.destroyed = true;\n    }\n  };\n\n  return Combo;\n}(Node);\n\nexport default Combo;","import { __assign } from \"tslib\";\nimport { clone, deepMix, each, isArray, isObject, isString, upperFirst } from '@antv/util';\nimport Edge from '../../item/edge';\nimport Node from '../../item/node';\nimport Combo from '../../item/combo';\nimport { traverseTreeUp, traverseTree, getComboBBox, shouldRefreshEdge } from '../../util/graphic';\nvar NODE = 'node';\nvar EDGE = 'edge';\nvar VEDGE = 'vedge';\nvar COMBO = 'combo';\nvar CFG_PREFIX = 'default';\nvar MAPPER_SUFFIX = 'Mapper';\nvar STATE_SUFFIX = 'stateStyles';\n\nvar ItemController =\n/** @class */\nfunction () {\n  function ItemController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n  }\n  /**\n   *  Item \n   *\n   * @param {ITEM_TYPE} type node  edge\n   * @param {(NodeConfig & EdgeConfig)} model \n   * @returns {(Item)}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.addItem = function (type, model) {\n    var graph = this.graph;\n    var vType = type === VEDGE ? EDGE : type;\n    var parent = graph.get(vType + \"Group\") || graph.get('group');\n    var upperType = upperFirst(vType);\n    var item = null; //  this.get('styles') \n\n    var styles = graph.get(vType + upperFirst(STATE_SUFFIX)) || {};\n    var defaultModel = graph.get(CFG_PREFIX + upperType);\n\n    if (model[STATE_SUFFIX]) {\n      //  this.get('styles') \n      styles = model[STATE_SUFFIX];\n    }\n\n    if (defaultModel) {\n      //  merge  model \n      each(defaultModel, function (val, cfg) {\n        if (isObject(val) && !isArray(val)) {\n          model[cfg] = deepMix({}, val, model[cfg]);\n        } else if (isArray(val)) {\n          model[cfg] = model[cfg] || clone(defaultModel[cfg]);\n        } else {\n          model[cfg] = model[cfg] || defaultModel[cfg];\n        }\n      });\n    }\n\n    var mapper = graph.get(vType + MAPPER_SUFFIX);\n\n    if (mapper) {\n      var mappedModel_1 = mapper(model);\n\n      if (mappedModel_1[STATE_SUFFIX]) {\n        //  this.get('styles') \n        styles = mappedModel_1[STATE_SUFFIX];\n        delete mappedModel_1[STATE_SUFFIX];\n      } //  defaultEdge  defaultNode\n\n\n      each(mappedModel_1, function (val, cfg) {\n        if (isObject(val) && !isArray(val)) {\n          model[cfg] = deepMix({}, model[cfg], val);\n        } else {\n          model[cfg] = mappedModel_1[cfg] || model[cfg];\n        }\n      });\n    }\n\n    graph.emit('beforeadditem', {\n      type: type,\n      model: model\n    });\n\n    if (type === EDGE || type === VEDGE) {\n      var source = void 0;\n      var target = void 0;\n      source = model.source; // eslint-disable-line prefer-destructuring\n\n      target = model.target; // eslint-disable-line prefer-destructuring\n\n      if (source && isString(source)) {\n        source = graph.findById(source);\n      }\n\n      if (target && isString(target)) {\n        target = graph.findById(target);\n      }\n\n      if (!source || !target) {\n        console.warn(\"The source or target node of edge \" + model.id + \" does not exist!\");\n        return;\n      }\n\n      if (source.getType && source.getType() === 'combo') {\n        model.isComboEdge = true; // graph.updateCombo(source as ICombo);\n      }\n\n      if (target.getType && target.getType() === 'combo') {\n        model.isComboEdge = true; // graph.updateCombo(target as ICombo);\n      }\n\n      item = new Edge({\n        model: model,\n        source: source,\n        target: target,\n        styles: styles,\n        linkCenter: graph.get('linkCenter'),\n        group: parent.addGroup()\n      });\n    } else if (type === NODE) {\n      item = new Node({\n        model: model,\n        styles: styles,\n        group: parent.addGroup()\n      });\n    } else if (type === COMBO) {\n      var children = model.children;\n      var comboBBox = getComboBBox(children, graph);\n      if (!isNaN(comboBBox.x)) model.x = comboBBox.x;else if (isNaN(model.x)) model.x = Math.random() * 100;\n      if (!isNaN(comboBBox.y)) model.y = comboBBox.y;else if (isNaN(model.y)) model.y = Math.random() * 100;\n      var comboGroup = parent.addGroup();\n      comboGroup.setZIndex(model.depth);\n      item = new Combo({\n        model: model,\n        styles: styles,\n        bbox: model.collapsed ? getComboBBox([], graph) : comboBBox,\n        group: comboGroup\n      });\n      var comboModel_1 = item.getModel();\n      (children || []).forEach(function (child) {\n        var childItem = graph.findById(child.id);\n        item.addChild(childItem);\n        child.depth = comboModel_1.depth + 2;\n      }); // collapse the combo if the collapsed is true in the model\n\n      if (model.collapsed) {\n        setTimeout(function () {\n          graph.collapseCombo(item);\n        }, 16);\n      }\n    }\n\n    if (item) {\n      graph.get(type + \"s\").push(item);\n      graph.get('itemMap')[item.get('id')] = item;\n      graph.emit('afteradditem', {\n        item: item,\n        model: model\n      }); // eslint-disable-next-line consistent-return\n\n      return item;\n    }\n  };\n  /**\n   * \n   *\n   * @param {Item} item ID  \n   * @param {(EdgeConfig | Partial<NodeConfig>)} cfg \n   * @returns\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.updateItem = function (item, cfg) {\n    var _a, _b;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item || item.destroyed) {\n      return;\n    } //  item \n\n\n    var type = '';\n    if (item.getType) type = item.getType();\n    var mapper = graph.get(type + MAPPER_SUFFIX);\n    var model = item.getModel();\n    var isOnlyMove = item.isOnlyMove(cfg);\n\n    if (mapper) {\n      var result = deepMix({}, model, cfg);\n      var mappedModel = mapper(result); //  update mapperModeldeepMix\n\n      var newModel = deepMix({}, model, mappedModel, cfg);\n\n      if (mappedModel[STATE_SUFFIX]) {\n        item.set('styles', newModel[STATE_SUFFIX]);\n        delete newModel[STATE_SUFFIX];\n      }\n\n      each(newModel, function (val, key) {\n        cfg[key] = val;\n      });\n    } else {\n      // merge updatemodel\n      each(cfg, function (val, key) {\n        if (model[key]) {\n          if (isObject(val) && !isArray(val)) {\n            cfg[key] = __assign(__assign({}, model[key]), cfg[key]);\n          }\n        }\n      });\n    } // emit beforeupdateitem \n\n\n    graph.emit('beforeupdateitem', {\n      item: item,\n      cfg: cfg\n    });\n\n    if (type === EDGE) {\n      // source || target, modelstartPointendPoint\n      if (cfg.source) {\n        var source = cfg.source;\n\n        if (isString(source)) {\n          source = graph.findById(source);\n        }\n\n        item.setSource(source);\n      }\n\n      if (cfg.target) {\n        var target = cfg.target;\n\n        if (isString(target)) {\n          target = graph.findById(target);\n        }\n\n        item.setTarget(target);\n      }\n\n      item.update(cfg);\n    } // item.update(cfg);\n\n\n    if (type === NODE || type === COMBO) {\n      item.update(cfg, isOnlyMove);\n      var edges_1 = item.getEdges();\n      var refreshEdge = shouldRefreshEdge(cfg);\n      if (refreshEdge && type === NODE) each(edges_1, function (edge) {\n        edge.refresh();\n      });else if (refreshEdge && type === COMBO) {\n        var shapeFactory = item.get('shapeFactory');\n        var shapeType = model.type || 'circle';\n        var comboAnimate = model.animate === undefined || cfg.animate === undefined ? (_b = (_a = shapeFactory[shapeType]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.animate : model.animate || cfg.animate;\n\n        if (comboAnimate) {\n          setTimeout(function () {\n            if (!item || item.destroyed) return;\n            var keyShape = item.getKeyShape();\n            if (!keyShape || keyShape.destroyed) return;\n            each(edges_1, function (edge) {\n              if (edge && !edge.destroyed) edge.refresh();\n            });\n          }, 201);\n        } else {\n          each(edges_1, function (edge) {\n            edge.refresh();\n          });\n        }\n      }\n    }\n\n    graph.emit('afterupdateitem', {\n      item: item,\n      cfg: cfg\n    });\n  };\n  /**\n   *  combo  combo \n   *\n   * @param {ICombo} combo ID  \n   * @returns\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.updateCombo = function (combo, children) {\n    var _this = this;\n\n    var _a, _b;\n\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    if (!combo || combo.destroyed) {\n      return;\n    }\n\n    var model = combo.getModel();\n    var comboBBox = getComboBBox(model.collapsed ? [] : children, graph);\n    combo.set('bbox', comboBBox);\n    combo.update({\n      x: comboBBox.x,\n      y: comboBBox.y\n    });\n    var shapeFactory = combo.get('shapeFactory');\n    var shapeType = model.type || 'circle';\n    var comboAnimate = model.animate === undefined ? (_b = (_a = shapeFactory[shapeType]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.animate : model.animate;\n\n    if (comboAnimate) {\n      setTimeout(function () {\n        if (!combo || combo.destroyed) return;\n        var keyShape = combo.getKeyShape();\n        if (!keyShape || keyShape.destroyed) return;\n        combo.getShapeCfg(model); //  combo  size\n\n        _this.updateComboEdges(combo);\n      }, 201);\n    } else {\n      this.updateComboEdges(combo);\n    }\n  };\n\n  ItemController.prototype.updateComboEdges = function (combo) {\n    var combEdges = combo.getEdges() || [];\n\n    for (var i = 0; i < combEdges.length; i++) {\n      var edge = combEdges[i];\n\n      if (edge && !edge.destroyed) {\n        var edgeSF = edge.get('shapeFactory');\n        var edgeCfg = edge.getShapeCfg(edge.getModel());\n        var edgeGroup = edge.getContainer();\n        edgeGroup.clear();\n        var keyShape = edgeSF.draw(edgeCfg.type, edgeCfg, edgeGroup);\n        edge.set('keyShape', keyShape);\n        keyShape.set('isKeyShape', true);\n        keyShape.set('draggable', true);\n        edge.setOriginStyle();\n      }\n    }\n  };\n  /**\n   *  combo\n   */\n\n\n  ItemController.prototype.collapseCombo = function (combo) {\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    var children = combo.getChildren();\n    children.nodes.forEach(function (node) {\n      graph.hideItem(node);\n    });\n    children.combos.forEach(function (c) {\n      graph.hideItem(c);\n    });\n  };\n  /**\n   *  combo\n   *  combo \n   */\n\n\n  ItemController.prototype.expandCombo = function (combo) {\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    var children = combo.getChildren();\n    children.nodes.forEach(function (node) {\n      graph.showItem(node);\n    });\n    children.combos.forEach(function (c) {\n      if (c.getModel().collapsed) {\n        c.show();\n      } else {\n        graph.showItem(c);\n      }\n    });\n  };\n  /**\n   * \n   *\n   * @param {Item} item item ID \n   * @returns {void}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.removeItem = function (item) {\n    var _this = this;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item || item.destroyed) {\n      return;\n    }\n\n    var itemModel = clone(item.getModel());\n    graph.emit('beforeremoveitem', {\n      item: itemModel\n    });\n    var type = '';\n    if (item.getType) type = item.getType();\n    var items = graph.get(type + \"s\");\n    var index = items.indexOf(item);\n    if (index > -1) items.splice(index, 1);\n\n    if (type === EDGE) {\n      var vitems = graph.get(\"v\" + type + \"s\");\n      var vindex = vitems.indexOf(item);\n      if (vindex > -1) vitems.splice(vindex, 1);\n    }\n\n    var itemId = item.get('id');\n    var itemMap = graph.get('itemMap');\n    delete itemMap[itemId];\n    var comboTrees = graph.get('comboTrees');\n    var id = item.get('id');\n\n    if (type === NODE) {\n      var comboId = item.getModel().comboId;\n\n      if (comboTrees && comboId) {\n        var brothers_1 = comboTrees;\n        var found_1 = false; // the flag to terminate the forEach circulation\n        // remove the node from the children array of its parent fromt he tree\n\n        comboTrees.forEach(function (ctree) {\n          if (found_1) return;\n          traverseTree(ctree, function (combo) {\n            if (combo.id === id && brothers_1) {\n              var bidx = brothers_1.indexOf(combo);\n              brothers_1.splice(bidx, 1);\n              found_1 = true;\n              return false; // terminate the traverse\n            }\n\n            brothers_1 = combo.children;\n            return true;\n          });\n        });\n      } // \n\n\n      var edges = item.getEdges();\n\n      for (var i = edges.length - 1; i >= 0; i--) {\n        graph.removeItem(edges[i], false);\n      }\n\n      if (comboId) graph.updateCombo(comboId);\n    } else if (type === COMBO) {\n      var parentId = item.getModel().parentId;\n      var comboInTree_1; // find the subtree rooted at the item to be removed\n\n      var found_2 = false; // the flag to terminate the forEach circulation\n\n      (comboTrees || []).forEach(function (ctree) {\n        if (found_2) return;\n        traverseTree(ctree, function (combo) {\n          if (combo.id === id) {\n            comboInTree_1 = combo;\n            found_2 = true;\n            return false; // terminate the traverse\n          }\n\n          return true;\n        });\n      });\n      comboInTree_1.removed = true;\n\n      if (comboInTree_1 && comboInTree_1.children) {\n        comboInTree_1.children.forEach(function (child) {\n          _this.removeItem(child.id);\n        });\n      } //  combo\n\n\n      var edges = item.getEdges();\n\n      for (var i = edges.length; i >= 0; i--) {\n        graph.removeItem(edges[i], false);\n      }\n\n      if (parentId) graph.updateCombo(parentId);\n    }\n\n    item.destroy();\n    graph.emit('afterremoveitem', {\n      item: itemModel\n    });\n  };\n  /**\n   *  item \n   *\n   * @param {Item} item Item \n   * @param {string} state \n   * @param {boolean} value \n   * @returns {void}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.setItemState = function (item, state, value) {\n    var graph = this.graph;\n    var stateName = state;\n\n    if (isString(value)) {\n      stateName = state + \":\" + value;\n    } //  state state  undefined\n\n\n    if (item.hasState(stateName) === value && value || //  true  false \n    isString(value) && item.hasState(stateName)) {\n      //  value \n      return;\n    }\n\n    graph.emit('beforeitemstatechange', {\n      item: item,\n      state: stateName,\n      enabled: value\n    });\n    item.setState(state, value);\n    graph.autoPaint();\n    graph.emit('afteritemstatechange', {\n      item: item,\n      state: stateName,\n      enabled: value\n    });\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param state \n   */\n\n\n  ItemController.prototype.priorityState = function (item, state) {\n    var graph = this.graph;\n    var currentItem = item;\n\n    if (isString(item)) {\n      currentItem = graph.findById(item);\n    } //  state\n\n\n    this.setItemState(currentItem, state, false); // state\n\n    this.setItemState(currentItem, state, true);\n  };\n  /**\n   * \n   *\n   * @param {Item} item Item \n   * @param {string[]} states \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.clearItemStates = function (item, states) {\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    graph.emit('beforeitemstatesclear', {\n      item: item,\n      states: states\n    });\n    item.clearStates(states);\n    graph.emit('afteritemstatesclear', {\n      item: item,\n      states: states\n    });\n  };\n  /**\n   *  Item\n   *\n   * @param {Item} item Item ID  \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.refreshItem = function (item) {\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    graph.emit('beforeitemrefresh', {\n      item: item\n    }); //  Item  refresh \n\n    item.refresh();\n    graph.emit('afteritemrefresh', {\n      item: item\n    });\n  };\n  /**\n   *  graph  combos  comboTree  combos\n   *\n   * @param {ComboTree[]} comboTrees graph  combos  comboTree\n   * @param {ComboConfig[]} comboModels combos \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.addCombos = function (comboTrees, comboModels) {\n    var _this = this;\n\n    var graph = this.graph;\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        var comboModel;\n        comboModels.forEach(function (model) {\n          if (model.id === child.id) {\n            model.children = child.children;\n            model.depth = child.depth;\n            comboModel = model;\n          }\n        });\n\n        if (comboModel) {\n          _this.addItem('combo', comboModel);\n        }\n\n        return true;\n      });\n    });\n    var comboGroup = graph.get('comboGroup');\n    if (comboGroup) comboGroup.sort();\n  };\n  /**\n   * Item\n   *\n   * @param {Item} item Item ID  \n   * @param {boolean} visible \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.changeItemVisibility = function (item, visible) {\n    var _this = this;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item) {\n      console.warn('The item to be shown or hidden does not exist!');\n      return;\n    }\n\n    graph.emit('beforeitemvisibilitychange', {\n      item: item,\n      visible: visible\n    });\n    item.changeVisibility(visible);\n\n    if (item.getType && item.getType() === NODE) {\n      var edges = item.getEdges();\n      each(edges, function (edge) {\n        // \n        // \n        if (visible && !(edge.get('source').isVisible() && edge.get('target').isVisible())) {\n          return;\n        }\n\n        _this.changeItemVisibility(edge, visible);\n      });\n    } else if (item.getType && item.getType() === COMBO) {\n      var comboTrees = graph.get('comboTrees');\n      var id_1 = item.get('id');\n      var children_1 = [];\n      var found_3 = false; // flag the terminate the forEach\n\n      (comboTrees || []).forEach(function (ctree) {\n        if (found_3) return;\n        if (!ctree.children || ctree.children.length === 0) return;\n        traverseTree(ctree, function (combo) {\n          if (combo.id === id_1) {\n            children_1 = combo.children;\n            found_3 = true;\n            return false; // terminate the traverse\n          }\n\n          return true;\n        });\n      });\n\n      if (children_1 && (!visible || visible && !item.getModel().collapsed)) {\n        children_1.forEach(function (child) {\n          var childItem = graph.findById(child.id);\n\n          _this.changeItemVisibility(childItem, visible);\n        });\n      }\n\n      var edges = item.getEdges();\n      each(edges, function (edge) {\n        //  combo combo \n        //  combo combo \n        if (visible && !(edge.get('source').isVisible() && edge.get('target').isVisible())) {\n          return;\n        }\n\n        _this.changeItemVisibility(edge, visible);\n      });\n    }\n\n    graph.emit('afteritemvisibilitychange', {\n      item: item,\n      visible: visible\n    });\n    return item;\n  };\n\n  ItemController.prototype.destroy = function () {\n    this.graph = null;\n    this.destroyed = true;\n  };\n\n  return ItemController;\n}();\n\nexport default ItemController;","import { each, isString } from '@antv/util';\nvar timer = null;\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(graph) {\n    this.graph = graph;\n    /**\n     * this.cachedStates = {\n     *    enabled: {\n     *        hover: [Node]\n     *    },\n     *     disabled: {}\n     *  }\n     */\n\n    this.cachedStates = {\n      enabled: {},\n      disabled: {}\n    };\n    this.destroyed = false;\n  }\n  /**\n   *  cache \n   *\n   * @private\n   * @param {Item} item\n   * @param {string} state\n   * @param {object} cache\n   * @returns\n   * @memberof State\n   */\n\n\n  StateController.checkCache = function (item, state, cache) {\n    if (!cache[state]) {\n      return;\n    }\n\n    var index = cache[state].indexOf(item);\n\n    if (index >= 0) {\n      cache[state].splice(index, 1);\n    }\n  };\n  /**\n   *  state\n   *\n   * @private\n   * @param {Item} item Item \n   * @param {string} state \n   * @param {object} states\n   * @memberof State\n   */\n\n\n  StateController.cacheState = function (item, state, states) {\n    if (!states[state]) {\n      states[state] = [];\n    }\n\n    states[state].push(item);\n  };\n  /**\n   *  Item \n   *\n   * @param {Item} item Item\n   * @param {string} state \n   * @param {boolean} enabled \n   * @memberof State\n   */\n\n\n  StateController.prototype.updateState = function (item, state, enabled) {\n    var _this = this;\n\n    var checkCache = StateController.checkCache,\n        cacheState = StateController.cacheState;\n\n    if (item.destroyed) {\n      return;\n    }\n\n    var cachedStates = this.cachedStates;\n    var enabledStates = cachedStates.enabled;\n    var disabledStates = cachedStates.disabled;\n\n    if (enabled) {\n      checkCache(item, state, disabledStates);\n      cacheState(item, state, enabledStates);\n    } else {\n      checkCache(item, state, enabledStates);\n      cacheState(item, state, disabledStates);\n    }\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      timer = null;\n\n      _this.updateGraphStates();\n    }, 16);\n  };\n  /**\n   *  states updateState state\n   *\n   * @param {Item} item\n   * @param {(string | string[])} states\n   * @param {boolean} enabled\n   * @memberof State\n   */\n\n\n  StateController.prototype.updateStates = function (item, states, enabled) {\n    var _this = this;\n\n    if (isString(states)) {\n      this.updateState(item, states, enabled);\n    } else {\n      states.forEach(function (state) {\n        _this.updateState(item, state, enabled);\n      });\n    }\n  };\n  /**\n   *  states\n   *\n   * @memberof State\n   */\n\n\n  StateController.prototype.updateGraphStates = function () {\n    var states = this.graph.get('states');\n    var cachedStates = this.cachedStates;\n    each(cachedStates.disabled, function (val, key) {\n      if (states[key]) {\n        states[key] = states[key].filter(function (item) {\n          return val.indexOf(item) < 0 && !val.destroyed;\n        });\n      }\n    });\n    each(cachedStates.enabled, function (val, key) {\n      if (!states[key]) {\n        states[key] = val;\n      } else {\n        var map_1 = {};\n        states[key].forEach(function (item) {\n          if (!item.destroyed) {\n            map_1[item.get('id')] = true;\n          }\n        });\n        val.forEach(function (item) {\n          if (!item.destroyed) {\n            var id = item.get('id');\n\n            if (!map_1[id]) {\n              map_1[id] = true;\n              states[key].push(item);\n            }\n          }\n        });\n      }\n    });\n    this.graph.emit('graphstatechange', {\n      states: states\n    });\n    this.cachedStates = {\n      enabled: {},\n      disabled: {}\n    };\n  };\n\n  StateController.prototype.destroy = function () {\n    this.graph = null;\n    this.cachedStates = null;\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = null;\n    this.destroyed = true;\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import { vec2 } from '@antv/matrix-util';\nimport { catmullRom2Bezier } from '@antv/path-util';\n/**\n * \n * @param {String} str \n * @param {Object} o json data\n */\n\nvar substitute = function substitute(str, o) {\n  if (!str || !o) {\n    return str;\n  }\n\n  return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.slice(1);\n    }\n\n    var res = o[name];\n    if (res === 0) res = '0';\n    return res || '';\n  });\n};\n/**\n *  M  C \n * @param points coordinate set\n */\n\n\nexport var getSpline = function getSpline(points) {\n  var data = [];\n\n  if (points.length < 2) {\n    throw new Error(\"point length must largn than 2, now it's \" + points.length);\n  }\n\n  for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n    var point = points_1[_i];\n    var x = point.x,\n        y = point.y;\n    data.push(x);\n    data.push(y);\n  }\n\n  var spliePath = catmullRom2Bezier(data);\n  spliePath.unshift(['M', points[0].x, points[0].y]);\n  return spliePath;\n};\n/**\n * \n * @param  {IPoint} startPoint  x,y\n * @param  {IPoint} endPoint  ,  x,y\n * @param  {Number} percent   , 0-1\n * @param  {Number} offset    \n * @return {IPoint}  x,y\n */\n\nexport var getControlPoint = function getControlPoint(startPoint, endPoint, percent, offset) {\n  if (percent === void 0) {\n    percent = 0;\n  }\n\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  var point = {\n    x: (1 - percent) * startPoint.x + percent * endPoint.x,\n    y: (1 - percent) * startPoint.y + percent * endPoint.y\n  };\n  var tangent = [0, 0];\n  vec2.normalize(tangent, [endPoint.x - startPoint.x, endPoint.y - startPoint.y]);\n\n  if (!tangent || !tangent[0] && !tangent[1]) {\n    tangent = [0, 0];\n  }\n\n  var perpendicular = [-tangent[1] * offset, tangent[0] * offset]; // \n\n  point.x += perpendicular[0];\n  point.y += perpendicular[1];\n  return point;\n};\n/**\n * Path\n * @param {Array} points \n * @param {Boolen} z \n * @return {Array} Path\n */\n\nexport var pointsToPolygon = function pointsToPolygon(points, z) {\n  var length = points.length;\n\n  if (!length) {\n    return '';\n  }\n\n  var path = '';\n  var str = '';\n\n  for (var i = 0; i < length; i++) {\n    var item = points[i];\n\n    if (i === 0) {\n      str = 'M{x} {y}';\n    } else {\n      str = 'L{x} {y}';\n    }\n\n    path += substitute(str, item);\n  }\n\n  if (z) {\n    path += 'Z';\n  }\n\n  return path;\n};\nexport var pathToPoints = function pathToPoints(path) {\n  var points = [];\n  path.forEach(function (seg) {\n    var command = seg[0];\n\n    if (command !== 'A') {\n      for (var i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      var length_1 = seg.length;\n      points.push([seg[length_1 - 2], seg[length_1 - 1]]);\n    }\n  });\n  return points;\n};\n/**\n * \n * @param points\n */\n\nexport var getClosedSpline = function getClosedSpline(points) {\n  if (points.length < 2) {\n    throw new Error(\"point length must largn than 2, now it's \" + points.length);\n  }\n\n  var first = points[0];\n  var second = points[1];\n  var last = points[points.length - 1];\n  var lastSecond = points[points.length - 2];\n  points.unshift(last);\n  points.unshift(lastSecond);\n  points.push(first);\n  points.push(second);\n  var closedPath = [];\n\n  for (var i = 1; i < points.length - 2; i += 1) {\n    var x0 = points[i - 1].x;\n    var y0 = points[i - 1].y;\n    var x1 = points[i].x;\n    var y1 = points[i].y;\n    var x2 = points[i + 1].x;\n    var y2 = points[i + 1].y;\n    var x3 = i !== points.length - 2 ? points[i + 2].x : x2;\n    var y3 = i !== points.length - 2 ? points[i + 2].y : y2;\n    var cp1x = x1 + (x2 - x0) / 6;\n    var cp1y = y1 + (y2 - y0) / 6;\n    var cp2x = x2 - (x3 - x1) / 6;\n    var cp2y = y2 - (y3 - y1) / 6;\n    closedPath.push(['C', cp1x, cp1y, cp2x, cp2y, x2, y2]);\n  }\n\n  closedPath.unshift(['M', last.x, last.y]);\n  return closedPath;\n};\n\nvar vecScaleTo = function vecScaleTo(v, length) {\n  // Vector with direction of v with specified length\n  return vec2.scale([0, 0], vec2.normalize([0, 0], v), length);\n};\n\nvar unitNormal = function unitNormal(p0, p1) {\n  // Returns the unit normal to the line segment from p0 to p1.\n  var n = [p0[1] - p1[1], p1[0] - p0[0]];\n  var nLength = Math.sqrt(n[0] * n[0] + n[1] * n[1]);\n\n  if (nLength === 0) {\n    throw new Error('p0 should not be equal to p1');\n  }\n\n  return [n[0] / nLength, n[1] / nLength];\n};\n\nvar vecFrom = function vecFrom(p0, p1) {\n  // Vector from p0 to p1\n  return [p1[0] - p0[0], p1[1] - p0[1]];\n};\n/**\n * \n * @param polyPoints \n * @param padding \n */\n\n\nexport function roundedHull(polyPoints, padding) {\n  // The rounded hull path around a single point\n  var roundedHull1 = function roundedHull1(points) {\n    var p1 = [points[0][0], points[0][1] - padding];\n    var p2 = [points[0][0], points[0][1] + padding];\n    return \"M \" + p1 + \" A \" + padding + \",\" + padding + \",0,0,0,\" + p2 + \" A \" + padding + \",\" + padding + \",0,0,0,\" + p1;\n  }; // The rounded hull path around two points\n\n\n  var roundedHull2 = function roundedHull2(points) {\n    var offsetVector = vec2.scale([0, 0], unitNormal(points[0], points[1]), padding);\n    var invOffsetVector = vec2.scale([0, 0], offsetVector, -1);\n    var p0 = vec2.add([0, 0], points[0], offsetVector);\n    var p1 = vec2.add([0, 0], points[1], offsetVector);\n    var p2 = vec2.add([0, 0], points[1], invOffsetVector);\n    var p3 = vec2.add([0, 0], points[0], invOffsetVector);\n    return \"M \" + p0 + \" L \" + p1 + \" A \" + [padding, padding, '0,0,0', p2].join(',') + \" L \" + p3 + \" A \" + [padding, padding, '0,0,0', p0].join(',');\n  }; // 2\n\n\n  if (!polyPoints || polyPoints.length < 1) return '';\n  if (polyPoints.length === 1) return roundedHull1(polyPoints);\n  if (polyPoints.length === 2) return roundedHull2(polyPoints);\n  var segments = new Array(polyPoints.length); // Calculate each offset (outwards) segment of the convex hull.\n\n  for (var segmentIndex = 0; segmentIndex < segments.length; ++segmentIndex) {\n    var p0 = segmentIndex === 0 ? polyPoints[polyPoints.length - 1] : polyPoints[segmentIndex - 1];\n    var p1 = polyPoints[segmentIndex]; // Compute the offset vector for the line segment, with length = padding.\n\n    var offset = vec2.scale([0, 0], unitNormal(p0, p1), padding);\n    segments[segmentIndex] = [vec2.add([0, 0], p0, offset), vec2.add([0, 0], p1, offset)];\n  }\n\n  var arcData = \"A \" + [padding, padding, '0,0,0,'].join(',');\n  segments = segments.map(function (segment, index) {\n    var pathFragment = '';\n\n    if (index === 0) {\n      pathFragment = \"M \" + segments[segments.length - 1][1] + \" \";\n    }\n\n    pathFragment += arcData + segment[0] + \" L \" + segment[1];\n    return pathFragment;\n  });\n  return segments.join(' ');\n}\n/**\n * \n * @param polyPoints\n * @param padding\n */\n\nexport function paddedHull(polyPoints, padding) {\n  var pointCount = polyPoints.length;\n\n  var smoothHull1 = function smoothHull1(points) {\n    // Returns the path for a circular hull around a single point.\n    var p1 = [points[0][0], points[0][1] - padding];\n    var p2 = [points[0][0], points[0][1] + padding];\n    return \"M \" + p1 + \" A \" + [padding, padding, '0,0,0', p2].join(',') + \" A \" + [padding, padding, '0,0,0', p1].join(',');\n  }; // Returns the path for a rounded hull around two points.\n\n\n  var smoothHull2 = function smoothHull2(points) {\n    var v = vecFrom(points[0], points[1]);\n    var extensionVec = vecScaleTo(v, padding);\n    var extension0 = vec2.add([0, 0], points[0], vec2.scale([0, 0], extensionVec, -1));\n    var extension1 = vec2.add([0, 0], points[1], extensionVec);\n    var tangentHalfLength = 1.2 * padding;\n    var controlDelta = vecScaleTo(vec2.normalize([0, 0], v), tangentHalfLength);\n    var invControlDelta = vec2.scale([0, 0], controlDelta, -1);\n    var control0 = vec2.add([0, 0], extension0, invControlDelta);\n    var control1 = vec2.add([0, 0], extension1, invControlDelta);\n    var control3 = vec2.add([0, 0], extension0, controlDelta); // return [\n    //   ['M', extension0[0], extension0[1]],\n    //   ['C', control0, control1, extension1],\n    //   ['S', control3, extension0],\n    //   'Z',\n    // ];\n\n    return \"M \" + extension0 + \" C \" + [control0, control1, extension1].join(',') + \" S \" + [control3, extension0].join(',') + \" Z\";\n  }; // Handle special cases\n\n\n  if (!polyPoints || pointCount < 1) return '';\n  if (pointCount === 1) return smoothHull1(polyPoints);\n  if (pointCount === 2) return smoothHull2(polyPoints);\n  var hullPoints = polyPoints.map(function (point, index) {\n    var pNext = polyPoints[(index + 1) % pointCount];\n    return {\n      p: point,\n      v: vec2.normalize([0, 0], vecFrom(point, pNext))\n    };\n  }); // Compute the expanded hull points, and the nearest prior control point for each.\n\n  for (var i = 0; i < hullPoints.length; ++i) {\n    var priorIndex = i > 0 ? i - 1 : pointCount - 1;\n    var extensionVec = vec2.normalize([0, 0], vec2.add([0, 0], hullPoints[priorIndex].v, vec2.scale([0, 0], hullPoints[i].v, -1)));\n    hullPoints[i].p = vec2.add([0, 0], hullPoints[i].p, vec2.scale([0, 0], extensionVec, padding));\n  }\n\n  return hullPoints.map(function (obj) {\n    var point = obj.p;\n    return {\n      x: point[0],\n      y: point[1]\n    };\n  });\n}","/**\n * Use cross product to judge the direction of the turn.\n * Returns a positive value, if OAB makes a clockwise turn,\n * negative for counter-clockwise turn, and zero if the points are collinear.\n */\nexport var cross = function cross(a, b, o) {\n  return (a.y - o.y) * (b.x - o.x) - (a.x - o.x) * (b.y - o.y);\n};\n/**\n * Generate a convex hull of given points. Andrew's monotone chain algorithm.\n * @param points An array of [x, y] representing the coordinates of points.\n * @return a list of vertices of the convex hull in counter-clockwise order,\n */\n\nexport var genConvexHull = function genConvexHull(items) {\n  var points = items.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  });\n  points.sort(function (a, b) {\n    return a.x === b.x ? a.y - b.y : a.x - b.x;\n  });\n\n  if (points.length === 1) {\n    return points;\n  } // build the lower hull\n\n\n  var lower = [];\n\n  for (var i = 0; i < points.length; i++) {\n    while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n      lower.pop();\n    }\n\n    lower.push(points[i]);\n  } // build the upper hull\n\n\n  var upper = [];\n\n  for (var i = points.length - 1; i >= 0; i--) {\n    while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[i]) <= 0) {\n      upper.pop();\n    }\n\n    upper.push(points[i]);\n  }\n\n  upper.pop();\n  lower.pop();\n  var strictHull = lower.concat(upper);\n  return strictHull;\n};","import { squareDist, pointLineSquareDist, itemIntersectByLine, getPointsCenter, fractionToLine, isPointsOverlap, pointRectSquareDist, Line, isPointInPolygon } from '../../util/math';\nvar defaultOps = {\n  maxRoutingIterations: 100,\n  maxMarchingIterations: 100,\n  pixelGroupSize: 2,\n  edgeR0: 10,\n  edgeR1: 10,\n  nodeR0: 5,\n  nodeR1: 10,\n  morphBuffer: 5,\n  threshold: 0.001,\n  skip: 16,\n  nodeInfluenceFactor: 1,\n  edgeInfluenceFactor: 1,\n  negativeNodeInfluenceFactor: -0.5\n};\n/**\n * Marching square algorithm for traching the contour of a pixel group\n * https://www.emanueleferonato.com/2013/03/01/using-marching-squares-algorithm-to-trace-the-contour-of-an-image/\n * @param potentialArea\n * @param threshold\n */\n\nfunction MarchingSquares(contour, potentialArea, threshold) {\n  var marched = false;\n\n  var getVal = function getVal(x, y) {\n    return potentialArea.cells[x + y * potentialArea.width];\n  };\n\n  var getState = function getState(x, y) {\n    var squareVal = 0;\n\n    if (getVal(x - 1, y - 1) >= threshold) {\n      squareVal += 1;\n    }\n\n    if (getVal(x, y - 1) > threshold) {\n      squareVal += 2;\n    }\n\n    if (getVal(x - 1, y) > threshold) {\n      squareVal += 4;\n    }\n\n    if (getVal(x, y) > threshold) {\n      squareVal += 8;\n    }\n\n    return squareVal;\n  };\n\n  var doMarch = function doMarch(xPos, yPos) {\n    var x = xPos;\n    var y = yPos;\n    var prevX;\n    var prevY;\n\n    for (var i = 0; i < potentialArea.width * potentialArea.height; i++) {\n      prevX = x;\n      prevY = y;\n\n      if (contour.findIndex(function (item) {\n        return item.x === x && item.y === y;\n      }) > -1) {\n        if (contour[0].x !== x || contour[0].y !== y) {// encountered a loop but haven't returned to start: change direction using conditionals and continue back to start\n        } else {\n          return true;\n        }\n      } else {\n        contour.push({\n          x: x,\n          y: y\n        });\n      }\n\n      var state = getState(x, y); // assign the move direction according to state of the square\n\n      switch (state) {\n        case -1:\n          console.warn('Marched out of bounds');\n          return true;\n\n        case 0:\n        case 3:\n        case 2:\n        case 7:\n          x++; // go right\n\n          break;\n\n        case 12:\n        case 14:\n        case 4:\n          x--; // go left\n\n          break;\n\n        case 6:\n          // go left if come from up else go right\n          if (prevX === 0) {\n            if (prevY === -1) {\n              x -= 1;\n            } else {\n              x += 1;\n            }\n          }\n\n          break;\n\n        case 1:\n        case 13:\n        case 5:\n          y--; // go up\n\n          break;\n\n        case 9:\n          // go up if come from right else go down\n          if (prevX === 1) {\n            if (prevY === 0) {\n              y -= 1;\n            } else {\n              y += 1;\n            }\n          }\n\n          break;\n\n        case 10:\n        case 8:\n        case 11:\n          y++; // go down\n\n          break;\n\n        default:\n          console.warn(\"Marching squares invalid state: \" + state);\n          return true;\n      }\n    }\n  };\n\n  this.march = function () {\n    for (var x = 0; x < potentialArea.width && !marched; x += 1) {\n      for (var y = 0; y < potentialArea.height && !marched; y += 1) {\n        if (getVal(x, y) > threshold && getState(x, y) !== 15) {\n          marched = doMarch(x, y);\n        }\n      }\n    }\n\n    return marched;\n  };\n}\n/**\n * Space partition & assign value to each cell\n * @param points\n */\n\n\nvar initGridCells = function initGridCells(width, height, pixelGroupSize) {\n  var scaleWidth = Math.ceil(width / pixelGroupSize);\n  var scaleHeight = Math.ceil(height / pixelGroupSize);\n  var gridCells = new Float32Array(Math.max(0, scaleWidth * scaleHeight)).fill(0);\n  return {\n    cells: gridCells,\n    width: scaleWidth,\n    height: scaleHeight\n  };\n};\n/**\n * Find the optimal already visited member to item;\n   Optimal: minimize cost(j) = distance(i,j)  countObstacles(i,j)\n * @param item\n * @param visited\n */\n\n\nvar pickBestNeighbor = function pickBestNeighbor(item, visited, nonMembers) {\n  var closestNeighbour = null;\n  var minCost = Number.POSITIVE_INFINITY;\n  visited.forEach(function (neighbourItem) {\n    var itemP = {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n    var neighbourItemP = {\n      x: neighbourItem.getModel().x,\n      y: neighbourItem.getModel().y\n    };\n    var dist = squareDist(itemP, neighbourItemP);\n    var directLine = new Line(itemP.x, itemP.y, neighbourItemP.x, neighbourItemP.y);\n    var numberObstacles = nonMembers.reduce(function (count, _item) {\n      if (fractionToLine(_item, directLine) > 0) {\n        return count + 1;\n      }\n\n      return count;\n    }, 0);\n\n    if (dist * Math.pow(numberObstacles + 1, 2) < minCost) {\n      closestNeighbour = neighbourItem;\n      minCost = dist * Math.pow(numberObstacles + 1, 2);\n    }\n  });\n  return closestNeighbour;\n};\n/**\n * itemitem\n * @param items\n * @param line\n */\n\n\nvar getIntersectItem = function getIntersectItem(items, line) {\n  var minDistance = Number.POSITIVE_INFINITY;\n  var closestItem = null;\n  items.forEach(function (item) {\n    var distance = fractionToLine(item, line); // find closest intersection\n\n    if (distance >= 0 && distance < minDistance) {\n      closestItem = item;\n      minDistance = distance;\n    }\n  });\n  return closestItem;\n};\n/**\n * Modify the directLine and Route virtual edges around obstacles\n */\n\n\nvar computeRoute = function computeRoute(directLine, nonMembers, maxRoutingIterations, morphBuffer) {\n  var checkedLines = [];\n  var linesToCheck = [];\n  linesToCheck.push(directLine);\n  var hasIntersection = true;\n  var iterations = 0;\n\n  var pointExists = function pointExists(point, lines) {\n    var flag = false;\n    lines.forEach(function (line) {\n      if (flag) return;\n\n      if (isPointsOverlap(point, {\n        x: line.x1,\n        y: line.y1\n      }) || isPointsOverlap(point, {\n        x: line.x2,\n        y: line.y2\n      })) {\n        flag = true;\n      }\n    });\n    return flag;\n  };\n\n  var isPointInNonMembers = function isPointInNonMembers(point, _nonMembers) {\n    for (var _i = 0, _nonMembers_1 = _nonMembers; _i < _nonMembers_1.length; _i++) {\n      var item = _nonMembers_1[_i];\n      var bbox = item.getBBox();\n      var itemContour = [[bbox.x, bbox.y], [bbox.x + bbox.width, bbox.y], [bbox.x, bbox.y + bbox.height], [bbox.x + bbox.width, bbox.y + bbox.height]];\n\n      if (isPointInPolygon(itemContour, point.x, point.y)) {\n        return true;\n      }\n    }\n\n    return false;\n  }; // outer loop end when no more intersections or out of iterations\n\n\n  while (hasIntersection && iterations < maxRoutingIterations) {\n    hasIntersection = false;\n\n    var _loop_1 = function _loop_1() {\n      var line = linesToCheck.pop();\n      var closestItem = getIntersectItem(nonMembers, line);\n\n      if (closestItem) {\n        var _a = itemIntersectByLine(closestItem, line),\n            intersections_1 = _a[0],\n            countIntersections = _a[1]; // if line passes through item\n\n\n        if (countIntersections === 2) {\n          var testReroute = function testReroute(isFirst) {\n            var tempMorphBuffer = morphBuffer;\n            var virtualNode = rerouteLine(closestItem, tempMorphBuffer, intersections_1, isFirst); // test the virtualNode already exists\n\n            var exist = pointExists(virtualNode, linesToCheck) || pointExists(virtualNode, checkedLines);\n            var pointInside = isPointInNonMembers(virtualNode, nonMembers);\n\n            while (!exist && pointInside && tempMorphBuffer >= 1) {\n              // try a smaller buffer\n              tempMorphBuffer /= 1.5;\n              virtualNode = rerouteLine(closestItem, tempMorphBuffer, intersections_1, isFirst);\n              exist = pointExists(virtualNode, linesToCheck) || pointExists(virtualNode, checkedLines);\n              pointInside = isPointInNonMembers(virtualNode, nonMembers);\n            } // routepointInside\n\n\n            if (virtualNode && !exist && (!isFirst || !pointInside)) {\n              // add 2 rerouted lines to check\n              linesToCheck.push(new Line(line.x1, line.y1, virtualNode.x, virtualNode.y));\n              linesToCheck.push(new Line(virtualNode.x, virtualNode.y, line.x2, line.y2));\n              hasIntersection = true;\n            }\n          };\n\n          testReroute(true);\n\n          if (!hasIntersection) {\n            // if we didn't find a valid point around the first corner, try the second\n            testReroute(false);\n          }\n        }\n      } // no intersection found, mark this line as completed\n\n\n      if (!hasIntersection) {\n        checkedLines.push(line);\n      }\n\n      iterations += 1;\n    }; // inner loop end when out of lines or found an intersection\n\n\n    while (!hasIntersection && linesToCheck.length) {\n      _loop_1();\n    }\n  } // \n\n\n  while (linesToCheck.length) {\n    checkedLines.push(linesToCheck.pop());\n  }\n\n  return checkedLines;\n};\n/**\n *  Connect item with visited members using direct line or virtual edges\n */\n\n\nfunction getRoute(item, nonMembers, visited, maxRoutingIterations, morphBuffer) {\n  var optimalNeighbor = pickBestNeighbor(item, visited, nonMembers);\n\n  if (optimalNeighbor === null) {\n    return [];\n  } //  merge the consecutive lines\n\n\n  var mergeLines = function mergeLines(checkedLines) {\n    var finalRoute = [];\n\n    while (checkedLines.length > 0) {\n      var line1 = checkedLines.pop();\n\n      if (checkedLines.length === 0) {\n        finalRoute.push(line1);\n        break;\n      }\n\n      var line2 = checkedLines.pop();\n      var mergeLine = new Line(line1.x1, line1.y1, line2.x2, line2.y2);\n      var closestItem = getIntersectItem(nonMembers, mergeLine); // merge most recent line and previous line\n\n      if (!closestItem) {\n        checkedLines.push(mergeLine);\n      } else {\n        finalRoute.push(line1);\n        checkedLines.push(line2);\n      }\n    }\n\n    return finalRoute;\n  };\n\n  var directLine = new Line(item.getModel().x, item.getModel().y, optimalNeighbor.getModel().x, optimalNeighbor.getModel().y);\n  var checkedLines = computeRoute(directLine, nonMembers, maxRoutingIterations, morphBuffer);\n  var finalRoute = mergeLines(checkedLines);\n  return finalRoute;\n}\n/**\n * Calculate the countor that includes the  selected items and exclues the non-selected items\n * @param graph\n * @param members\n * @param nonMembers\n * @param options\n */\n\n\nexport var genBubbleSet = function genBubbleSet(members, nonMembers, ops) {\n  // eslint-disable-next-line no-redeclare\n  var options = Object.assign(defaultOps, ops);\n  var centroid = getPointsCenter(members.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  })); // \n\n  members = members.sort(function (a, b) {\n    return squareDist({\n      x: a.getModel().x,\n      y: a.getModel().y\n    }, centroid) - squareDist({\n      x: b.getModel().x,\n      y: b.getModel().y\n    }, centroid);\n  });\n  var visited = [];\n  var virtualEdges = [];\n  members.forEach(function (item) {\n    var lines = getRoute(item, nonMembers, visited, options.maxRoutingIterations, options.morphBuffer);\n    lines.forEach(function (l) {\n      virtualEdges.push(l);\n    });\n    visited.push(item);\n  }); // edgemembernonMemberedgesgenBubbleSet\n  // edges && edges.forEach(e => {\n  //   virtualEdges.push(new Line(e.getSource().getModel().x, e.getSource().getModel().y, e.getTarget().getModel().x, e.getTarget().getModel().y));\n  // });\n\n  var activeRegion = getActiveRregion(members, virtualEdges, options.nodeR0);\n  var potentialArea = initGridCells(activeRegion.width, activeRegion.height, options.pixelGroupSize); // Use march squares to generate contour\n\n  var contour = [];\n  var hull = [];\n\n  for (var iterations = 0; iterations < options.maxMarchingIterations; iterations++) {\n    fillPotentialArea(members, nonMembers, virtualEdges, activeRegion, potentialArea, options);\n    contour = [];\n    hull = [];\n    if (!new MarchingSquares(contour, potentialArea, options.threshold).march()) continue;\n    var marchedPath = contour.map(function (point) {\n      return {\n        x: Math.round(point.x * options.pixelGroupSize + activeRegion.minX),\n        y: Math.round(point.y * options.pixelGroupSize + activeRegion.minY)\n      };\n    }); // const marchedPath = marchingSquares(potentialArea, options.threshold).map(point => ({ x: Math.round(point.x * options.pixelGroupSize + activeRegion.minX), y: Math.round(point.y * options.pixelGroupSize + activeRegion.minY) }))\n\n    if (marchedPath) {\n      var size = marchedPath.length;\n\n      if (options.skip > 1) {\n        size = Math.floor(marchedPath.length / options.skip); // if we reduced too much (fewer than three points in reduced surface) reduce skip and try again\n\n        while (size < 3 && options.skip > 1) {\n          options.skip -= 1;\n          size = Math.floor(marchedPath.length / options.skip);\n        }\n      } // copy hull values\n\n\n      for (var i = 0, j = 0; j < size; j += 1, i += options.skip) {\n        hull.push({\n          x: marchedPath[i].x,\n          y: marchedPath[i].y\n        });\n      }\n    }\n\n    var isContourValid = function isContourValid() {\n      for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {\n        var item = members_1[_i];\n        var hullPoints = hull.map(function (point) {\n          return [point.x, point.y];\n        });\n        if (!isPointInPolygon(hullPoints, item.getBBox().centerX, item.getBBox().centerY)) return false;\n      } // nonMembers\n      // for (const item of nonMembers) {\n      //   if (isPointInPolygon({ x: item.getBBox().centerX, y: item.getBBox().centerY }, contour)) return false\n      // }\n\n\n      return true;\n    };\n\n    if (hull && isContourValid()) {\n      return hull;\n    } // update parameters for next iteraction\n\n\n    options.threshold *= 0.9;\n\n    if (iterations <= options.maxMarchingIterations * 0.5) {\n      options.memberInfluenceFactor *= 1.2;\n      options.edgeInfluenceFactor *= 1.2;\n    } else if (options.nonMemberInfluenceFactor !== 0 && nonMembers.length > 0) {\n      // after half the iterations, start increasing positive energy and lowering the threshold\n      options.nonMemberInfluenceFactor *= 0.8;\n    } else {\n      break;\n    }\n  }\n\n  return hull;\n};\n/**\n * unionboundingbox\n * @param members\n * @param edges\n */\n\nfunction getActiveRregion(members, edges, offset) {\n  var activeRegion = {\n    minX: Number.POSITIVE_INFINITY,\n    minY: Number.POSITIVE_INFINITY,\n    maxX: Number.NEGATIVE_INFINITY,\n    maxY: Number.NEGATIVE_INFINITY,\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0\n  };\n  var bboxes = [];\n  members.forEach(function (item) {\n    bboxes.push(item.getBBox());\n  });\n  edges.forEach(function (l) {\n    bboxes.push(l.getBBox());\n  });\n\n  for (var _i = 0, bboxes_1 = bboxes; _i < bboxes_1.length; _i++) {\n    var bbox = bboxes_1[_i];\n    activeRegion.minX = (bbox.minX < activeRegion.minX ? bbox.minX : activeRegion.minX) - offset;\n    activeRegion.minY = (bbox.minY < activeRegion.minY ? bbox.minY : activeRegion.minY) - offset;\n    activeRegion.maxX = (bbox.maxX > activeRegion.maxX ? bbox.maxX : activeRegion.maxX) + offset;\n    activeRegion.maxY = (bbox.maxY > activeRegion.maxY ? bbox.maxY : activeRegion.maxY) + offset;\n  }\n\n  activeRegion.width = activeRegion.maxX - activeRegion.minX;\n  activeRegion.height = activeRegion.maxY - activeRegion.minY;\n  activeRegion.x = activeRegion.minX;\n  activeRegion.y = activeRegion.minY;\n  return activeRegion;\n}\n\nfunction fillPotentialArea(members, nonMembers, edges, activeRegion, potentialArea, options) {\n  function pos2GridIx(x, offset) {\n    var gridIx = Math.floor((x - offset) / options.pixelGroupSize);\n    return gridIx < 0 ? 0 : gridIx;\n  }\n\n  function gridIx2Pos(x, offset) {\n    return x * options.pixelGroupSize + offset;\n  } // using inverse a for numerical stability\n\n\n  var nodeInfA = (options.nodeR0 - options.nodeR1) * (options.nodeR0 - options.nodeR1);\n  var edgeInfA = (options.edgeR0 - options.edgeR1) * (options.edgeR0 - options.edgeR1);\n\n  var getAffectedRegion = function getAffectedRegion(bbox, thresholdR) {\n    var startX = Math.min(pos2GridIx(bbox.minX, thresholdR + activeRegion.minX), potentialArea.width);\n    var startY = Math.min(pos2GridIx(bbox.minY, thresholdR + activeRegion.minY), potentialArea.height);\n    var endX = Math.min(pos2GridIx(bbox.maxX, -thresholdR + activeRegion.minX), potentialArea.width);\n    var endY = Math.min(pos2GridIx(bbox.maxY, -thresholdR + activeRegion.minY), potentialArea.height);\n    return [startX, startY, endX, endY];\n  };\n\n  var addItemInfluence = function addItemInfluence(item, influenceFactor) {\n    var bbox = item.getBBox();\n\n    var _a = getAffectedRegion(bbox, options.nodeR1),\n        startX = _a[0],\n        startY = _a[1],\n        endX = _a[2],\n        endY = _a[3]; // calculate item influence for each cell\n\n\n    for (var y = startY; y < endY; y += 1) {\n      for (var x = startX; x < endX; x += 1) {\n        if (influenceFactor < 0 && potentialArea[x + y * potentialArea.width] <= 0) {\n          continue;\n        }\n\n        var tempX = gridIx2Pos(x, activeRegion.minX);\n        var tempY = gridIx2Pos(y, activeRegion.minY);\n        var distanceSq = pointRectSquareDist({\n          x: tempX,\n          y: tempY\n        }, {\n          x: bbox.minX,\n          y: bbox.minY,\n          width: bbox.width,\n          height: bbox.height\n        });\n\n        if (distanceSq < Math.pow(options.nodeR1, 2)) {\n          var dr = Math.sqrt(distanceSq) - options.nodeR1;\n          potentialArea.cells[x + y * potentialArea.width] += influenceFactor * dr * dr;\n        }\n      }\n    }\n  };\n\n  var addEdgeInfluence = function addEdgeInfluence(line, influenceFactor) {\n    var bbox = line.getBBox();\n\n    var _a = getAffectedRegion(bbox, options.edgeR1),\n        startX = _a[0],\n        startY = _a[1],\n        endX = _a[2],\n        endY = _a[3]; // for every point in active part of potentialArea, calculate distance to nearest point on line and add influence\n\n\n    for (var y = startY; y < endY; y += 1) {\n      for (var x = startX; x < endX; x += 1) {\n        if (influenceFactor < 0 && potentialArea.cells[x + y * potentialArea.width] <= 0) {\n          continue;\n        }\n\n        var tempX = gridIx2Pos(x, activeRegion.minX);\n        var tempY = gridIx2Pos(y, activeRegion.minY);\n        var minDistanceSq = pointLineSquareDist({\n          x: tempX,\n          y: tempY\n        }, line); // only influence if less than r1\n\n        if (minDistanceSq < Math.pow(options.edgeR1, 2)) {\n          var mdr = Math.sqrt(minDistanceSq) - options.edgeR1;\n          potentialArea.cells[x + y * potentialArea.width] += influenceFactor * mdr * mdr;\n        }\n      }\n    }\n  };\n\n  if (options.nodeInfluenceFactor) {\n    members.forEach(function (item) {\n      addItemInfluence(item, options.nodeInfluenceFactor / nodeInfA);\n    });\n  }\n\n  if (options.edgeInfluenceFactor) {\n    edges.forEach(function (edge) {\n      addEdgeInfluence(edge, options.edgeInfluenceFactor / edgeInfA);\n    });\n  }\n\n  if (options.negativeNodeInfluenceFactor) {\n    nonMembers.forEach(function (item) {\n      addItemInfluence(item, options.negativeNodeInfluenceFactor / nodeInfA);\n    });\n  }\n}\n\nfunction rerouteLine(item, buffer, intersections, wrapNormal) {\n  var bbox = item.getBBox();\n  var topIntersect = intersections[0],\n      leftIntersect = intersections[1],\n      bottomIntersect = intersections[2],\n      rightIntersect = intersections[3];\n  var cornerPos = {\n    topLeft: {\n      x: bbox.minX - buffer,\n      y: bbox.minY - buffer\n    },\n    topRight: {\n      x: bbox.maxX + buffer,\n      y: bbox.minY - buffer\n    },\n    bottomLeft: {\n      x: bbox.minX - buffer,\n      y: bbox.maxY + buffer\n    },\n    bottomRight: {\n      x: bbox.maxX + buffer,\n      y: bbox.maxY + buffer\n    }\n  };\n  var totalArea = bbox.height * bbox.width;\n\n  function calcHalfArea(intersect1, intersect2) {\n    return bbox.width * ((intersect1.y - bbox.minY + (intersect2.y - bbox.minY)) * 0.5);\n  } // boundingboxcontrol point\n\n\n  if (leftIntersect) {\n    // \n    if (topIntersect) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n    if (bottomIntersect) return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight; // \n\n    var topArea = calcHalfArea(leftIntersect, rightIntersect);\n\n    if (topArea < totalArea * 0.5) {\n      if (leftIntersect.y > rightIntersect.y) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n      return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n    }\n\n    if (leftIntersect.y < rightIntersect.y) return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight;\n    return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n  }\n\n  if (rightIntersect) {\n    if (topIntersect) return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n    if (bottomIntersect) return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n  } // \n\n\n  var leftArea = calcHalfArea(topIntersect, bottomIntersect);\n\n  if (leftArea < totalArea * 0.5) {\n    if (topIntersect.x > bottomIntersect.x) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n    return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight;\n  }\n\n  if (topIntersect.x < bottomIntersect.x) return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n  return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n}","import { __assign } from \"tslib\";\nimport { deepMix, isString } from '@antv/util';\nimport { parsePathString } from '@antv/path-util';\nimport { pathToPoints, getClosedSpline, roundedHull, paddedHull } from '../util/path';\nimport { isPolygonsIntersect } from '../util/math';\nimport { genConvexHull } from '../element/hull/convexHull';\nimport { genBubbleSet } from '../element/hull/bubbleset';\n/**\n * \n * convex hull()http://geomalgorithms.com/a10-_hull-1.html#Monotone%20Chain\n * bubble:  bubblesetrefer: http://vialab.science.uoit.ca/wp-content/papercite-data/pdf/col2009c.pdf\n *  padding \n */\n\nvar Hull =\n/** @class */\nfunction () {\n  function Hull(graph, cfg) {\n    this.cfg = deepMix(this.getDefaultCfg(), cfg);\n    this.graph = graph;\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n    this.members = this.cfg.members.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.nonMembers = this.cfg.nonMembers.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  }\n\n  Hull.prototype.getDefaultCfg = function () {\n    return {\n      id: 'g6-hull',\n      type: 'round-convex',\n      members: [],\n      nonMembers: [],\n      style: {\n        fill: 'lightblue',\n        stroke: 'blue',\n        opacity: 0.2\n      },\n      padding: 10\n    };\n  };\n\n  Hull.prototype.setPadding = function () {\n    var nodeSize = this.members.length && this.members[0].getKeyShape().getCanvasBBox().width / 2;\n    this.padding = this.cfg.padding > 0 ? this.cfg.padding + nodeSize : 10 + nodeSize;\n    this.cfg.bubbleCfg = {\n      nodeR0: this.padding - nodeSize,\n      nodeR1: this.padding - nodeSize,\n      morphBuffer: this.padding - nodeSize\n    };\n  };\n\n  Hull.prototype.setType = function () {\n    this.type = this.cfg.type;\n\n    if (this.members.length < 3) {\n      this.type = 'round-convex';\n    }\n\n    if (this.type !== 'round-convex' && this.type !== 'smooth-convex' && this.type !== 'bubble') {\n      console.warn('The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.');\n      this.type = 'round-convex';\n    }\n  };\n\n  Hull.prototype.calcPath = function (members, nonMembers) {\n    var contour, path, hull;\n\n    switch (this.type) {\n      case 'round-convex':\n        contour = genConvexHull(members);\n        hull = roundedHull(contour.map(function (p) {\n          return [p.x, p.y];\n        }), this.padding);\n        path = parsePathString(hull);\n        break;\n\n      case 'smooth-convex':\n        contour = genConvexHull(members);\n\n        if (contour.length === 2) {\n          hull = roundedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = parsePathString(hull);\n        } else if (contour.length > 2) {\n          hull = paddedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = getClosedSpline(hull);\n        }\n\n        break;\n\n      case 'bubble':\n        contour = genBubbleSet(members, nonMembers, this.cfg.bubbleCfg);\n        path = contour.length >= 2 && getClosedSpline(contour);\n        break;\n\n      default:\n    }\n\n    return path;\n  };\n\n  Hull.prototype.render = function () {\n    this.group.addShape('path', {\n      attrs: __assign({\n        path: this.path\n      }, this.cfg.style),\n      id: this.id,\n      name: this.cfg.id\n    });\n    this.group.toBack();\n  };\n  /**\n   * hullnonMembersnonMembers\n   * @param item \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.addMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.members.push(item);\n    var index = this.nonMembers.indexOf(item);\n\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n    }\n\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * hullmembersmembers\n   * @param item \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.addNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.nonMembers.push(item);\n    var index = this.members.indexOf(item);\n\n    if (index > -1) {\n      this.members.splice(index, 1);\n    }\n\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * hull\n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.removeMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.members.indexOf(item);\n\n    if (index > -1) {\n      this.members.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.removeNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.nonMembers.indexOf(item);\n\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n\n    return false;\n  };\n\n  Hull.prototype.updateData = function (members, nonMembers) {\n    var _this = this;\n\n    this.group.findById(this.id).remove();\n    if (members) this.members = members.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    if (nonMembers) this.nonMembers = nonMembers.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n\n  Hull.prototype.updateStyle = function (cfg) {\n    var path = this.group.findById(this.id);\n    path.attr(__assign({}, cfg));\n  };\n  /**\n   *  hull\n   * @param cfg hull \n   */\n\n\n  Hull.prototype.updateCfg = function (cfg) {\n    var _this = this;\n\n    this.cfg = deepMix(this.cfg, cfg);\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n\n    if (cfg.members) {\n      this.members = this.cfg.members.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    }\n\n    if (cfg.nonMembers) {\n      this.nonMembers = this.cfg.nonMembers.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    } // TODO padding  contain \n\n\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n  /**\n   * hull\n   * @param item\n   */\n\n\n  Hull.prototype.contain = function (item) {\n    var _this = this;\n\n    var nodeItem;\n\n    if (isString(item)) {\n      nodeItem = this.graph.findById(item);\n    } else {\n      nodeItem = item;\n    }\n\n    var shapePoints;\n    var shape = nodeItem.getKeyShape();\n\n    if (nodeItem.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      var shapeBBox = shape.getCanvasBBox();\n      shapePoints = [[shapeBBox.minX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.maxY], [shapeBBox.minX, shapeBBox.maxY]];\n    }\n\n    shapePoints = shapePoints.map(function (canvasPoint) {\n      var point = _this.graph.getPointByCanvas(canvasPoint[0], canvasPoint[1]);\n\n      return [point.x, point.y];\n    });\n    return isPolygonsIntersect(shapePoints, pathToPoints(this.path));\n  };\n\n  Hull.prototype.destroy = function () {\n    this.group.remove();\n    this.cfg = null;\n  };\n\n  return Hull;\n}();\n\nexport default Hull;","import { __assign, __extends, __spreadArray } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport { requestAnimationFrame, clearAnimationFrame } from '@antv/g-mobile/esm/util/time';\nimport { ext } from '@antv/matrix-util';\nimport { clone, deepMix, each, isPlainObject, isString } from '@antv/util';\nimport { getDegree, getAdjMatrix as getAdjacentMatrix, Stack, floydWarshall } from '@antv/algorithm';\nimport { move } from '../util/math';\nimport { dataValidation, singleDataValidation } from '../util/validation';\nimport Global from '../global';\nimport { ItemController, ModeController, StateController, ViewController } from './controller';\nimport { plainCombosToTrees, traverseTree, reconstructTree, traverseTreeUp } from '../util/graphic';\nimport Hull from '../item/hull';\nvar transform = ext.transform;\nvar NODE = 'node';\n\nvar AbstractGraph =\n/** @class */\nfunction (_super) {\n  __extends(AbstractGraph, _super);\n\n  function AbstractGraph(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = deepMix(_this.getDefaultCfg(), cfg);\n\n    _this.init();\n\n    _this.animating = false;\n    _this.destroyed = false; //  stack  undoStack  redoStack\n\n    if (_this.cfg.enabledStack) {\n      //  undo  redo \n      _this.undoStack = new Stack(_this.cfg.maxStep);\n      _this.redoStack = new Stack(_this.cfg.maxStep);\n    }\n\n    return _this;\n  }\n\n  AbstractGraph.prototype.init = function () {\n    this.initCanvas(); // instance controller\n\n    var viewController = new ViewController(this);\n    var modeController = new ModeController(this);\n    var itemController = new ItemController(this);\n    var stateController = new StateController(this);\n    this.set({\n      viewController: viewController,\n      modeController: modeController,\n      itemController: itemController,\n      stateController: stateController\n    }); // \n\n    this.initLayoutController(); // \n\n    this.initEventController();\n    this.initGroups();\n    /**  */\n\n    this.initPlugins();\n    this.timeIndex = requestAnimationFrame(this.onTick.bind(this));\n  }; //  Group\n\n\n  AbstractGraph.prototype.initGroups = function () {\n    var canvas = this.get('canvas');\n    var el = this.get('canvas').get('el');\n    var id = el.id;\n    var group = canvas.addGroup({\n      id: id + \"-root\",\n      className: Global.rootContainerClassName\n    });\n\n    if (this.get('groupByTypes')) {\n      var edgeGroup = group.addGroup({\n        id: id + \"-edge\",\n        className: Global.edgeContainerClassName\n      });\n      var nodeGroup = group.addGroup({\n        id: id + \"-node\",\n        className: Global.nodeContainerClassName\n      });\n      var comboGroup = group.addGroup({\n        id: id + \"-combo\",\n        className: Global.comboContainerClassName\n      }); // \n\n      comboGroup.toBack();\n      this.set({\n        nodeGroup: nodeGroup,\n        edgeGroup: edgeGroup,\n        comboGroup: comboGroup\n      });\n    }\n\n    var delegateGroup = group.addGroup({\n      id: id + \"-delegate\",\n      className: Global.delegateContainerClassName\n    });\n    this.set({\n      delegateGroup: delegateGroup\n    });\n    this.set('group', group);\n  }; // eslint-disable-next-line class-methods-use-this\n\n\n  AbstractGraph.prototype.getDefaultCfg = function () {\n    return {\n      /**\n       * Container could be dom object or dom id\n       */\n      container: undefined,\n\n      /**\n       * Canvas width\n       * unit pixel if undefined force fit width\n       */\n      width: undefined,\n\n      /**\n       * Canvas height\n       * unit pixel if undefined force fit height\n       */\n      height: undefined,\n\n      /**\n       * renderer canvas or svg\n       * @type {string}\n       */\n      renderer: 'canvas',\n\n      /**\n       * control graph behaviors\n       */\n      modes: {},\n\n      /**\n       * \n       */\n      plugins: [],\n\n      /**\n       * source data\n       */\n      data: {},\n\n      /**\n       * Fit view padding (client scale)\n       */\n      fitViewPadding: 10,\n\n      /**\n       * Minimum scale size\n       */\n      minZoom: 0.2,\n\n      /**\n       * Maxmum scale size\n       */\n      maxZoom: 10,\n\n      /**\n       *  capture events\n       */\n      event: true,\n\n      /**\n       * group node & edges into different graphic groups\n       */\n      groupByTypes: true,\n\n      /**\n       * determine if it's a directed graph\n       */\n      directed: false,\n\n      /**\n       * when data or shape changed, should canvas draw automatically\n       */\n      autoPaint: true,\n\n      /**\n       * store all the node instances\n       */\n      nodes: [],\n\n      /**\n       * store all the edge instances\n       */\n      edges: [],\n\n      /**\n       * store all the combo instances\n       */\n      combos: [],\n\n      /**\n       * store all the edge instances which are virtual edges related to collapsed combo\n       */\n      vedges: [],\n\n      /**\n       * all the instances indexed by id\n       */\n      itemMap: {},\n\n      /**\n       * \n       */\n      linkCenter: false,\n\n      /**\n       * data \n       * defaultNode: {\n       *  type: 'rect',\n       *  size: [60, 40],\n       *  style: {\n       *    //... \n       *  }\n       * }\n       *  { id: 'node', x: 100, y: 100 }\n       *  { id: 'node', x: 100, y: 100 type: 'rect', size: [60, 40] }\n       *  { id: 'node', x: 100, y: 100, type: 'circle' }\n       *  { id: 'node', x: 100, y: 100 type: 'circle', size: [60, 40] }\n       */\n      defaultNode: {},\n\n      /**\n       * data  defaultNode\n       */\n      defaultEdge: {},\n\n      /**\n       * \n       * \n       * const graph = new G6.Graph({\n       *  nodeStateStyles: {\n       *    selected: { fill: '#ccc', stroke: '#666' },\n       *    active: { lineWidth: 2 }\n       *  },\n       *  ...\n       * });\n       *\n       */\n      nodeStateStyles: {},\n\n      /**\n       * nodeStateStyle\n       */\n      edgeStateStyles: {},\n\n      /**\n       * graph \n       */\n      states: {},\n\n      /**\n       * \n       */\n      animate: false,\n\n      /**\n       * , animate  true \n       */\n      animateCfg: {\n        /**\n         * \n         */\n        onFrame: undefined,\n\n        /**\n         * (ms)\n         */\n        duration: 500,\n\n        /**\n         * \n         */\n        easing: 'easeLinear'\n      },\n      callback: undefined,\n      //  undo & redo \n      enabledStack: false,\n      //  enabledStack  true \n      maxStep: 10,\n      //  tooltip dom\n      tooltips: []\n    };\n  };\n  /**\n   *  this.cfg \n   * @param key   \n   * @param val \n   */\n\n\n  AbstractGraph.prototype.set = function (key, val) {\n    if (isPlainObject(key)) {\n      this.cfg = __assign(__assign({}, this.cfg), key);\n    } else {\n      this.cfg[key] = val;\n    }\n\n    return this;\n  };\n  /**\n   *  this.cfg \n   * @param key \n   */\n\n\n  AbstractGraph.prototype.get = function (key) {\n    return this.cfg[key];\n  };\n  /**\n   *  graph \n   * @return  group\n   */\n\n\n  AbstractGraph.prototype.getGroup = function () {\n    return this.get('group');\n  };\n  /**\n   *  graph  DOM \n   * @return DOM \n   */\n\n\n  AbstractGraph.prototype.getContainer = function () {\n    return this.get('container');\n  };\n  /**\n   *  graph \n   * @return minZoom\n   */\n\n\n  AbstractGraph.prototype.getMinZoom = function () {\n    return this.get('minZoom');\n  };\n  /**\n   *  graph \n   * @return minZoom\n   */\n\n\n  AbstractGraph.prototype.setMinZoom = function (ratio) {\n    return this.set('minZoom', ratio);\n  };\n  /**\n   *  graph \n   * @param maxZoom\n   */\n\n\n  AbstractGraph.prototype.getMaxZoom = function () {\n    return this.get('maxZoom');\n  };\n  /**\n   *  graph \n   * @param maxZoom\n   */\n\n\n  AbstractGraph.prototype.setMaxZoom = function (ratio) {\n    return this.set('maxZoom', ratio);\n  };\n  /**\n   *  graph \n   * @return width\n   */\n\n\n  AbstractGraph.prototype.getWidth = function () {\n    return this.get('width');\n  };\n  /**\n   *  graph \n   * @return width\n   */\n\n\n  AbstractGraph.prototype.getHeight = function () {\n    return this.get('height');\n  };\n  /**\n   * \n   * @param {string|Item} item id\n   * @param {string[]} states \n   */\n\n\n  AbstractGraph.prototype.clearItemStates = function (item, states) {\n    if (isString(item)) {\n      item = this.findById(item);\n    }\n\n    var itemController = this.get('itemController');\n\n    if (!states) {\n      states = item.get('states');\n    }\n\n    itemController.clearItemStates(item, states);\n    var stateController = this.get('stateController');\n    stateController.updateStates(item, states, false);\n  };\n  /**\n   *  keyShape \n   * \n   * graph.node(node => {\n   *  return {\n   *    type: 'rect',\n   *    label: node.id,\n   *    style: { fill: '#666' },\n   *    stateStyles: {\n   *       selected: { fill: 'blue' },\n   *       custom: { fill: 'green' }\n   *     }\n   *   }\n   * });\n   * @param {function} nodeFn \n   */\n\n\n  AbstractGraph.prototype.node = function (nodeFn) {\n    if (typeof nodeFn === 'function') {\n      this.set('nodeMapper', nodeFn);\n    }\n  };\n  /**\n   * \n   * @param {function} edgeFn , node\n   */\n\n\n  AbstractGraph.prototype.edge = function (edgeFn) {\n    if (typeof edgeFn === 'function') {\n      this.set('edgeMapper', edgeFn);\n    }\n  };\n  /**\n   *  combo \n   * @param comboFn\n   */\n\n\n  AbstractGraph.prototype.combo = function (comboFn) {\n    if (typeof comboFn === 'function') {\n      this.set('comboMapper', comboFn);\n    }\n  };\n  /**\n   *  ID \n   * @param id  ID\n   */\n\n\n  AbstractGraph.prototype.findById = function (id) {\n    return this.get('itemMap')[id];\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge | group)\n   * @param {(item: T, index: number) => T} fn \n   * @return {T} \n   */\n\n\n  AbstractGraph.prototype.find = function (type, fn) {\n    var result;\n    var items = this.get(type + \"s\"); // eslint-disable-next-line consistent-return\n\n    each(items, function (item, i) {\n      if (fn(item, i)) {\n        result = item;\n        return result;\n      }\n    });\n    return result;\n  };\n  /**\n   * \n   * @param {string} type (node|edge)\n   * @param {string} fn \n   * @return {array} \n   */\n\n\n  AbstractGraph.prototype.findAll = function (type, fn) {\n    var result = [];\n    each(this.get(type + \"s\"), function (item, i) {\n      if (fn(item, i)) {\n        result.push(item);\n      }\n    });\n    return result;\n  };\n  /**\n   * \n   * @param {string} type (node|edge)\n   * @param {string} state \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.findAllByState = function (type, state) {\n    return this.findAll(type, function (item) {\n      return item.hasState(state);\n    });\n  };\n  /**\n   * \n   * @param dx \n   * @param dy \n   */\n\n\n  AbstractGraph.prototype.translate = function (dx, dy) {\n    var group = this.get('group');\n    var matrix = clone(group.getMatrix());\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    matrix = transform(matrix, [['t', dx, dy]]);\n    group.setMatrix(matrix);\n    this.emit('viewportchange', {\n      action: 'translate',\n      matrix: group.getMatrix()\n    });\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {number} x \n   * @param {number} y \n   */\n\n\n  AbstractGraph.prototype.moveTo = function (x, y) {\n    var group = this.get('group');\n    move(group, {\n      x: x,\n      y: y\n    });\n    this.emit('viewportchange', {\n      action: 'move',\n      matrix: group.getMatrix()\n    });\n  };\n  /**\n   * \n   * @param {object} padding \n   */\n\n\n  AbstractGraph.prototype.fitView = function (padding) {\n    if (padding) {\n      this.set('fitViewPadding', padding);\n    }\n\n    var viewController = this.get('viewController');\n    viewController.fitView();\n    this.autoPaint();\n  };\n  /**\n   *  bbox \n   */\n\n\n  AbstractGraph.prototype.fitCenter = function () {\n    var viewController = this.get('viewController');\n    viewController.fitCenter();\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType[]} behaviors \n   * @param {string | string[]} modes \n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.addBehaviors = function (behaviors, modes) {\n    var modeController = this.get('modeController');\n    modeController.manipulateBehaviors(behaviors, modes, true);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType[]} behaviors \n   * @param {string | string[]} modes \n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.removeBehaviors = function (behaviors, modes) {\n    var modeController = this.get('modeController');\n    modeController.manipulateBehaviors(behaviors, modes, false);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType} behavior \n   * @param {string | string[]} modes  default\n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.updateBehavior = function (behavior, newCfg, mode) {\n    var modeController = this.get('modeController');\n    modeController.updateBehavior(behavior, newCfg, mode);\n    return this;\n  };\n  /**\n   * \n   * @param ratio \n   * @param center centerx, y\n   */\n\n\n  AbstractGraph.prototype.zoom = function (ratio, center) {\n    var group = this.get('group');\n    var matrix = clone(group.getMatrix());\n    var minZoom = this.get('minZoom');\n    var maxZoom = this.get('maxZoom');\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    if (center) {\n      matrix = transform(matrix, [['t', -center.x, -center.y], ['s', ratio, ratio], ['t', center.x, center.y]]);\n    } else {\n      matrix = transform(matrix, [['s', ratio, ratio]]);\n    }\n\n    if (minZoom && matrix[0] < minZoom || maxZoom && matrix[0] > maxZoom) {\n      return;\n    } // matrix = [2, 0, 0, 0, 2, 0, -125, -125, 1];\n\n\n    group.setMatrix(matrix);\n    this.emit('viewportchange', {\n      action: 'zoom',\n      matrix: matrix\n    });\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {number} toRatio \n   * @param {Point} center centerx, y\n   */\n\n\n  AbstractGraph.prototype.zoomTo = function (toRatio, center) {\n    var ratio = toRatio / this.getZoom();\n    this.zoom(ratio, center);\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} animate \n   * @param {GraphAnimateConfig} animateCfg \n   */\n\n\n  AbstractGraph.prototype.focusItem = function (item, animate, animateCfg) {\n    var viewController = this.get('viewController');\n    var isAnimate = false;\n    if (animate) isAnimate = true;else if (animate === undefined) isAnimate = this.get('animate');\n    var curAniamteCfg = {};\n    if (animateCfg) curAniamteCfg = animateCfg;else if (animateCfg === undefined) curAniamteCfg = this.get('animateCfg');\n    viewController.focus(item, isAnimate, curAniamteCfg);\n    this.autoPaint();\n  };\n  /**\n   * \n   * @internal  render  paint \n   */\n\n\n  AbstractGraph.prototype.autoPaint = function () {\n    if (this.get('autoPaint')) {\n      this.paint();\n    }\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.paint = function () {\n    this.emit('beforepaint');\n    this.get('canvas').draw();\n    this.emit('afterpaint');\n  };\n  /**\n   * \n   * @param {number} clientX x\n   * @param {number} clientY y\n   * @return {Point} \n   */\n\n\n  AbstractGraph.prototype.getPointByClient = function (clientX, clientY) {\n    var viewController = this.get('viewController');\n    return viewController.getPointByClient(clientX, clientY);\n  };\n  /**\n   * \n   * @param {number} x  x\n   * @param {number} y  y\n   * @return {Point} \n   */\n\n\n  AbstractGraph.prototype.getClientByPoint = function (x, y) {\n    var viewController = this.get('viewController');\n    return viewController.getClientByPoint(x, y);\n  };\n  /**\n   * \n   * @param {number} canvasX  x \n   * @param {number} canvasY  y \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getPointByCanvas = function (canvasX, canvasY) {\n    var viewController = this.get('viewController');\n    return viewController.getPointByCanvas(canvasX, canvasY);\n  };\n  /**\n   * \n   * @param {number} x  x\n   * @param {number} y  y\n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getCanvasByPoint = function (x, y) {\n    var viewController = this.get('viewController');\n    return viewController.getCanvasByPoint(x, y);\n  };\n  /**\n   * \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getGraphCenterPoint = function () {\n    var bbox = this.get('group').getCanvasBBox();\n    return {\n      x: (bbox.minX + bbox.maxX) / 2,\n      y: (bbox.minY + bbox.maxY) / 2\n    };\n  };\n  /**\n   * \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getViewPortCenterPoint = function () {\n    return this.getPointByCanvas(this.get('width') / 2, this.get('height') / 2);\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.showItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var object = itemController.changeItemVisibility(item, true);\n\n    if (stack && this.get('enabledStack')) {\n      var id = object.getID();\n      var type = object.getType();\n      var before = {};\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.nodes = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        case 'edge':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.edges = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        case 'combo':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.combos = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('visible', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.hideItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var object = itemController.changeItemVisibility(item, false);\n\n    if (stack && this.get('enabledStack')) {\n      var id = object.getID();\n      var type = object.getType();\n      var before = {};\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.nodes = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        case 'edge':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.edges = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        case 'combo':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.combos = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('visible', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {string|object} item id\n   */\n\n\n  AbstractGraph.prototype.refreshItem = function (item) {\n    var itemController = this.get('itemController');\n    itemController.refreshItem(item);\n  };\n  /**\n   * /\n   * @param {boolean} auto \n   */\n\n\n  AbstractGraph.prototype.setAutoPaint = function (auto) {\n    var self = this;\n    self.set('autoPaint', auto);\n    var canvas = self.get('canvas');\n    canvas.set('autoDraw', auto);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.remove = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    this.removeItem(item, stack);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.removeItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var nodeItem = item;\n    if (isString(item)) nodeItem = this.findById(item);\n\n    if (!nodeItem && isString(item)) {\n      console.warn('The item to be removed does not exist!');\n    } else if (nodeItem) {\n      var type = '';\n      if (nodeItem.getType) type = nodeItem.getType(); // \n\n      if (stack && this.get('enabledStack')) {\n        var deletedModel = __assign(__assign({}, nodeItem.getModel()), {\n          itemType: type\n        });\n\n        var before = {};\n\n        switch (type) {\n          case 'node':\n            {\n              before.nodes = [deletedModel];\n              before.edges = [];\n              var edges = nodeItem.getEdges();\n\n              for (var i = edges.length - 1; i >= 0; i--) {\n                before.edges.push(__assign(__assign({}, edges[i].getModel()), {\n                  itemType: 'edge'\n                }));\n              }\n\n              break;\n            }\n\n          case 'edge':\n            before.edges = [deletedModel];\n            break;\n\n          case 'combo':\n            before.combos = [deletedModel];\n            break;\n\n          default:\n            break;\n        }\n\n        this.pushStack('delete', {\n          before: before,\n          after: {}\n        });\n      }\n\n      if (type === 'node') {\n        var model = nodeItem.getModel(); //  Combo  node  combo  combo \n\n        if (model.comboId) {\n          this.updateComboTree(nodeItem);\n        }\n      }\n\n      var itemController = this.get('itemController');\n      itemController.removeItem(nodeItem);\n\n      if (type === 'combo') {\n        var newComboTrees = reconstructTree(this.get('comboTrees'));\n        this.set('comboTrees', newComboTrees);\n      }\n    }\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge)\n   * @param {ModelConfig} model \n   * @param {boolean} stack  true\n   * @param {boolean} sortCombo  combo  addItem \n   * @return {Item} \n   */\n\n\n  AbstractGraph.prototype.addItem = function (type, model, stack, sortCombo) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    if (sortCombo === void 0) {\n      sortCombo = true;\n    }\n\n    var currentComboSorted = this.get('comboSorted');\n    this.set('comboSorted', currentComboSorted && !sortCombo);\n    var itemController = this.get('itemController'); // combo\n\n    if (!singleDataValidation(type, model)) {\n      return false;\n    }\n\n    if (model.id && this.findById(model.id)) {\n      console.warn(\"This item exists already. Be sure the id %c\" + model.id + \"%c is unique.\", 'font-size: 20px; color: red;', '');\n      return;\n    }\n\n    var item;\n    var comboTrees = this.get('comboTrees');\n    if (!comboTrees) comboTrees = [];\n\n    if (type === 'combo') {\n      var itemMap_1 = this.get('itemMap');\n      var foundParent_1 = false;\n      comboTrees.forEach(function (ctree) {\n        if (foundParent_1) return; // terminate the forEach after the tree containing the item is done\n\n        traverseTreeUp(ctree, function (child) {\n          // find the parent\n          if (model.parentId === child.id) {\n            foundParent_1 = true;\n\n            var newCombo = __assign({\n              id: model.id,\n              depth: child.depth + 2\n            }, model);\n\n            if (child.children) child.children.push(newCombo);else child.children = [newCombo];\n            model.depth = newCombo.depth;\n            item = itemController.addItem(type, model);\n          }\n\n          var childItem = itemMap_1[child.id]; // after the parent is found, update all the ancestors\n\n          if (foundParent_1 && childItem && childItem.getType && childItem.getType() === 'combo') {\n            itemController.updateCombo(childItem, child.children);\n          }\n\n          return true;\n        });\n      }); // if the parent is not found, add it to the root\n\n      if (!foundParent_1) {\n        var newCombo = __assign({\n          id: model.id,\n          depth: 0\n        }, model);\n\n        model.depth = newCombo.depth;\n        comboTrees.push(newCombo);\n        item = itemController.addItem(type, model);\n      }\n\n      this.set('comboTrees', comboTrees);\n    } else if (type === 'node' && isString(model.comboId) && comboTrees) {\n      var parentCombo = this.findById(model.comboId);\n\n      if (parentCombo && parentCombo.getType && parentCombo.getType() !== 'combo') {\n        console.warn(\"'\" + model.comboId + \"' is not a id of a combo in the graph, the node will be added without combo.\");\n      }\n\n      item = itemController.addItem(type, model);\n      var itemMap_2 = this.get('itemMap');\n      var foundParent_2 = false,\n          foundNode_1 = false;\n      (comboTrees || []).forEach(function (ctree) {\n        if (foundNode_1 || foundParent_2) return; // terminate the forEach\n\n        traverseTreeUp(ctree, function (child) {\n          if (child.id === model.id) {\n            // if the item exists in the tree already, terminate\n            foundNode_1 = true;\n            return false;\n          }\n\n          if (model.comboId === child.id && !foundNode_1) {\n            // found the parent, add the item to the children of its parent in the tree\n            foundParent_2 = true;\n            var cloneNode = clone(model);\n            cloneNode.itemType = 'node';\n            if (child.children) child.children.push(cloneNode);else child.children = [cloneNode];\n            cloneNode.depth = child.depth + 1;\n          } // update the size of all the ancestors\n\n\n          if (foundParent_2 && itemMap_2[child.id].getType && itemMap_2[child.id].getType() === 'combo') {\n            itemController.updateCombo(itemMap_2[child.id], child.children);\n          }\n\n          return true;\n        });\n      });\n    } else {\n      item = itemController.addItem(type, model);\n    }\n\n    if (type === 'node' && model.comboId || type === 'combo' && model.parentId) {\n      // add the combo to the parent's children array\n      var parentCombo = this.findById(model.comboId || model.parentId);\n      if (parentCombo && parentCombo.getType && parentCombo.getType() === 'combo') parentCombo.addChild(item);\n    }\n\n    var combos = this.get('combos');\n\n    if (combos && combos.length > 0) {\n      this.sortCombos();\n    }\n\n    this.autoPaint();\n\n    if (stack && this.get('enabledStack')) {\n      var addedModel = __assign(__assign({}, item.getModel()), {\n        itemType: type\n      });\n\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          after.nodes = [addedModel];\n          break;\n\n        case 'edge':\n          after.edges = [addedModel];\n          break;\n\n        case 'combo':\n          after.combos = [addedModel];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('add', {\n        before: {},\n        after: after\n      });\n    }\n\n    return item;\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge)\n   * @param {ModelConfig} model \n   * @param {boolean} stack  true\n   * @return {Item} \n   */\n\n\n  AbstractGraph.prototype.add = function (type, model, stack, sortCombo) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    if (sortCombo === void 0) {\n      sortCombo = true;\n    }\n\n    return this.addItem(type, model, stack, sortCombo);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {Partial<NodeConfig> | EdgeConfig} cfg \n   */\n\n\n  AbstractGraph.prototype.updateItem = function (item, cfg, stack) {\n    var _this = this;\n\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var currentItem;\n\n    if (isString(item)) {\n      currentItem = this.findById(item);\n    } else {\n      currentItem = item;\n    }\n\n    var UnupdateModel = clone(currentItem.getModel());\n    var type = '';\n    if (currentItem.getType) type = currentItem.getType();\n\n    var states = __spreadArray([], currentItem.getStates());\n\n    if (type === 'combo') {\n      each(states, function (state) {\n        return _this.setItemState(currentItem, state, false);\n      });\n    }\n\n    itemController.updateItem(currentItem, cfg);\n\n    if (type === 'combo') {\n      each(states, function (state) {\n        return _this.setItemState(currentItem, state, true);\n      });\n    }\n\n    if (stack && this.get('enabledStack')) {\n      var before = {\n        nodes: [],\n        edges: [],\n        combos: []\n      };\n      var after = {\n        nodes: [],\n        edges: [],\n        combos: []\n      };\n\n      var afterModel = __assign({\n        id: UnupdateModel.id\n      }, cfg);\n\n      switch (type) {\n        case 'node':\n          before.nodes.push(UnupdateModel);\n          after.nodes.push(afterModel);\n          break;\n\n        case 'edge':\n          before.edges.push(UnupdateModel);\n          after.edges.push(afterModel);\n          break;\n\n        case 'combo':\n          before.combos.push(UnupdateModel);\n          after.combos.push(afterModel);\n          break;\n\n        default:\n          break;\n      }\n\n      if (type === 'node') {\n        before.nodes.push(UnupdateModel);\n      }\n\n      this.pushStack('update', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {Partial<NodeConfig> | EdgeConfig} cfg \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.update = function (item, cfg, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    this.updateItem(item, cfg, stack);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {string} state \n   * @param {string | boolean} value   \n   */\n\n\n  AbstractGraph.prototype.setItemState = function (item, state, value) {\n    if (isString(item)) {\n      item = this.findById(item);\n    }\n\n    var itemController = this.get('itemController');\n    itemController.setItemState(item, state, value);\n    var stateController = this.get('stateController');\n\n    if (isString(value)) {\n      stateController.updateState(item, state + \":\" + value, true);\n    } else {\n      stateController.updateState(item, state, value);\n    }\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param state \n   */\n\n\n  AbstractGraph.prototype.priorityState = function (item, state) {\n    var itemController = this.get('itemController');\n    itemController.priorityState(item, state);\n  };\n  /**\n   * \n   * @param {GraphData} data \n   */\n\n\n  AbstractGraph.prototype.data = function (data) {\n    dataValidation(data);\n    this.set('data', data);\n  };\n  /**\n   * data\n   */\n\n\n  AbstractGraph.prototype.render = function () {\n    var self = this;\n    this.set('comboSorted', false);\n    var data = this.get('data');\n\n    if (this.get('enabledStack')) {\n      // render  redo  undo \n      this.clearStack();\n    }\n\n    if (!data) {\n      throw new Error('data must be defined first');\n    }\n\n    var _a = data.nodes,\n        nodes = _a === void 0 ? [] : _a,\n        _b = data.edges,\n        edges = _b === void 0 ? [] : _b,\n        _c = data.combos,\n        combos = _c === void 0 ? [] : _c;\n    this.clear(true);\n    this.emit('beforerender');\n    each(nodes, function (node) {\n      self.add('node', node, false, false);\n    }); // process the data to tree structure\n\n    if (combos && combos.length !== 0) {\n      var comboTrees = plainCombosToTrees(combos, nodes);\n      this.set('comboTrees', comboTrees); // add combos\n\n      self.addCombos(combos);\n    }\n\n    each(edges, function (edge) {\n      self.add('edge', edge, false, false);\n    });\n    var animate = self.get('animate');\n\n    if (self.get('fitView') || self.get('fitCenter')) {\n      self.set('animate', false);\n    } // layout\n\n\n    var layoutController = self.get('layoutController');\n\n    if (layoutController) {\n      layoutController.layout(success); // \n\n      this.refreshPositions();\n      if (this.destroyed) return;\n    } else {\n      if (self.get('fitView')) {\n        self.fitView();\n      }\n\n      if (self.get('fitCenter')) {\n        self.fitCenter();\n      }\n\n      self.emit('afterrender');\n      self.set('animate', animate);\n    } //  onLayoutEnd \n\n\n    function success() {\n      // fitView  fitCenter fitView fitCenter \n      if (self.get('fitView')) {\n        self.fitView();\n      } else if (self.get('fitCenter')) {\n        self.fitCenter();\n      }\n\n      self.autoPaint();\n      self.emit('afterrender');\n\n      if (self.get('fitView') || self.get('fitCenter')) {\n        self.set('animate', animate);\n      }\n    }\n\n    if (!this.get('groupByTypes')) {\n      if (combos && combos.length !== 0) {\n        this.sortCombos();\n      } else {\n        // \n        if (data.nodes && data.edges && data.nodes.length < data.edges.length) {\n          var nodesArr = this.getNodes(); // \n\n          nodesArr.forEach(function (node) {\n            node.toFront();\n          });\n        } else {\n          var edgesArr = this.getEdges(); // \n\n          edgesArr.forEach(function (edge) {\n            edge.toBack();\n          });\n        }\n      }\n    }\n\n    if (this.get('enabledStack')) {\n      this.pushStack('render');\n    }\n  };\n  /**\n   * \n   * @Param {Object} data \n   */\n\n\n  AbstractGraph.prototype.read = function (data) {\n    this.data(data);\n    this.render();\n  }; // item\n\n\n  AbstractGraph.prototype.diffItems = function (type, items, models) {\n    var self = this;\n    var item;\n    var itemMap = this.get('itemMap');\n    each(models, function (model) {\n      item = itemMap[model.id];\n\n      if (item) {\n        if (self.get('animate') && type === NODE) {\n          var containerMatrix = item.getContainer().getMatrix();\n          if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          item.set('originAttrs', {\n            x: containerMatrix[6],\n            y: containerMatrix[7]\n          });\n        }\n\n        self.updateItem(item, model, false);\n      } else {\n        item = self.addItem(type, model, false);\n      }\n\n      if (item) items[type + \"s\"].push(item);\n    });\n  };\n  /**\n   * \n   * @param {GraphData | TreeGraphData} data \n   * @param {boolean} true\n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.changeData = function (data, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var self = this;\n\n    if (!dataValidation(data)) {\n      return this;\n    }\n\n    if (stack && this.get('enabledStack')) {\n      this.pushStack('changedata', {\n        before: self.save(),\n        after: data\n      });\n    }\n\n    this.set('comboSorted', false); //  hulls\n\n    this.removeHulls(); // \n\n    this.getNodes().map(function (node) {\n      return self.clearItemStates(node);\n    });\n    this.getEdges().map(function (edge) {\n      return self.clearItemStates(edge);\n    });\n    var canvas = this.get('canvas');\n    var localRefresh = canvas.get('localRefresh');\n    canvas.set('localRefresh', false);\n\n    if (!self.get('data')) {\n      self.data(data);\n      self.render();\n    }\n\n    var itemMap = this.get('itemMap');\n    var items = {\n      nodes: [],\n      edges: []\n    };\n    var combosData = data.combos;\n\n    if (combosData) {\n      var comboTrees = plainCombosToTrees(combosData, data.nodes);\n      this.set('comboTrees', comboTrees);\n    }\n\n    this.diffItems('node', items, data.nodes);\n    each(itemMap, function (item, id) {\n      itemMap[id].getModel().depth = 0;\n      if (item.getType && item.getType() === 'edge') return;\n\n      if (item.getType && item.getType() === 'combo') {\n        delete itemMap[id];\n        item.destroy();\n      } else if (items.nodes.indexOf(item) < 0) {\n        delete itemMap[id];\n        self.remove(item, false);\n      }\n    }); // clear the destroyed combos here to avoid removing sub nodes before removing the parent combo\n\n    var comboItems = this.getCombos();\n    var combosLength = comboItems.length;\n\n    for (var i = combosLength - 1; i >= 0; i--) {\n      if (comboItems[i].destroyed) {\n        comboItems.splice(i, 1);\n      }\n    } // process the data to tree structure\n\n\n    if (combosData) {\n      // add combos\n      self.addCombos(combosData);\n\n      if (!this.get('groupByTypes')) {\n        this.sortCombos();\n      }\n    }\n\n    this.diffItems('edge', items, data.edges);\n    each(itemMap, function (item, id) {\n      if (item.getType && (item.getType() === 'node' || item.getType() === 'combo')) return;\n\n      if (items.edges.indexOf(item) < 0) {\n        delete itemMap[id];\n        self.remove(item, false);\n      }\n    });\n    this.set({\n      nodes: items.nodes,\n      edges: items.edges\n    });\n    var layoutController = this.get('layoutController');\n\n    if (layoutController) {\n      layoutController.changeData();\n\n      if (self.get('animate') && !layoutController.getLayoutType()) {\n        // \n        self.positionsAnimate();\n      } else {\n        self.autoPaint();\n      }\n    }\n\n    setTimeout(function () {\n      canvas.set('localRefresh', localRefresh);\n    }, 16);\n    return this;\n  };\n  /**\n   *  render  changeData  combos\n   * @param {ComboConfig[]} combos  combos \n   */\n\n\n  AbstractGraph.prototype.addCombos = function (combos) {\n    var self = this;\n    var comboTrees = self.get('comboTrees');\n    var itemController = this.get('itemController');\n    itemController.addCombos(comboTrees, combos);\n  };\n  /**\n   *  combo  combo\n   * @param combo combo ID  Combo \n   * @param children  Combo  combo\n   */\n\n\n  AbstractGraph.prototype.createCombo = function (combo, children) {\n    var _this = this;\n\n    this.set('comboSorted', false); // step 1:  Combo\n\n    var comboId = '';\n    var comboConfig;\n    if (!combo) return;\n\n    if (isString(combo)) {\n      comboId = combo;\n      comboConfig = {\n        id: combo\n      };\n    } else {\n      comboId = combo.id;\n\n      if (!comboId) {\n        console.warn('Create combo failed. Please assign a unique string id for the adding combo.');\n        return;\n      }\n\n      comboConfig = combo;\n    } // step2:  children comboId  parentId\n\n\n    var trees = children.map(function (elementId) {\n      var item = _this.findById(elementId);\n\n      var model = item.getModel();\n      var type = '';\n      if (item.getType) type = item.getType();\n      var cItem = {\n        id: item.getID(),\n        itemType: type\n      };\n\n      if (type === 'combo') {\n        cItem.parentId = comboId;\n        model.parentId = comboId;\n      } else if (type === 'node') {\n        cItem.comboId = comboId;\n        model.comboId = comboId;\n      }\n\n      return cItem;\n    });\n    comboConfig.children = trees; // step 3:  ComboaddItem  Combo \n\n    this.addItem('combo', comboConfig, false);\n    this.set('comboSorted', false); // step4:  comboTrees \n\n    var comboTrees = this.get('comboTrees');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (child.id === comboId) {\n          child.itemType = 'combo';\n          child.children = trees;\n          return false;\n        }\n\n        return true;\n      });\n    });\n\n    if (comboTrees) {\n      this.sortCombos();\n    }\n  };\n  /**\n   *  combo\n   * @param {String | INode | ICombo} combo  Combo item  id\n   */\n\n\n  AbstractGraph.prototype.uncombo = function (combo) {\n    var _this = this;\n\n    var self = this;\n    var comboItem = combo;\n\n    if (isString(combo)) {\n      comboItem = this.findById(combo);\n    }\n\n    if (!comboItem || comboItem.getType && comboItem.getType() !== 'combo') {\n      console.warn('The item is not a combo!');\n      return;\n    }\n\n    var parentId = comboItem.getModel().parentId;\n    var comboTrees = self.get('comboTrees');\n    if (!comboTrees) comboTrees = [];\n    var itemMap = this.get('itemMap');\n    var comboId = comboItem.get('id');\n    var treeToBeUncombo;\n    var brothers = [];\n    var comboItems = this.get('combos');\n    var parentItem = this.findById(parentId);\n    comboTrees.forEach(function (ctree) {\n      if (treeToBeUncombo) return; // terminate the forEach\n\n      traverseTreeUp(ctree, function (subtree) {\n        // find the combo to be uncomboed, delete the combo from map and cache\n        if (subtree.id === comboId) {\n          treeToBeUncombo = subtree; // delete the related edges\n\n          var edges = comboItem.getEdges();\n          edges.forEach(function (edge) {\n            _this.removeItem(edge, false);\n          });\n          var index = comboItems.indexOf(combo);\n          comboItems.splice(index, 1);\n          delete itemMap[comboId];\n          comboItem.destroy();\n        } // find the parent to remove the combo from the combo's brothers array and add the combo's children to the combo's brothers array in the tree\n\n\n        if (parentId && treeToBeUncombo && subtree.id === parentId) {\n          parentItem.removeCombo(comboItem);\n          brothers = subtree.children; // the combo's brothers\n          // remove the combo from its brothers array\n\n          var index = brothers.indexOf(treeToBeUncombo);\n\n          if (index !== -1) {\n            brothers.splice(index, 1);\n          } // append the combo's children to the combo's brothers array\n\n\n          treeToBeUncombo.children.forEach(function (child) {\n            var item = _this.findById(child.id);\n\n            var childModel = item.getModel();\n\n            if (item.getType && item.getType() === 'combo') {\n              child.parentId = parentId;\n              delete child.comboId;\n              childModel.parentId = parentId; // update the parentId of the model\n\n              delete childModel.comboId;\n            } else if (item.getType && item.getType() === 'node') {\n              child.comboId = parentId;\n              childModel.comboId = parentId; // update the parentId of the model\n            }\n\n            parentItem.addChild(item);\n            brothers.push(child);\n          });\n          return false;\n        }\n\n        return true;\n      });\n    }); // if the parentId is not found, remove the combo from the roots\n\n    if (!parentId && treeToBeUncombo) {\n      var index = comboTrees.indexOf(treeToBeUncombo);\n      comboTrees.splice(index, 1); // modify the parentId of the children\n\n      treeToBeUncombo.children.forEach(function (child) {\n        child.parentId = undefined;\n\n        var childModel = _this.findById(child.id).getModel();\n\n        delete childModel.parentId; // update the parentId of the model\n\n        delete childModel.comboId; // update the comboId of the model\n\n        if (child.itemType !== 'node') comboTrees.push(child);\n      });\n    }\n  };\n  /**\n   *  bbox  combos  combos \n   */\n\n\n  AbstractGraph.prototype.updateCombos = function () {\n    var _this = this;\n\n    var self = this;\n    var comboTrees = this.get('comboTrees');\n    var itemController = self.get('itemController');\n    var itemMap = self.get('itemMap');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (!child) {\n          return true;\n        }\n\n        var childItem = itemMap[child.id];\n\n        if (childItem && childItem.getType && childItem.getType() === 'combo') {\n          //  Combo  state  Combo \n          var states = __spreadArray([], childItem.getStates());\n\n          each(states, function (state) {\n            return _this.setItemState(childItem, state, false);\n          }); //  Combo\n\n          itemController.updateCombo(childItem, child.children); //  Combo \n\n          each(states, function (state) {\n            return _this.setItemState(childItem, state, true);\n          });\n        }\n\n        return true;\n      });\n    });\n    self.sortCombos();\n  };\n  /**\n   *  bbox  combo  combos  combos \n   * @param {String | ICombo} combo  Combo  id Combo  Combod \n   */\n\n\n  AbstractGraph.prototype.updateCombo = function (combo) {\n    var _this = this;\n\n    var self = this;\n    var comboItem = combo;\n    var comboId;\n\n    if (isString(combo)) {\n      comboItem = this.findById(combo);\n    }\n\n    if (!comboItem || comboItem.getType && comboItem.getType() !== 'combo') {\n      console.warn('The item to be updated is not a combo!');\n      return;\n    }\n\n    comboId = comboItem.get('id');\n    var comboTrees = this.get('comboTrees');\n    var itemController = self.get('itemController');\n    var itemMap = self.get('itemMap');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (!child) {\n          return true;\n        }\n\n        var childItem = itemMap[child.id];\n\n        if (comboId === child.id && childItem && childItem.getType && childItem.getType() === 'combo') {\n          //  Combo  state  Combo \n          var states = __spreadArray([], childItem.getStates()); // || !item.getStateStyle(stateName)\n\n\n          each(states, function (state) {\n            if (childItem.getStateStyle(state)) {\n              _this.setItemState(childItem, state, false);\n            }\n          }); //  Combo\n\n          itemController.updateCombo(childItem, child.children); //  Combo \n\n          each(states, function (state) {\n            if (childItem.getStateStyle(state)) {\n              _this.setItemState(childItem, state, true);\n            }\n          });\n          if (comboId) comboId = child.parentId;\n        }\n\n        return true;\n      });\n    });\n  };\n  /**\n   * \n   * @param {String | INode | ICombo} item  Combo   id\n   * @param {string | undefined} parentId  combo idundefined  combo\n   */\n\n\n  AbstractGraph.prototype.updateComboTree = function (item, parentId, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var self = this;\n    this.set('comboSorted', false);\n    var uItem;\n\n    if (isString(item)) {\n      uItem = self.findById(item);\n    } else {\n      uItem = item;\n    }\n\n    var model = uItem.getModel();\n    var oldParentId = model.comboId || model.parentId;\n    var type = '';\n    if (uItem.getType) type = uItem.getType(); //  item  Combo parentId  combo  id\n\n    if (parentId && type === 'combo') {\n      var comboTrees = this.get('comboTrees');\n      var valid_1 = true;\n      var itemSubTree_1;\n      (comboTrees || []).forEach(function (ctree) {\n        if (itemSubTree_1) return;\n        traverseTree(ctree, function (subTree) {\n          if (itemSubTree_1) return; //  item \n\n          if (subTree.id === uItem.getID()) {\n            itemSubTree_1 = subTree;\n          }\n\n          return true;\n        });\n      }); //  item  parentId \n\n      traverseTree(itemSubTree_1, function (subTree) {\n        if (subTree.id === parentId) {\n          valid_1 = false;\n          return false;\n        }\n\n        return true;\n      }); // parentId  item \n\n      if (!valid_1) {\n        console.warn('Failed to update the combo tree! The parentId points to a descendant of the combo!');\n        return;\n      }\n    }\n\n    if (stack && this.get('enabledStack')) {\n      var beforeData = {},\n          afterData = {};\n\n      if (type === 'combo') {\n        beforeData.combos = [{\n          id: model.id,\n          parentId: model.parentId\n        }];\n        afterData.combos = [{\n          id: model.id,\n          parentId: parentId\n        }];\n      } else if (type === 'node') {\n        beforeData.nodes = [{\n          id: model.id,\n          parentId: model.comboId\n        }];\n        afterData.nodes = [{\n          id: model.id,\n          parentId: parentId\n        }];\n      }\n\n      this.pushStack('updateComboTree', {\n        before: beforeData,\n        after: afterData\n      });\n    } //  combo  parentId  comboId \n\n\n    if (model.parentId || model.comboId) {\n      var combo = this.findById(model.parentId || model.comboId);\n\n      if (combo) {\n        combo.removeChild(uItem);\n      }\n    }\n\n    if (type === 'combo') {\n      model.parentId = parentId;\n    } else if (type === 'node') {\n      model.comboId = parentId;\n    } //  combo \n\n\n    if (parentId) {\n      var parentCombo = this.findById(parentId);\n\n      if (parentCombo) {\n        //  parentCombo \n        parentCombo.addChild(uItem);\n      }\n    } //  combo combo \n\n\n    if (oldParentId) {\n      var parentCombo = this.findById(oldParentId);\n\n      if (parentCombo) {\n        //  parentCombo \n        parentCombo.removeChild(uItem);\n      }\n    }\n\n    var newComboTrees = reconstructTree(this.get('comboTrees'), model.id, parentId);\n    this.set('comboTrees', newComboTrees);\n    this.updateCombos();\n  };\n  /**\n   * \n   * @return {object} data\n   */\n\n\n  AbstractGraph.prototype.save = function () {\n    var nodes = [];\n    var edges = [];\n    var combos = [];\n    each(this.get('nodes'), function (node) {\n      nodes.push(node.getModel());\n    });\n    each(this.get('edges'), function (edge) {\n      edges.push(edge.getModel());\n    });\n    each(this.get('combos'), function (combo) {\n      combos.push(combo.getModel());\n    });\n    return {\n      nodes: nodes,\n      edges: edges,\n      combos: combos\n    };\n  };\n  /**\n   * \n   * @param  {number} width  \n   * @param  {number} height \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.changeSize = function (width, height) {\n    var viewController = this.get('viewController');\n    viewController.changeSize(width, height);\n    return this;\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.refresh = function () {\n    var self = this;\n    self.emit('beforegraphrefresh');\n\n    if (self.get('animate')) {\n      self.positionsAnimate();\n    } else {\n      var nodes = self.get('nodes');\n      var edges = self.get('edges');\n      var vedges = self.get('edges');\n      each(nodes, function (node) {\n        node.refresh();\n      });\n      each(edges, function (edge) {\n        edge.refresh();\n      });\n      each(vedges, function (vedge) {\n        vedge.refresh();\n      });\n    }\n\n    self.emit('aftergraphrefresh');\n    self.autoPaint();\n  };\n  /**\n   * item\n   * @return {INode} item\n   */\n\n\n  AbstractGraph.prototype.getNodes = function () {\n    return this.get('nodes');\n  };\n  /**\n   * item\n   * @return {IEdge} item\n   */\n\n\n  AbstractGraph.prototype.getEdges = function () {\n    return this.get('edges');\n  };\n  /**\n   *  combo \n   */\n\n\n  AbstractGraph.prototype.getCombos = function () {\n    return this.get('combos');\n  };\n  /**\n   *  Combo \n   * @param comboId combo ID\n   */\n\n\n  AbstractGraph.prototype.getComboChildren = function (combo) {\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') {\n      console.warn('The combo does not exist!');\n      return;\n    }\n\n    return combo.getChildren();\n  };\n  /**\n   *  graph  animateCfg \n   */\n\n\n  AbstractGraph.prototype.positionsAnimate = function () {\n    var self = this;\n    self.emit('beforeanimate');\n    var animateCfg = self.get('animateCfg');\n    var onFrame = animateCfg.onFrame;\n    var nodes = self.getNodes();\n    var toNodes = nodes.map(function (node) {\n      var model = node.getModel();\n      return {\n        id: model.id,\n        x: model.x,\n        y: model.y\n      };\n    });\n\n    if (self.isAnimating()) {\n      self.stopAnimate();\n    }\n\n    var canvas = self.get('canvas');\n    canvas.animate(function (ratio) {\n      each(toNodes, function (data) {\n        var node = self.findById(data.id);\n\n        if (!node || node.destroyed) {\n          return;\n        }\n\n        var originAttrs = node.get('originAttrs');\n        var model = node.get('model');\n\n        if (!originAttrs) {\n          var containerMatrix = node.getContainer().getMatrix();\n          if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          originAttrs = {\n            x: containerMatrix[6],\n            y: containerMatrix[7]\n          };\n          node.set('originAttrs', originAttrs);\n        }\n\n        if (onFrame) {\n          var attrs = onFrame(node, ratio, data, originAttrs);\n          node.set('model', Object.assign(model, attrs));\n        } else {\n          model.x = originAttrs.x + (data.x - originAttrs.x) * ratio;\n          model.y = originAttrs.y + (data.y - originAttrs.y) * ratio;\n        }\n      });\n      self.refreshPositions();\n    }, {\n      duration: animateCfg.duration,\n      easing: animateCfg.easing,\n      callback: function callback() {\n        each(nodes, function (node) {\n          node.set('originAttrs', null);\n        });\n\n        if (animateCfg.callback) {\n          animateCfg.callback();\n        }\n\n        self.emit('afteranimate');\n        self.animating = false;\n      }\n    });\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.refreshPositions = function () {\n    var self = this;\n    self.emit('beforegraphrefreshposition');\n    var nodes = self.get('nodes');\n    var edges = self.get('edges');\n    var vedges = self.get('vedges');\n    var combos = self.get('combos');\n    var model;\n    var updatedNodes = {};\n    each(nodes, function (node) {\n      model = node.getModel();\n      var originAttrs = node.get('originAttrs');\n\n      if (originAttrs && model.x === originAttrs.x && model.y === originAttrs.y) {\n        return;\n      }\n\n      var changed = node.updatePosition({\n        x: model.x,\n        y: model.y\n      });\n      updatedNodes[model.id] = changed;\n      if (model.comboId) updatedNodes[model.comboId] = updatedNodes[model.comboId] || changed;\n    });\n\n    if (combos && combos.length !== 0) {\n      self.updateCombos();\n    }\n\n    each(edges, function (edge) {\n      var sourceModel = edge.getSource().getModel();\n      var target = edge.getTarget(); //  target  getModel \n      //  target \n\n      if (!isPlainObject(target)) {\n        var targetModel = target.getModel();\n\n        if (updatedNodes[sourceModel.id] || updatedNodes[targetModel.id] || edge.getModel().isComboEdge) {\n          edge.refresh();\n        }\n      }\n    });\n    each(vedges, function (vedge) {\n      vedge.refresh();\n    });\n    self.emit('aftergraphrefreshposition');\n    self.autoPaint();\n  };\n\n  AbstractGraph.prototype.stopAnimate = function () {\n    this.get('canvas').stopAnimate();\n  };\n\n  AbstractGraph.prototype.isAnimating = function () {\n    return this.animating;\n  };\n  /**\n   * \n   * @return {number} \n   */\n\n\n  AbstractGraph.prototype.getZoom = function () {\n    var matrix = this.get('group').getMatrix();\n    return matrix ? matrix[0] : 1;\n  };\n  /**\n   * \n   * @return {string} \n   */\n\n\n  AbstractGraph.prototype.getCurrentMode = function () {\n    var modeController = this.get('modeController');\n    return modeController.getMode();\n  };\n  /**\n   * \n   * @param {string} mode \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.setMode = function (mode) {\n    var modeController = this.get('modeController');\n    modeController.setMode(mode);\n    return this;\n  };\n  /**\n   * \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.clear = function (avoidEmit) {\n    if (avoidEmit === void 0) {\n      avoidEmit = false;\n    }\n\n    var canvas = this.get('canvas');\n    canvas.clear();\n    this.initGroups(); // \n\n    this.set({\n      itemMap: {},\n      nodes: [],\n      edges: [],\n      groups: [],\n      combos: [],\n      comboTrees: []\n    });\n    if (!avoidEmit) this.emit('afterrender');\n    return this;\n  };\n  /**\n   * \n   * @param {object} cfg \n   *  cfg  type  String \n   *  cfg  type \n   */\n\n\n  AbstractGraph.prototype.updateLayout = function (cfg) {\n    var layoutController = this.get('layoutController');\n\n    if (isString(cfg)) {\n      cfg = {\n        type: cfg\n      };\n    }\n\n    var oriLayoutCfg = this.get('layout');\n    var layoutCfg = {};\n    Object.assign(layoutCfg, oriLayoutCfg, cfg);\n    this.set('layout', layoutCfg);\n\n    if (layoutController.isLayoutTypeSame(layoutCfg) && layoutCfg.gpuEnabled === oriLayoutCfg.gpuEnabled) {\n      // no type or same type, or switch the gpu and cpu, update layout\n      layoutController.updateLayoutCfg(layoutCfg);\n    } else {\n      // has different type, change layout\n      layoutController.changeLayout(layoutCfg);\n    }\n  };\n  /**\n   * changeData \n   */\n\n\n  AbstractGraph.prototype.destroyLayout = function () {\n    var layoutController = this.get('layoutController');\n    layoutController.destroyLayout();\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.layout = function () {\n    var layoutController = this.get('layoutController');\n    var layoutCfg = this.get('layout');\n    if (!layoutCfg || !layoutController) return;\n\n    if (layoutCfg.workerEnabled) {\n      // web worker\n      layoutController.layout();\n      return;\n    }\n\n    if (layoutController.layoutMethod) {\n      layoutController.relayout(true);\n    } else {\n      layoutController.layout();\n    }\n  };\n  /**\n   *  combo\n   * @param {string | ICombo} combo combo ID  combo item\n   */\n\n\n  AbstractGraph.prototype.collapseCombo = function (combo) {\n    var _this = this;\n\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo) {\n      console.warn('The combo to be collapsed does not exist!');\n      return;\n    }\n\n    this.emit('beforecollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n    var comboModel = combo.getModel();\n    var itemController = this.get('itemController');\n    itemController.collapseCombo(combo);\n    comboModel.collapsed = true; // add virtual edges\n\n    var edges = this.getEdges().concat(this.get('vedges')); // find all the descendant nodes and combos\n\n    var cnodes = [];\n    var ccombos = [];\n    var comboTrees = this.get('comboTrees');\n    var found = false;\n    (comboTrees || []).forEach(function (ctree) {\n      if (found) return; // if the combo is found, terminate the forEach\n\n      traverseTree(ctree, function (subTree) {\n        // if the combo is found and it is traversing the other branches, terminate\n        if (found && subTree.depth <= comboModel.depth) return false; // if the combo is found\n\n        if (comboModel.id === subTree.id) found = true;\n\n        if (found) {\n          // if the combo is found, concat the descendant nodes and combos\n          var item = _this.findById(subTree.id);\n\n          if (item && item.getType && item.getType() === 'combo') {\n            cnodes = cnodes.concat(item.getNodes());\n            ccombos = ccombos.concat(item.getCombos());\n          }\n        }\n\n        return true;\n      });\n    });\n    var edgeWeightMap = {};\n    var addedVEdges = [];\n    edges.forEach(function (edge) {\n      if (edge.isVisible() && !edge.getModel().isVEdge) return;\n      var source = edge.getSource();\n      var target = edge.getTarget();\n\n      if ((cnodes.includes(source) || ccombos.includes(source)) && !cnodes.includes(target) && !ccombos.includes(target) || source.getModel().id === comboModel.id) {\n        var edgeModel = edge.getModel();\n\n        if (edgeModel.isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var targetModel = target.getModel();\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.parentId || targetModel.comboId);\n          if (!target || !targetModel.parentId && !targetModel.comboId) return; // all the ancestors are hidden, then ignore the edge\n\n          targetModel = target.getModel();\n        }\n\n        var targetId = targetModel.id;\n\n        if (edgeWeightMap[comboModel.id + \"-\" + targetId]) {\n          edgeWeightMap[comboModel.id + \"-\" + targetId] += edgeModel.size || 1;\n          return;\n        } // the source is in the combo, the target is not\n\n\n        var vedge = _this.addItem('vedge', {\n          source: comboModel.id,\n          target: targetId,\n          isVEdge: true\n        }, false);\n\n        edgeWeightMap[comboModel.id + \"-\" + targetId] = edgeModel.size || 1;\n        addedVEdges.push(vedge);\n      } else if (!cnodes.includes(source) && !ccombos.includes(source) && (cnodes.includes(target) || ccombos.includes(target)) || target.getModel().id === comboModel.id) {\n        var edgeModel = edge.getModel();\n\n        if (edgeModel.isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var sourceModel = source.getModel();\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.parentId || sourceModel.comboId);\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) return; // all the ancestors are hidden, then ignore the edge\n\n          sourceModel = source.getModel();\n        }\n\n        var sourceId = sourceModel.id;\n\n        if (edgeWeightMap[sourceId + \"-\" + comboModel.id]) {\n          edgeWeightMap[sourceId + \"-\" + comboModel.id] += edgeModel.size || 1;\n          return;\n        } // the target is in the combo, the source is not\n\n\n        var vedge = _this.addItem('vedge', {\n          target: comboModel.id,\n          source: sourceId,\n          isVEdge: true\n        }, false);\n\n        edgeWeightMap[sourceId + \"-\" + comboModel.id] = edgeModel.size || 1;\n        addedVEdges.push(vedge);\n      }\n    }); // update the width of the virtual edges, which is the sum of merged actual edges\n    // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n    addedVEdges.forEach(function (vedge) {\n      var vedgeModel = vedge.getModel();\n\n      _this.updateItem(vedge, {\n        size: edgeWeightMap[vedgeModel.source + \"-\" + vedgeModel.target]\n      }, false);\n    });\n    this.emit('aftercollapseexpandcombo', {\n      action: 'collapse',\n      item: combo\n    });\n  };\n  /**\n   *  combo\n   * @param {string | ICombo} combo combo ID  combo item\n   */\n\n\n  AbstractGraph.prototype.expandCombo = function (combo) {\n    var _this = this;\n\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') {\n      console.warn('The combo to be collapsed does not exist!');\n      return;\n    }\n\n    this.emit('beforecollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n    var comboModel = combo.getModel();\n    var itemController = this.get('itemController');\n    itemController.expandCombo(combo);\n    comboModel.collapsed = false; // add virtual edges\n\n    var edges = this.getEdges().concat(this.get('vedges')); // find all the descendant nodes and combos\n\n    var cnodes = [];\n    var ccombos = [];\n    var comboTrees = this.get('comboTrees');\n    var found = false;\n    (comboTrees || []).forEach(function (ctree) {\n      if (found) return; // if the combo is found, terminate\n\n      traverseTree(ctree, function (subTree) {\n        // if the combo is found and it is traversing the other branches, terminate\n        if (found && subTree.depth <= comboModel.depth) return false;\n        if (comboModel.id === subTree.id) found = true;\n\n        if (found) {\n          var item = _this.findById(subTree.id);\n\n          if (item && item.getType && item.getType() === 'combo') {\n            cnodes = cnodes.concat(item.getNodes());\n            ccombos = ccombos.concat(item.getCombos());\n          }\n        }\n\n        return true;\n      });\n    });\n    var edgeWeightMap = {};\n    var addedVEdges = {};\n    edges.forEach(function (edge) {\n      if (edge.isVisible() && !edge.getModel().isVEdge) return;\n      var source = edge.getSource();\n      var target = edge.getTarget();\n      var sourceId = source.get('id');\n      var targetId = target.get('id');\n\n      if ((cnodes.includes(source) || ccombos.includes(source)) && !cnodes.includes(target) && !ccombos.includes(target) || sourceId === comboModel.id) {\n        // the source is in the combo, the target is not\n        // ignore the virtual edges\n        if (edge.getModel().isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var targetModel = target.getModel(); // find the nearest visible ancestor\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.comboId || targetModel.parentId);\n\n          if (!target || !targetModel.parentId && !targetModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          targetModel = target.getModel();\n        }\n\n        targetId = targetModel.id;\n        var sourceModel = source.getModel(); // find the nearest visible ancestor\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.comboId || sourceModel.parentId);\n\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          if (sourceModel.comboId === comboModel.id || sourceModel.parentId === comboModel.id) {\n            break; // if the next ancestor is the combo, break the while\n          }\n\n          sourceModel = source.getModel();\n        }\n\n        sourceId = sourceModel.id;\n\n        if (targetId) {\n          var vedgeId = sourceId + \"-\" + targetId; // update the width of the virtual edges, which is the sum of merged actual edges\n          // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n          if (edgeWeightMap[vedgeId]) {\n            edgeWeightMap[vedgeId] += edge.getModel().size || 1;\n\n            _this.updateItem(addedVEdges[vedgeId], {\n              size: edgeWeightMap[vedgeId]\n            }, false);\n\n            return;\n          }\n\n          var vedge = _this.addItem('vedge', {\n            source: sourceId,\n            target: targetId,\n            isVEdge: true\n          }, false);\n\n          edgeWeightMap[vedgeId] = edge.getModel().size || 1;\n          addedVEdges[vedgeId] = vedge;\n        }\n      } else if (!cnodes.includes(source) && !ccombos.includes(source) && (cnodes.includes(target) || ccombos.includes(target)) || targetId === comboModel.id) {\n        // the target is in the combo, the source is not\n        // ignore the virtual edges\n        if (edge.getModel().isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var sourceModel = source.getModel(); // find the nearest visible ancestor\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.comboId || sourceModel.parentId);\n\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          sourceModel = source.getModel();\n        }\n\n        sourceId = sourceModel.id;\n        var targetModel = target.getModel(); // find the nearest visible ancestor\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.comboId || targetModel.parentId);\n\n          if (!target || !targetModel.parentId && !targetModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          if (targetModel.comboId === comboModel.id || targetModel.parentId === comboModel.id) {\n            break; // if the next ancestor is the combo, break the while\n          }\n\n          targetModel = target.getModel();\n        }\n\n        targetId = targetModel.id;\n\n        if (sourceId) {\n          var vedgeId = sourceId + \"-\" + targetId; // update the width of the virtual edges, which is the sum of merged actual edges\n          // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n          if (edgeWeightMap[vedgeId]) {\n            edgeWeightMap[vedgeId] += edge.getModel().size || 1;\n\n            _this.updateItem(addedVEdges[vedgeId], {\n              size: edgeWeightMap[vedgeId]\n            }, false);\n\n            return;\n          }\n\n          var vedge = _this.addItem('vedge', {\n            target: targetId,\n            source: sourceId,\n            isVEdge: true\n          }, false);\n\n          edgeWeightMap[vedgeId] = edge.getModel().size || 1;\n          addedVEdges[vedgeId] = vedge;\n        }\n      } else if ((cnodes.includes(source) || ccombos.includes(source)) && (cnodes.includes(target) || ccombos.includes(target))) {\n        // both source and target are in the combo, if the target and source are both visible, show the edge\n        if (source.isVisible() && target.isVisible()) {\n          edge.show();\n        }\n      }\n    });\n    this.emit('aftercollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n  };\n\n  AbstractGraph.prototype.collapseExpandCombo = function (combo) {\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') return;\n    var comboModel = combo.getModel(); // if one ancestor combo of the combo is collapsed, it should not be collapsed or expanded\n\n    var parentItem = this.findById(comboModel.parentId);\n\n    while (parentItem) {\n      var parentModel = parentItem.getModel();\n\n      if (parentModel.collapsed) {\n        console.warn(\"Fail to expand the combo since it's ancestor combo is collapsed.\");\n        parentItem = undefined;\n        return;\n      }\n\n      parentItem = this.findById(parentModel.parentId);\n    }\n\n    var collapsed = comboModel.collapsed; // \n\n    if (collapsed) {\n      this.expandCombo(combo);\n    } else {\n      this.collapseCombo(combo);\n    }\n\n    this.updateCombo(combo);\n  };\n  /**\n   *  comboTree  Combo  Combo \n   * @param {GraphData} data \n   */\n\n\n  AbstractGraph.prototype.sortCombos = function () {\n    var _this = this;\n\n    var comboSorted = this.get('comboSorted');\n    if (comboSorted) return;\n    this.set('comboSorted', true);\n    var depthMap = [];\n    var dataDepthMap = {};\n    var comboTrees = this.get('comboTrees');\n    (comboTrees || []).forEach(function (cTree) {\n      traverseTree(cTree, function (child) {\n        if (depthMap[child.depth]) depthMap[child.depth].push(child.id);else depthMap[child.depth] = [child.id];\n        dataDepthMap[child.id] = child.depth;\n        return true;\n      });\n    });\n    var edges = this.getEdges().concat(this.get('vedges'));\n    (edges || []).forEach(function (edgeItem) {\n      var edge = edgeItem.getModel();\n      var sourceDepth = dataDepthMap[edge.source] || 0;\n      var targetDepth = dataDepthMap[edge.target] || 0;\n      var depth = Math.max(sourceDepth, targetDepth);\n      if (depthMap[depth]) depthMap[depth].push(edge.id);else depthMap[depth] = [edge.id];\n    });\n    depthMap.forEach(function (array) {\n      if (!array || !array.length) return;\n\n      for (var i = array.length - 1; i >= 0; i--) {\n        var item = _this.findById(array[i]);\n\n        if (item) item.toFront();\n      }\n    });\n  };\n  /**\n   * \n   *\n   * @param {(string | INode)} node  ID \n   * @returns {INode[]}\n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getNeighbors = function (node, type) {\n    var item = node;\n\n    if (isString(node)) {\n      item = this.findById(node);\n    }\n\n    return item.getNeighbors(type);\n  };\n  /**\n   *  node \n   *\n   * @param {(string | INode)} node  ID \n   * @param {('in' | 'out' | 'total' | 'all' | undefined)} in out total all \n   * @returns {Number | Object} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getNodeDegree = function (node, type, refresh) {\n    if (type === void 0) {\n      type = undefined;\n    }\n\n    if (refresh === void 0) {\n      refresh = false;\n    }\n\n    var item = node;\n\n    if (isString(node)) {\n      item = this.findById(node);\n    }\n\n    var degrees = this.get('degrees');\n\n    if (!degrees || refresh) {\n      degrees = getDegree(this.save());\n      this.set('degrees', degrees);\n    }\n\n    var nodeDegrees = degrees[item.getID()];\n    var res = 0; //  addItem  0\n\n    if (!nodeDegrees) {\n      return 0;\n    }\n\n    switch (type) {\n      case 'in':\n        res = nodeDegrees.inDegree;\n        break;\n\n      case 'out':\n        res = nodeDegrees.outDegree;\n        break;\n\n      case 'all':\n        res = nodeDegrees;\n        break;\n\n      default:\n        res = nodeDegrees.degree;\n        break;\n    }\n\n    return res;\n  };\n\n  AbstractGraph.prototype.getUndoStack = function () {\n    return this.undoStack;\n  };\n\n  AbstractGraph.prototype.getRedoStack = function () {\n    return this.redoStack;\n  };\n  /**\n   *  undo  redo \n   */\n\n\n  AbstractGraph.prototype.getStackData = function () {\n    if (!this.get('enabledStack')) {\n      return null;\n    }\n\n    return {\n      undoStack: this.undoStack.toArray(),\n      redoStack: this.redoStack.toArray()\n    };\n  };\n  /**\n   *  undo stack & redo stack\n   */\n\n\n  AbstractGraph.prototype.clearStack = function () {\n    if (this.get('enabledStack')) {\n      this.undoStack.clear();\n      this.redoStack.clear();\n    }\n  };\n  /**\n   * \n   * @param action \n   * @param data \n   * @param stackType \n   */\n\n\n  AbstractGraph.prototype.pushStack = function (action, data, stackType) {\n    if (action === void 0) {\n      action = 'update';\n    }\n\n    if (stackType === void 0) {\n      stackType = 'undo';\n    }\n\n    if (!this.get('enabledStack')) {\n      console.warn(' undo & redo  Graph  enabledStack: true !');\n      return;\n    }\n\n    var stackData = data ? clone(data) : {\n      before: {},\n      after: clone(this.save())\n    };\n\n    if (stackType === 'redo') {\n      this.redoStack.push({\n        action: action,\n        data: stackData\n      });\n    } else {\n      this.undoStack.push({\n        action: action,\n        data: stackData\n      });\n    }\n\n    this.emit('stackchange', {\n      undoStack: this.undoStack,\n      redoStack: this.redoStack\n    });\n  };\n  /**\n   * \n   *\n   * @param {boolean} cache \n   * @param {boolean} directed  graph.directed\n   * @returns {Matrix} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getAdjMatrix = function (cache, directed) {\n    if (cache === void 0) {\n      cache = true;\n    }\n\n    if (directed === undefined) directed = this.get('directed');\n    var currentAdjMatrix = this.get('adjMatrix');\n\n    if (!currentAdjMatrix || !cache) {\n      currentAdjMatrix = getAdjacentMatrix(this.save(), directed);\n      this.set('adjMatrix', currentAdjMatrix);\n    }\n\n    return currentAdjMatrix;\n  };\n  /**\n   * \n   *\n   * @param {boolean} cache \n   * @param {boolean} directed  graph.directed\n   * @returns {Matrix} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getShortestPathMatrix = function (cache, directed) {\n    if (cache === void 0) {\n      cache = true;\n    }\n\n    if (directed === undefined) directed = this.get('directed');\n    var currentAdjMatrix = this.get('adjMatrix');\n    var currentShourtestPathMatrix = this.get('shortestPathMatrix');\n\n    if (!currentAdjMatrix || !cache) {\n      currentAdjMatrix = getAdjacentMatrix(this.save(), directed);\n      this.set('adjMatrix', currentAdjMatrix);\n    }\n\n    if (!currentShourtestPathMatrix || !cache) {\n      currentShourtestPathMatrix = floydWarshall(this.save(), directed);\n      this.set('shortestPathMatrix', currentShourtestPathMatrix);\n    }\n\n    return currentShourtestPathMatrix;\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.on = function (eventName, callback, once) {\n    return _super.prototype.on.call(this, eventName, callback, once);\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.destroy = function () {\n    this.clear();\n    clearAnimationFrame(this.timeIndex); // \n\n    this.clearStack();\n    this.get('itemController').destroy();\n    this.get('modeController').destroy();\n    this.get('viewController').destroy();\n    this.get('stateController').destroy();\n    this.get('canvas').destroy();\n    this.cfg = null;\n    this.destroyed = true;\n    this.redoStack = null;\n    this.undoStack = null;\n  };\n  /**\n   * \n   * @param cfg HullCfg \n   */\n\n\n  AbstractGraph.prototype.createHull = function (cfg) {\n    if (!cfg.members || cfg.members.length < 1) {\n      console.warn('Create hull failed! The members is empty.');\n      return;\n    }\n\n    var parent = this.get('hullGroup');\n    var hullMap = this.get('hullMap');\n\n    if (!hullMap) {\n      hullMap = {};\n      this.set('hullMap', hullMap);\n    }\n\n    if (!parent || parent.get('destroyed')) {\n      parent = this.get('group').addGroup({\n        id: 'hullGroup'\n      });\n      parent.toBack();\n      this.set('hullGroup', parent);\n    }\n\n    if (hullMap[cfg.id]) {\n      console.warn('Existed hull id.');\n      return hullMap[cfg.id];\n    }\n\n    var group = parent.addGroup({\n      id: cfg.id + \"-container\"\n    });\n    var hull = new Hull(this, __assign(__assign({}, cfg), {\n      group: group\n    }));\n    var hullId = hull.id;\n    hullMap[hullId] = hull;\n    return hull;\n  };\n  /**\n   *  graph \n   * @return {[key: string]: Hull} Hull  maphullId  hull \n   */\n\n\n  AbstractGraph.prototype.getHulls = function () {\n    return this.get('hullMap');\n  };\n  /**\n   *  hullId  hull\n   * @return Hull\n   */\n\n\n  AbstractGraph.prototype.getHullById = function (hullId) {\n    return this.get('hullMap')[hullId];\n  };\n\n  AbstractGraph.prototype.removeHull = function (hull) {\n    var hullInstance;\n\n    if (isString(hull)) {\n      hullInstance = this.getHullById(hull);\n    } else {\n      hullInstance = hull;\n    }\n\n    var hullMap = this.get('hullMap');\n    delete hullMap[hullInstance.id];\n    hullInstance.destroy();\n  };\n\n  AbstractGraph.prototype.removeHulls = function () {\n    var hulls = this.getHulls();\n    if (!hulls || !Object.keys(hulls).length) return;\n    Object.keys(hulls).forEach(function (key) {\n      var hull = hulls[key];\n      hull.destroy();\n    });\n    this.set('hullMap', {});\n  };\n\n  AbstractGraph.prototype.onTick = function (timestamp) {\n    var layoutController = this.get('layoutController');\n    layoutController.onTick(timestamp);\n    this.timeIndex = requestAnimationFrame(this.onTick.bind(this));\n  };\n\n  return AbstractGraph;\n}(EventEmitter);\n\nexport default AbstractGraph;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { __assign } from \"tslib\";\nimport Global from '../global';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix, each, mix, isBoolean, isPlainObject, clone } from '@antv/util';\nimport { cloneBesidesImg } from '../util/graphic';\nvar transform = ext.transform;\nvar CLS_SHAPE_SUFFIX = '-shape';\nvar CLS_LABEL_SUFFIX = '-label';\nvar ARROWS = ['startArrow', 'endArrow'];\nvar SHAPE_DEFAULT_ATTRS = {\n  lineWidth: 1,\n  stroke: undefined,\n  fill: undefined,\n  lineAppendWidth: 1,\n  opacity: undefined,\n  strokeOpacity: undefined,\n  fillOpacity: undefined,\n  x: 0,\n  y: 0,\n  r: 10,\n  width: 20,\n  height: 20,\n  shadowColor: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0\n};\nvar PATH_SHAPE_DEFAULT_ATTRS = {\n  lineWidth: 1,\n  stroke: '#000',\n  lineDash: undefined,\n  startArrow: false,\n  endArrow: false,\n  opacity: undefined,\n  strokeOpacity: undefined,\n  fillOpacity: undefined,\n  shadowColor: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0\n};\nvar SHAPES_DEFAULT_ATTRS = {\n  edge: PATH_SHAPE_DEFAULT_ATTRS,\n  node: SHAPE_DEFAULT_ATTRS,\n  combo: SHAPE_DEFAULT_ATTRS\n};\nexport var CLS_LABEL_BG_SUFFIX = '-label-bg'; //  shape  label\n\nexport var shapeBase = {\n  // \n  options: {},\n  itemType: '',\n\n  /**\n   *  circleellipsepolyline...\n   */\n  type: '',\n  getCustomConfig: function getCustomConfig(cfg) {\n    return {};\n  },\n  getOptions: function getOptions(cfg) {\n    return deepMix({\n      // \n      labelCfg: {\n        style: {\n          fontFamily: typeof window !== 'undefined' && window.getComputedStyle ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n        }\n      },\n      descriptionCfg: {\n        style: {\n          fontFamily: typeof window !== 'undefined' && window.getComputedStyle ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n        }\n      }\n    }, this.options, this.getCustomConfig(cfg) || {}, cfg);\n  },\n\n  /**\n   * /\n   * @override\n   * @param  {Object} cfg \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  draw: function draw(cfg, group) {\n    var shape = this.drawShape(cfg, group);\n    shape.set('className', this.itemType + CLS_SHAPE_SUFFIX);\n\n    if (cfg.label) {\n      var label = this.drawLabel(cfg, group);\n      label.set('className', this.itemType + CLS_LABEL_SUFFIX);\n    }\n\n    return shape;\n  },\n\n  /**\n   * \n   * @param cfg\n   * @param group\n   * @param keyShape\n   */\n  afterDraw: function afterDraw(cfg, group, keyShape) {},\n  drawShape: function drawShape(cfg, group) {\n    return null;\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var defaultLabelCfg = this.getOptions(cfg).labelCfg; // imagenull\n\n    var labelCfg = defaultLabelCfg || {};\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    delete labelStyle.rotate;\n    var label = group.addShape('text', {\n      attrs: labelStyle,\n      draggable: true,\n      className: 'text-shape',\n      name: 'text-shape'\n    });\n\n    if (rotate) {\n      var labelBBox = label.getBBox();\n      var labelMatrix = label.getMatrix();\n\n      if (!labelMatrix) {\n        labelMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      }\n\n      if (labelStyle.rotateCenter) {\n        switch (labelStyle.rotateCenter) {\n          case 'center':\n            labelMatrix = transform(labelMatrix, [['t', -labelBBox.width / 2, -labelBBox.height / 2], ['r', rotate], ['t', labelBBox.width / 2, labelBBox.height / 2]]);\n            break;\n\n          case 'lefttop':\n            labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y], ['r', rotate], ['t', labelStyle.x, labelStyle.y]]);\n            break;\n\n          case 'leftcenter':\n            labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y - labelBBox.height / 2], ['r', rotate], ['t', labelStyle.x, labelStyle.y + labelBBox.height / 2]]);\n            break;\n\n          default:\n            labelMatrix = transform(labelMatrix, [['t', -labelBBox.width / 2, -labelBBox.height / 2], ['r', rotate], ['t', labelBBox.width / 2, labelBBox.height / 2]]);\n            break;\n        }\n      } else {\n        labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y - labelBBox.height / 2], ['r', rotate], ['t', labelStyle.x, labelStyle.y + labelBBox.height / 2]]);\n      }\n\n      label.setMatrix(labelMatrix);\n    }\n\n    if (labelStyle.background) {\n      var rect = this.drawLabelBg(cfg, group, label);\n      var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n      rect.set('classname', labelBgClassname);\n      label.toFront();\n    }\n\n    return label;\n  },\n  drawLabelBg: function drawLabelBg(cfg, group, label) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var labelCfg = mix({}, defaultLabelCfg, cfg.labelCfg);\n    var style = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n    var rect = group.addShape('rect', {\n      name: 'text-bg-shape',\n      attrs: style\n    });\n    return rect;\n  },\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg, group) {\n    return {\n      text: cfg.label\n    };\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    return {};\n  },\n\n  /**\n   * \n   * @param cfg \n   * @param labelCfg \n   * @param group label \n   */\n  getLabelStyle: function getLabelStyle(cfg, labelCfg, group) {\n    var calculateStyle = this.getLabelStyleByPosition(cfg, labelCfg, group);\n    var attrName = this.itemType + \"Label\"; //  nodeLabeledgeLabel \n\n    var defaultStyle = Global[attrName] ? Global[attrName].style : null;\n\n    var labelStyle = __assign(__assign(__assign({}, defaultStyle), calculateStyle), labelCfg.style);\n\n    return labelStyle;\n  },\n\n  /**\n   * \n   * @param cfg\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    return cfg.style;\n  },\n\n  /**\n   * \n   * @override\n   * @param  {Object} cfg /\n   * @param  {G6.Item} item /\n   */\n  update: function update(cfg, item) {\n    this.updateShapeStyle(cfg, item);\n    this.updateLabel(cfg, item);\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var shape = item.getKeyShape();\n    var shapeStyle = mix({}, shape.attr(), cfg.style);\n\n    var _loop_1 = function _loop_1(key) {\n      var _a;\n\n      var style = shapeStyle[key];\n\n      if (isPlainObject(style)) {\n        // \n        var subShape = group.find(function (element) {\n          return element.get('name') === key;\n        });\n\n        if (subShape) {\n          subShape.attr(style);\n        }\n      } else {\n        shape.attr((_a = {}, _a[key] = style, _a));\n      }\n    };\n\n    for (var key in shapeStyle) {\n      _loop_1(key);\n    }\n  },\n  updateLabel: function updateLabel(cfg, item) {\n    var group = item.getContainer();\n    var defaultLabelCfg = this.getOptions({}).labelCfg;\n    var labelClassName = this.itemType + CLS_LABEL_SUFFIX;\n    var label = group.find(function (element) {\n      return element.get('className') === labelClassName;\n    });\n    var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n    var labelBg = group.find(function (element) {\n      return element.get('classname') === labelBgClassname;\n    }); //  cfg.label = \"\" \n\n    if (cfg.label || cfg.label === '') {\n      //  label labellabel \n      if (!label) {\n        //  label label\n        var newLabel = this.drawLabel(cfg, group);\n        newLabel.set('className', labelClassName);\n      } else {\n        //  label getLabelStyle  label \n        //  style position, offset, ...\n        var currentLabelCfg = {};\n\n        if (item.getModel) {\n          currentLabelCfg = item.getModel().labelCfg;\n        } // \n\n\n        var labelCfg = deepMix({}, defaultLabelCfg, currentLabelCfg, cfg.labelCfg); // \n\n        var calculateStyle = this.getLabelStyleByPosition(cfg, labelCfg, group); //  nodeLabeledgeLabel \n\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : undefined;\n        var cfgBgStyle = labelCfg.style && labelCfg.style.background; // \b label  label.attr()/ label \n\n        var labelStyle = __assign(__assign(__assign({}, label.attr()), calculateStyle), cfgStyle);\n\n        var rotate = labelStyle.rotate;\n        delete labelStyle.rotate; //  label \n\n        if (rotate) {\n          // if G 4.x define the rotateAtStart, use it directly instead of using the following codes\n          var rotateMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          rotateMatrix = transform(rotateMatrix, [['t', -labelStyle.x, -labelStyle.y], ['r', rotate], ['t', labelStyle.x, labelStyle.y]]);\n          label.resetMatrix();\n          label.attr(__assign(__assign({}, labelStyle), {\n            matrix: rotateMatrix\n          }));\n        } else {\n          label.resetMatrix();\n          label.attr(labelStyle);\n        }\n\n        if (!labelBg) {\n          if (labelStyle.background) {\n            labelBg = this.drawLabelBg(cfg, group, label);\n            labelBg.set('classname', labelBgClassname);\n            label.toFront();\n          }\n        } else if (labelStyle.background) {\n          var calculateBgStyle = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n\n          var labelBgStyle = __assign(__assign({}, calculateBgStyle), cfgBgStyle);\n\n          labelBg.resetMatrix();\n\n          if (rotate) {\n            var bgRotateMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n            bgRotateMatrix = transform(bgRotateMatrix, [['t', -labelBgStyle.x, -labelBgStyle.y], ['r', rotate], ['t', labelBgStyle.x, labelBgStyle.y]]);\n            labelBgStyle.matrix = bgRotateMatrix;\n          }\n\n          labelBg.attr(labelBgStyle);\n        } else {\n          group.removeChild(labelBg);\n        }\n      }\n    }\n  },\n  // update(cfg, item) // \n  afterUpdate: function afterUpdate(cfg, item) {},\n\n  /**\n   *  draw \n   *  selectedactive \n   * @override\n   * @param  {String} name \n   * @param  {String | Boolean} value \n   * @param  {G6.Item} item \n   */\n  setState: function setState(name, value, item) {\n    var _a, _b;\n\n    var shape = item.get('keyShape');\n    if (!shape || shape.destroyed) return;\n    var type = item.getType();\n    var stateName = isBoolean(value) ? name : name + \":\" + value;\n    var shapeStateStyle = this.getStateStyle(stateName, item);\n    var itemStateStyle = item.getStateStyle(stateName); // const originStyle = item.getOriginStyle();\n    // \n\n    if (!itemStateStyle && !shapeStateStyle) {\n      return;\n    } // \n    //  state  model.stateStyles \n\n\n    var styles = mix({}, itemStateStyle || shapeStateStyle);\n    var group = item.getContainer(); //  states \n\n    var keptAttrs = {\n      x: 1,\n      y: 1,\n      cx: 1,\n      cy: 1\n    };\n\n    if (type === 'combo') {\n      keptAttrs.r = 1;\n      keptAttrs.width = 1;\n      keptAttrs.height = 1;\n    }\n\n    if (value) {\n      var _loop_2 = function _loop_2(key) {\n        var _c;\n\n        var style = styles[key];\n\n        if (isPlainObject(style) && !ARROWS.includes(key)) {\n          var subShape = group.find(function (element) {\n            return element.get('name') === key;\n          });\n\n          if (subShape) {\n            subShape.attr(style);\n          }\n        } else {\n          //  keyShape \n          shape.attr((_c = {}, _c[key] = style, _c));\n        }\n      }; // style \n\n\n      for (var key in styles) {\n        _loop_2(key);\n      }\n    } else {\n      //  state \n      var enableStatesStyle = cloneBesidesImg(item.getCurrentStatesStyle());\n      var model = item.getModel(); // \n\n      var originStyle_1 = mix({}, model.style, cloneBesidesImg(item.getOriginStyle()));\n      var keyShapeName_1 = shape.get('name'); // cloning  shape.attr(), keys.forEach to avoid cloning the img attr, which leads to maximum clone heap #2383\n      // const keyShapeStyles = clone(shape.attr())\n\n      var shapeAttrs_1 = shape.attr();\n      var keyShapeStyles_1 = {};\n      Object.keys(shapeAttrs_1).forEach(function (key) {\n        if (key === 'img') return;\n        var attr = shapeAttrs_1[key];\n\n        if (attr && _typeof(attr) === 'object') {\n          keyShapeStyles_1[key] = clone(attr);\n        } else {\n          keyShapeStyles_1[key] = attr;\n        }\n      }); //  - \n\n      var filtetDisableStatesStyle = {};\n\n      var _loop_3 = function _loop_3(p) {\n        var style = styles[p];\n\n        if (isPlainObject(style) && !ARROWS.includes(p)) {\n          var subShape_1 = group.find(function (element) {\n            return element.get('name') === p;\n          });\n\n          if (subShape_1) {\n            var subShapeStyles_1 = clone(subShape_1.attr());\n            each(style, function (v, key) {\n              if (p === keyShapeName_1 && keyShapeStyles_1[key] && !keptAttrs[key]) {\n                delete keyShapeStyles_1[key];\n                var value_1 = originStyle_1[p][key] || SHAPES_DEFAULT_ATTRS[type][key];\n                shape.attr(key, value_1);\n              } else if (subShapeStyles_1[key] || subShapeStyles_1[key] === 0) {\n                delete subShapeStyles_1[key];\n                var value_2 = originStyle_1[p][key] || SHAPES_DEFAULT_ATTRS[type][key];\n                subShape_1.attr(key, value_2);\n              }\n            });\n            filtetDisableStatesStyle[p] = subShapeStyles_1;\n          }\n        } else {\n          if (keyShapeStyles_1[p] && !keptAttrs[p]) {\n            delete keyShapeStyles_1[p];\n            var value_3 = originStyle_1[p] || (originStyle_1[keyShapeName_1] ? originStyle_1[keyShapeName_1][p] : undefined) || SHAPES_DEFAULT_ATTRS[type][p];\n            shape.attr(p, value_3);\n          }\n        }\n      }; // styles \n\n\n      for (var p in styles) {\n        _loop_3(p);\n      } //  states \n      //  keyShape  name  filtetDisableStatesStyle  { keyShapeName: {} }\n      // \n\n\n      if (!keyShapeName_1) {\n        mix(filtetDisableStatesStyle, keyShapeStyles_1);\n      } else {\n        filtetDisableStatesStyle[keyShapeName_1] = keyShapeStyles_1;\n      }\n\n      for (var key in enableStatesStyle) {\n        if (keptAttrs[key]) continue;\n        var enableStyle = enableStatesStyle[key];\n\n        if (!isPlainObject(enableStyle) || ARROWS.includes(key)) {\n          // mergekeyShape\n          if (!keyShapeName_1) {\n            mix(originStyle_1, (_a = {}, _a[key] = enableStyle, _a));\n          } else {\n            mix(originStyle_1[keyShapeName_1], (_b = {}, _b[key] = enableStyle, _b));\n            delete originStyle_1[key];\n          }\n\n          delete enableStatesStyle[key];\n        }\n      }\n\n      var originstyles = {};\n      deepMix(originstyles, originStyle_1, filtetDisableStatesStyle, enableStatesStyle);\n      var keyShapeSetted = false;\n\n      var _loop_4 = function _loop_4(originKey) {\n        var _d, _e;\n\n        var style = originstyles[originKey];\n\n        if (isPlainObject(style) && !ARROWS.includes(originKey)) {\n          var subShape = group.find(function (element) {\n            return element.get('name') === originKey;\n          });\n\n          if (subShape) {\n            if (originKey === keyShapeName_1) {\n              if (type === 'combo') {\n                delete style.r;\n                delete style.width;\n                delete style.height;\n              }\n\n              keyShapeSetted = true;\n            }\n\n            subShape.attr(style);\n          }\n        } else if (!keyShapeSetted) {\n          var value_4 = style || SHAPES_DEFAULT_ATTRS[type][originKey]; //  combo  keyShapeName  keyShape \n\n          if (type === 'combo') {\n            if (!keyShapeName_1) {\n              shape.attr((_d = {}, _d[originKey] = value_4, _d));\n            }\n          } else {\n            shape.attr((_e = {}, _e[originKey] = value_4, _e));\n          }\n        }\n      };\n\n      for (var originKey in originstyles) {\n        _loop_4(originKey);\n      }\n    }\n  },\n\n  /**\n   * \n   *\n   * @param {string} name \n   * @param {Item} item NodeEdge\n   * @return {object} \n   */\n  getStateStyle: function getStateStyle(name, item) {\n    var model = item.getModel();\n    var type = item.getType();\n\n    var _a = this.getOptions(model),\n        stateStyles = _a.stateStyles,\n        _b = _a.style,\n        style = _b === void 0 ? {} : _b;\n\n    var modelStateStyle = model.stateStyles ? model.stateStyles[name] : stateStyles && stateStyles[name];\n\n    if (type === 'combo') {\n      return clone(modelStateStyle);\n    }\n\n    return mix({}, style, modelStateStyle);\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(cfg) {\n    var anchorPoints = this.getOptions(cfg).anchorPoints;\n    return anchorPoints;\n  }\n};","import { __assign } from \"tslib\";\nimport { isArray, isNil, mix } from '@antv/util';\nimport { formatPadding } from '../util/base';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleNode = {\n  itemType: 'node',\n  // \n  shapeType: 'single-node',\n\n  /**\n   * \n   *  top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'center',\n\n  /**\n   *  labelPosition  center \n   * @type {Number}\n   */\n  offset: Global.nodeLabel.offset,\n\n  /**\n   * \n   * @internal  [width, height] \n   * @param  {Object} cfg \n   * @return {Array} \n   */\n  getSize: function getSize(cfg) {\n    var size = cfg.size || this.getOptions({}).size || Global.defaultNode.size; // size 12\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size \n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  // \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition; // \n\n    if (labelPosition === 'center') {\n      return {\n        x: 0,\n        y: 0,\n        text: cfg.label\n      };\n    }\n\n    var offset = labelCfg.offset;\n\n    if (isNil(offset)) {\n      //  offset = 0  labelCfg.offset || Global.nodeLabel.offset\n      offset = this.offset; // \n    }\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: 0 - height / 2 - offset,\n          textBaseline: 'bottom' // \n\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: height / 2 + offset,\n          textBaseline: 'top'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - width / 2 - offset,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n\n      default:\n        style = {\n          x: width / 2 + offset,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    if (!label) {\n      return {};\n    }\n\n    var bbox = label.getBBox();\n    var backgroundStyle = labelCfg.style && labelCfg.style.background;\n\n    if (!backgroundStyle) {\n      return {};\n    }\n\n    var padding = formatPadding(backgroundStyle.padding);\n    var backgroundWidth = bbox.width + padding[1] + padding[3];\n    var backgroundHeight = bbox.height + padding[0] + padding[2];\n    var offset = labelCfg.offset;\n\n    if (isNil(offset)) {\n      //  offset = 0  labelCfg.offset || Global.nodeLabel.offset\n      offset = this.offset; // \n    }\n\n    var style;\n    style = {\n      x: bbox.minX - padding[3],\n      y: bbox.minY - padding[0]\n    };\n    style = __assign(__assign(__assign({}, style), backgroundStyle), {\n      width: backgroundWidth,\n      height: backgroundHeight\n    });\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'node-shape'\n    });\n    return shape;\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions(cfg).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-bottom';\n    });\n    var currentLinkPoints;\n\n    if (markLeft) {\n      currentLinkPoints = markLeft.attr();\n    }\n\n    if (markRight && !currentLinkPoints) {\n      currentLinkPoints = markRight.attr();\n    }\n\n    if (markTop && !currentLinkPoints) {\n      currentLinkPoints = markTop.attr();\n    }\n\n    if (markBottom && !currentLinkPoints) {\n      currentLinkPoints = markBottom.attr();\n    }\n\n    if (!currentLinkPoints) currentLinkPoints = defaultLinkPoints;\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      bottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        bottom = _a.bottom;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: -width / 2,\n          y: 0\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: -width / 2,\n          y: 0\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      }\n\n      markRight.attr(__assign(__assign({}, styles), {\n        x: width / 2,\n        y: 0\n      }));\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: width / 2,\n          y: 0\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      }\n\n      markTop.attr(__assign(__assign({}, styles), {\n        x: 0,\n        y: -height / 2\n      }));\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: -height / 2\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markBottom) {\n      if (!bottom && bottom !== undefined) {\n        markBottom.remove();\n      } else {\n        markBottom.attr(__assign(__assign({}, styles), {\n          x: 0,\n          y: height / 2\n        }));\n      }\n    } else if (bottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: height / 2\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle, hasIcon) {\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign({}, keyShapeStyle));\n    this.updateLabel(cfg, item); // special for some types of nodes\n\n    if (hasIcon) {\n      this.updateIcon(cfg, item);\n    }\n  },\n  updateIcon: function updateIcon(cfg, item) {\n    var _this = this;\n\n    var group = item.getContainer();\n    var icon = this.getOptions(cfg).icon;\n    var show = (cfg.icon ? cfg.icon : {\n      show: undefined\n    }).show;\n    var iconShape = group.find(function (element) {\n      return element.get('className') === _this.type + \"-icon\";\n    });\n\n    if (iconShape) {\n      //  icon\n      if (show || show === undefined) {\n        //  show: true,  icon \n        var iconConfig = mix({}, iconShape.attr(), icon);\n        var w = iconConfig.width,\n            h = iconConfig.height;\n        iconShape.attr(__assign(__assign({}, iconConfig), {\n          x: -w / 2,\n          y: -h / 2\n        }));\n      } else {\n        //  show: false  icon\n        iconShape.remove();\n      }\n    } else if (show) {\n      //  icon show: true icon\n      var w = icon.width,\n          h = icon.height;\n      group.addShape('image', {\n        attrs: __assign(__assign({}, icon), {\n          x: -w / 2,\n          y: -h / 2\n        }),\n        className: this.type + \"-icon\",\n        name: this.type + \"-icon\"\n      }); // to ensure the label is on the top of all the shapes\n\n      var labelShape = group.find(function (element) {\n        return element.get('className') === \"node-label\";\n      });\n\n      if (labelShape) {\n        labelShape.toFront();\n      }\n    }\n  }\n};\n\nvar singleNodeDef = __assign(__assign({}, shapeBase), singleNode);\n\nShape.registerNode('single-node', singleNodeDef);","/**\n * @fileOverview \n * @description  mixin \n */\nimport { __assign } from \"tslib\";\nimport { deepMix, mix, each, isNil, isNumber, isArray } from '@antv/util';\nimport { getLabelPosition, getLoopCfgs } from '../util/graphic';\nimport { distance, getCircleCenterByPoints } from '../util/math';\nimport { getControlPoint, getSpline } from '../util/path';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase, CLS_LABEL_BG_SUFFIX } from './shapeBase';\nvar CLS_SHAPE = 'edge-shape'; // start,end center \n\nfunction revertAlign(labelPosition) {\n  var textAlign = labelPosition;\n\n  if (labelPosition === 'start') {\n    textAlign = 'end';\n  } else if (labelPosition === 'end') {\n    textAlign = 'start';\n  }\n\n  return textAlign;\n}\n\nvar singleEdge = {\n  itemType: 'edge',\n\n  /**\n   * \n   * @type {String}\n   */\n  labelPosition: 'center',\n\n  /**\n   *  x \n   * @type {Number}\n   */\n  refX: 0,\n\n  /**\n   *  y \n   * @type {Number}\n   */\n  refY: 0,\n\n  /**\n   *  false\n   * @type {Boolean}\n   */\n  labelAutoRotate: false,\n  // \n  options: {\n    size: Global.defaultEdge.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n\n  /**\n   *  path\n   * @internal \n   * @param  {Array} points \n   * @return {Array}  path \n   */\n  getPath: function getPath(points) {\n    var path = [];\n    each(points, function (point, index) {\n      if (index === 0) {\n        path.push(['M', point.x, point.y]);\n      } else {\n        path.push(['L', point.x, point.y]);\n      }\n    });\n    return path;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = cfg.size || Global.defaultEdge.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var path = this.getPath(points);\n    var styles = mix({}, Global.defaultEdge.style, {\n      stroke: Global.defaultEdge.color,\n      lineWidth: size,\n      path: path\n    }, style);\n    return styles;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var routeCfg = {\n      radius: previousStyle.radius\n    };\n\n    if (!controlPoints) {\n      routeCfg = {\n        source: source,\n        target: target,\n        offset: previousStyle.offset,\n        radius: previousStyle.radius\n      };\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var path = this.getPath(points, routeCfg);\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg, group) {\n    var labelPosition = labelCfg.position || this.labelPosition; // \n\n    var style = {};\n    var pathShape = group && group.find(function (element) {\n      return element.get('className') === CLS_SHAPE;\n    }); //  pathShape \n\n    var pointPercent;\n\n    if (labelPosition === 'start') {\n      pointPercent = 0;\n    } else if (labelPosition === 'end') {\n      pointPercent = 1;\n    } else {\n      pointPercent = 0.5;\n    } // \n\n\n    var offsetX = labelCfg.refX || this.refX;\n    var offsetY = labelCfg.refY || this.refY; // label + \n\n    if (cfg.startPoint.x === cfg.endPoint.x && cfg.startPoint.y === cfg.endPoint.y) {\n      style.x = cfg.startPoint.x + offsetX;\n      style.y = cfg.startPoint.y + offsetY;\n      style.text = cfg.label;\n      return style;\n    }\n\n    var autoRotate;\n    if (isNil(labelCfg.autoRotate)) autoRotate = this.labelAutoRotate;else autoRotate = labelCfg.autoRotate;\n    var offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX, offsetY, autoRotate);\n    style.x = offsetStyle.x;\n    style.y = offsetStyle.y;\n    style.rotate = offsetStyle.rotate;\n    style.textAlign = this._getTextAlign(labelPosition, offsetStyle.angle);\n    style.text = cfg.label;\n    return style;\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    if (!label) {\n      return {};\n    }\n\n    var bbox = label.getBBox();\n    var backgroundStyle = labelCfg.style && labelCfg.style.background;\n\n    if (!backgroundStyle) {\n      return {};\n    }\n\n    var padding = backgroundStyle.padding;\n    var backgroundWidth = bbox.width + padding[1] + padding[3];\n    var backgroundHeight = bbox.height + padding[0] + padding[2];\n    var labelPosition = labelCfg.position || this.labelPosition;\n\n    var style = __assign(__assign({}, backgroundStyle), {\n      width: backgroundWidth,\n      height: backgroundHeight,\n      x: bbox.minX - padding[2],\n      y: bbox.minY - padding[0],\n      rotate: 0\n    });\n\n    var autoRotate;\n    if (isNil(labelCfg.autoRotate)) autoRotate = this.labelAutoRotate;else autoRotate = labelCfg.autoRotate;\n    var pathShape = group && group.find(function (element) {\n      return element.get('className') === CLS_SHAPE;\n    }); //  pathShape \n\n    var pointPercent;\n\n    if (labelPosition === 'start') {\n      pointPercent = 0;\n    } else if (labelPosition === 'end') {\n      pointPercent = 1;\n    } else {\n      pointPercent = 0.5;\n    } // \n\n\n    var offsetX = labelCfg.refX || this.refX;\n    var offsetY = labelCfg.refY || this.refY; // // label + \n\n    if (cfg.startPoint.x === cfg.endPoint.x && cfg.startPoint.y === cfg.endPoint.y) {\n      style.x = cfg.startPoint.x + offsetX - backgroundWidth / 2;\n      style.y = cfg.startPoint.y + offsetY - backgroundHeight / 2;\n      return style;\n    }\n\n    var offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX - backgroundWidth / 2, offsetY + backgroundHeight / 2, autoRotate);\n    var rad = offsetStyle.angle;\n\n    if (rad > 1 / 2 * Math.PI && rad < 3 * 1 / 2 * Math.PI) {\n      offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX + backgroundWidth / 2, offsetY + backgroundHeight / 2, autoRotate);\n    }\n\n    if (autoRotate) {\n      style.x = offsetStyle.x;\n      style.y = offsetStyle.y;\n    }\n\n    style.rotate = offsetStyle.rotate;\n    return style;\n  },\n  // \n  _getTextAlign: function _getTextAlign(labelPosition, angle) {\n    var textAlign = 'center';\n\n    if (!angle) {\n      return labelPosition;\n    }\n\n    angle = angle % (Math.PI * 2); // \n\n    if (labelPosition !== 'center') {\n      if (angle >= 0 && angle <= Math.PI / 2 || angle >= 3 / 2 * Math.PI && angle < 2 * Math.PI) {\n        textAlign = labelPosition;\n      } else {\n        textAlign = revertAlign(labelPosition);\n      }\n    }\n\n    return textAlign;\n  },\n\n  /**\n   * @internal \n   * @param  {Object} cfg \n   * @return {Array} \n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * @internal \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getPathPoints: function getPathPoints(cfg) {\n    return cfg;\n  },\n\n  /**\n   * \n   * @override\n   * @param  {Object} cfg   \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    var shape = group.addShape('path', {\n      className: CLS_SHAPE,\n      name: CLS_SHAPE,\n      attrs: shapeStyle\n    });\n    return shape;\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var defaultFontFamily;\n    if (typeof window !== 'undefined' && typeof window.getComputedStyle !== 'undefined') defaultFontFamily = window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif';else defaultFontFamily = 'Arial, sans-serif';\n    var labelCfg = deepMix({\n      fontFamily: defaultFontFamily\n    }, defaultLabelCfg, cfg.labelCfg);\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    delete labelStyle.rotate;\n    var label = group.addShape('text', {\n      attrs: labelStyle,\n      name: 'text-shape'\n    });\n\n    if (rotate) {\n      label.rotateAtStart(rotate);\n    }\n\n    if (labelStyle.background) {\n      var rect = this.drawLabelBg(cfg, group, label);\n      var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n      rect.set('classname', labelBgClassname);\n      label.toFront();\n    }\n\n    return label;\n  },\n  drawLabelBg: function drawLabelBg(cfg, group, label) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var labelCfg = deepMix({}, defaultLabelCfg, cfg.labelCfg);\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    var style = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n    delete style.rotate;\n    var rect = group.addShape('rect', {\n      name: 'text-bg-shape',\n      attrs: style\n    });\n    if (rotate) rect.rotateAtStart(rotate);\n    return rect;\n  }\n};\n\nvar singleEdgeDef = __assign(__assign({}, shapeBase), singleEdge);\n\nShape.registerEdge('single-edge', singleEdgeDef); // , \n\nShape.registerEdge('line', {\n  // \n  getControlPoints: function getControlPoints() {\n    return undefined;\n  }\n}, 'single-edge'); // \n\nShape.registerEdge('spline', {\n  getPath: function getPath(points) {\n    var path = getSpline(points);\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('arc', {\n  curveOffset: 20,\n  clockwise: 1,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var midPoint = {\n      x: (startPoint.x + endPoint.x) / 2,\n      y: (startPoint.y + endPoint.y) / 2\n    };\n    var center;\n    var arcPoint; // \n\n    if (cfg.controlPoints !== undefined) {\n      arcPoint = cfg.controlPoints[0];\n      center = getCircleCenterByPoints(startPoint, arcPoint, endPoint); //  clockwise\n\n      if (startPoint.x <= endPoint.x && startPoint.y > endPoint.y) {\n        this.clockwise = center.x > arcPoint.x ? 0 : 1;\n      } else if (startPoint.x <= endPoint.x && startPoint.y < endPoint.y) {\n        this.clockwise = center.x > arcPoint.x ? 1 : 0;\n      } else if (startPoint.x > endPoint.x && startPoint.y <= endPoint.y) {\n        this.clockwise = center.y < arcPoint.y ? 0 : 1;\n      } else {\n        this.clockwise = center.y < arcPoint.y ? 1 : 0;\n      } // \n\n\n      if ((arcPoint.x - startPoint.x) / (arcPoint.y - startPoint.y) === (endPoint.x - startPoint.x) / (endPoint.y - startPoint.y)) {\n        return [];\n      }\n    } else {\n      // \n      // \n      if (cfg.curveOffset === undefined) {\n        cfg.curveOffset = this.curveOffset;\n      }\n\n      if (isArray(cfg.curveOffset)) {\n        cfg.curveOffset = cfg.curveOffset[0];\n      }\n\n      if (cfg.curveOffset < 0) {\n        this.clockwise = 0;\n      } else {\n        this.clockwise = 1;\n      }\n\n      var vec = {\n        x: endPoint.x - startPoint.x,\n        y: endPoint.y - startPoint.y\n      };\n      var edgeAngle = Math.atan2(vec.y, vec.x);\n      arcPoint = {\n        x: cfg.curveOffset * Math.cos(-Math.PI / 2 + edgeAngle) + midPoint.x,\n        y: cfg.curveOffset * Math.sin(-Math.PI / 2 + edgeAngle) + midPoint.y\n      };\n      center = getCircleCenterByPoints(startPoint, arcPoint, endPoint);\n    }\n\n    var radius = distance(startPoint, center);\n    var controlPoints = [{\n      x: radius,\n      y: radius\n    }];\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]); // \n\n    if (points.length === 2) {\n      path.push(['L', points[1].x, points[1].y]);\n    } else {\n      path.push(['A', points[1].x, points[1].y, 0, 0, this.clockwise, points[2].x, points[2].y]);\n    }\n\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('quadratic', {\n  curvePosition: 0.5,\n  curveOffset: -20,\n  getControlPoints: function getControlPoints(cfg) {\n    var controlPoints = cfg.controlPoints; // controlPoints\n\n    if (!controlPoints || !controlPoints.length) {\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n      if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n      if (isArray(this.curveOffset)) cfg.curveOffset = cfg.curveOffset[0];\n      if (isArray(this.curvePosition)) cfg.curvePosition = cfg.curveOffset[0];\n      var innerPoint = getControlPoint(startPoint, endPoint, cfg.curvePosition, cfg.curveOffset);\n      controlPoints = [innerPoint];\n    }\n\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]);\n    path.push(['Q', points[1].x, points[1].y, points[2].x, points[2].y]);\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('cubic', {\n  curvePosition: [1 / 2, 1 / 2],\n  curveOffset: [-20, 20],\n  getControlPoints: function getControlPoints(cfg) {\n    var controlPoints = cfg.controlPoints; //  controlPoints\n\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n\n    if (!controlPoints || !controlPoints.length || controlPoints.length < 2) {\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      var innerPoint1 = getControlPoint(startPoint, endPoint, cfg.curvePosition[0], cfg.curveOffset[0]);\n      var innerPoint2 = getControlPoint(startPoint, endPoint, cfg.curvePosition[1], cfg.curveOffset[1]);\n      controlPoints = [innerPoint1, innerPoint2];\n    }\n\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]);\n    path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    return path;\n  }\n}, 'single-edge'); // \n\nShape.registerEdge('cubic-vertical', {\n  curvePosition: [1 / 2, 1 / 2],\n  minCurveOffset: [0, 0],\n  curveOffset: undefined,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.minCurveOffset === undefined) cfg.minCurveOffset = this.minCurveOffset;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.minCurveOffset)) cfg.minCurveOffset = [cfg.minCurveOffset, -cfg.minCurveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n    var yDist = endPoint.y - startPoint.y;\n    var curveOffset = [0, 0];\n\n    if (cfg.curveOffset) {\n      curveOffset = cfg.curveOffset;\n    } else if (Math.abs(yDist) < Math.abs(cfg.minCurveOffset[0])) {\n      curveOffset = cfg.minCurveOffset;\n    }\n\n    var innerPoint1 = {\n      x: startPoint.x,\n      y: startPoint.y + yDist * this.curvePosition[0] + curveOffset[0]\n    };\n    var innerPoint2 = {\n      x: endPoint.x,\n      y: endPoint.y - yDist * this.curvePosition[1] + curveOffset[1]\n    };\n    return [innerPoint1, innerPoint2];\n  }\n}, 'cubic'); // \n\nShape.registerEdge('cubic-horizontal', {\n  curvePosition: [1 / 2, 1 / 2],\n  minCurveOffset: [0, 0],\n  curveOffset: undefined,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.minCurveOffset === undefined) cfg.minCurveOffset = this.minCurveOffset;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.minCurveOffset)) cfg.minCurveOffset = [cfg.minCurveOffset, -cfg.minCurveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n    var xDist = endPoint.x - startPoint.x;\n    var curveOffset = [0, 0];\n\n    if (cfg.curveOffset) {\n      curveOffset = cfg.curveOffset;\n    } else if (Math.abs(xDist) < Math.abs(cfg.minCurveOffset[0])) {\n      curveOffset = cfg.minCurveOffset;\n    }\n\n    var innerPoint1 = {\n      x: startPoint.x + xDist * this.curvePosition[0] + curveOffset[0],\n      y: startPoint.y\n    };\n    var innerPoint2 = {\n      x: endPoint.x - xDist * this.curvePosition[1] + curveOffset[1],\n      y: endPoint.y\n    };\n    var controlPoints = [innerPoint1, innerPoint2];\n    return controlPoints;\n  }\n}, 'cubic');\nShape.registerEdge('loop', {\n  getPathPoints: function getPathPoints(cfg) {\n    return getLoopCfgs(cfg);\n  },\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n  afterDraw: function afterDraw(cfg) {\n    cfg.controlPoints = undefined;\n  },\n  afterUpdate: function afterUpdate(cfg) {\n    cfg.controlPoints = undefined;\n  }\n}, 'cubic');","import { __assign } from \"tslib\";\nimport { isArray, isNil, clone } from '@antv/util';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleCombo = {\n  itemType: 'combo',\n  // \n  shapeType: 'single-combo',\n\n  /**\n   * Combo  top\n   *  top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'top',\n\n  /**\n   *  labelPosition  center \n   * @type {Number}\n   */\n  refX: Global.comboLabel.refX,\n  refY: Global.comboLabel.refY,\n  options: {\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n\n  /**\n   *  Combo \n   * @internal  Combo  [width, height] \n   * @param  {Object} cfg Combo \n   * @return {Array} \n   */\n  getSize: function getSize(cfg) {\n    var size = clone(cfg.size || this.options.size || Global.defaultCombo.size); // size  1 2\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size \n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  //  Combo \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; //  refX  refY = 0  labelCfg.refX || Global.nodeLabel.refX\n\n    if (isNil(refX)) {\n      refX = this.refX; // \n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // \n    }\n\n    var size = this.getSize(cfg);\n    var r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    var dis = r + padding;\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: -dis - refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: dis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: -dis + refX,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: dis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'combo-shape'\n    });\n    return shape;\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var keyShape = item.get('keyShape');\n    var animate = cfg.animate === undefined ? this.options.animate : cfg.animate;\n\n    if (animate && keyShape.animate) {\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear'\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n    }\n\n    this.updateLabel(cfg, item); // special for some types of nodes\n  }\n};\n\nvar singleComboDef = __assign(__assign({}, shapeBase), singleCombo);\n\nShape.registerCombo('single-combo', singleComboDef);","import { __assign } from \"tslib\";\nimport Global from '../../global';\nimport Shape from '../shape';\nimport { isNumber, clone, mix, isArray } from '@antv/util'; //  Combo\n\nShape.registerCombo('circle', {\n  // \n  options: {\n    size: [Global.defaultCombo.size[0], Global.defaultCombo.size[0]],\n    padding: Global.defaultCombo.padding[0],\n    animate: true,\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      },\n      refX: 0,\n      refY: 0\n    },\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    delete style.height;\n    delete style.width;\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: 'circle-combo',\n      name: 'circle-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   *  Combo  Combo \n   * @param {Object} cfg Combo \n   * @return {Object} Combo \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var r;\n\n    if (cfg.fixSize) {\n      r = isNumber(cfg.fixSize) ? cfg.fixSize : cfg.fixSize[0];\n    } else {\n      var size = this.getSize(cfg);\n      if (!isNumber(style.r) || isNaN(style.r)) r = size[0] / 2 || Global.defaultCombo.style.r;else r = Math.max(style.r, size[0] / 2) || size[0] / 2;\n    }\n\n    style.r = r + padding;\n\n    var styles = __assign({\n      x: 0,\n      y: 0\n    }, style);\n\n    if (cfg.style) cfg.style.r = r;else {\n      cfg.style = {\n        r: r\n      };\n    }\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var cfgStyle = clone(cfg.style);\n    var r;\n\n    if (cfg.fixSize) {\n      r = isNumber(cfg.fixSize) ? cfg.fixSize : cfg.fixSize[0];\n    } else {\n      r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    }\n\n    cfgStyle.r = r + padding;\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.r = cfgStyle.r;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n    if (cfg.style) cfg.style.r = r;else {\n      cfg.style = {\n        r: r\n      };\n    }\n    this.updateShape(cfg, item, style, true);\n  }\n}, 'single-combo');","import { __assign } from \"tslib\";\nimport { mix, isNumber, clone, isNil } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerCombo('rect', {\n  //  Combo \n  options: {\n    size: [40, 5],\n    padding: [25, 20, 15, 20],\n    animate: true,\n    style: {\n      radius: 0,\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      }\n    },\n    // \n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n  shapeType: 'rect',\n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: 'rect-combo',\n      name: 'rect-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n  //  Combo \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; //  refX  refY = 0  labelCfg.refX || Global.nodeLabel.refY\n\n    if (isNil(refX)) {\n      refX = this.refX; // \n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // \n    }\n\n    var leftDis = cfgStyle.width / 2 + padding[3];\n    var topDis = cfgStyle.height / 2 + padding[0];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0 - leftDis + refX,\n          y: 0 - topDis + refY,\n          textBaseline: 'top',\n          textAlign: 'left'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: topDis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - leftDis + refY,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: leftDis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = this.getSize(cfg);\n    var width;\n    var height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      if (!isNumber(style.width) || isNaN(style.width)) width = size[0] || Global.defaultCombo.style.width;else width = Math.max(style.width, size[0]) || size[0];\n      if (!isNumber(style.height) || isNaN(style.height)) height = size[1] || Global.defaultCombo.style.height;else height = Math.max(style.height, size[1]) || size[1];\n    }\n\n    var x = -width / 2 - padding[3];\n    var y = -height / 2 - padding[0];\n    style.width = width + padding[1] + padding[3];\n    style.height = height + padding[0] + padding[2];\n\n    var styles = __assign({\n      x: x,\n      y: y\n    }, style);\n\n    if (!cfg.style) {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    } else {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    }\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var cfgStyle = clone(cfg.style);\n    var width, height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      width = Math.max(cfgStyle.width, size[0]) || size[0];\n      height = Math.max(cfgStyle.height, size[1]) || size[1];\n    }\n\n    cfgStyle.width = width + padding[1] + padding[3];\n    cfgStyle.height = height + padding[0] + padding[2];\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.width = cfgStyle.width;\n      itemCacheSize.height = cfgStyle.height;\n    }\n\n    cfgStyle.x = -width / 2 - padding[3];\n    cfgStyle.y = -height / 2 - padding[0]; //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n\n    if (cfg.style) {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    } else {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    }\n\n    this.updateShape(cfg, item, style, false);\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var keyShape = item.get('keyShape');\n    var animate = cfg.animate === undefined ? this.options.animate : cfg.animate;\n\n    if (animate && keyShape.animate) {\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear'\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n    }\n\n    this.updateLabel(cfg, item);\n  }\n}, 'single-combo');","import { __assign } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape'; // \n\nShape.registerNode('simple-circle', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'simple-circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      r: size[0] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    this.updateShape(cfg, item, style, true);\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport { mix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerNode('simple-rect', {\n  // \n  options: {\n    size: [100, 30],\n    style: {\n      radius: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'simple-rect',\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var keyShape = item.get('keyShape');\n\n    if (!cfg.size) {\n      size[0] = keyShape.attr('width') || defaultStyle.width;\n      size[1] = keyShape.attr('height') || defaultStyle.height;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      x: -size[0] / 2,\n      y: -size[1] / 2,\n      width: size[0],\n      height: size[1]\n    }; //  getShapeStyle update  style \n\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, false);\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport Shape from '../shape';\n/**\n * \n */\n\nShape.registerNode('image', {\n  options: {\n    img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ',\n    size: 200,\n    clipCfg: {\n      show: false,\n      type: 'circle',\n      // circle\n      r: 50,\n      // ellipse\n      rx: 50,\n      ry: 35,\n      // rect\n      width: 50,\n      height: 35,\n      // polygon\n      points: [[30, 12], [12, 30], [30, 48], [48, 30]],\n      // path\n      path: [['M', 25, 25], ['L', 50, 25], ['A', 12.5, 12.5, 0, 1, 1, 50, 50], ['A', 12.5, 12.5, 0, 1, 0, 50, 50], ['L', 25, 75], ['Z']],\n      // \n      x: 0,\n      y: 0 // clip \n      // style: {\n      //   lineWidth: 1\n      // },\n\n    }\n  },\n  shapeType: 'image',\n  labelPosition: 'bottom',\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    delete style.fill;\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    this.drawClip(cfg, shape);\n    return shape;\n  },\n  drawClip: function drawClip(cfg, shape) {\n    var clip = this.getOptions(cfg).clipCfg;\n\n    if (!clip.show) {\n      return;\n    } //  circlerectellipsePolygon  path clip\n\n\n    var type = clip.type,\n        x = clip.x,\n        y = clip.y,\n        style = clip.style;\n\n    if (type === 'circle') {\n      var r = clip.r;\n      shape.setClip({\n        type: 'circle',\n        attrs: __assign({\n          r: r,\n          x: x,\n          y: y\n        }, style)\n      });\n    } else if (type === 'rect') {\n      var width = clip.width,\n          height = clip.height;\n      var rectX = x - width / 2;\n      var rectY = y - height / 2;\n      shape.setClip({\n        type: 'rect',\n        attrs: __assign({\n          x: rectX,\n          y: rectY,\n          width: width,\n          height: height\n        }, style)\n      });\n    } else if (type === 'ellipse') {\n      var rx = clip.rx,\n          ry = clip.ry;\n      shape.setClip({\n        type: 'ellipse',\n        attrs: __assign({\n          x: x,\n          y: y,\n          rx: rx,\n          ry: ry\n        }, style)\n      });\n    } else if (type === 'polygon') {\n      var points = clip.points;\n      shape.setClip({\n        type: 'polygon',\n        attrs: __assign({\n          points: points\n        }, style)\n      });\n    } else if (type === 'path') {\n      var path = clip.path;\n      shape.setClip({\n        type: 'path',\n        attrs: __assign({\n          path: path\n        }, style)\n      });\n    }\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var size = this.getSize(cfg);\n    var img = this.getOptions(cfg).img;\n    var width = size[0];\n    var height = size[1];\n\n    if (defaultStyle) {\n      width = defaultStyle.width || size[0];\n      height = defaultStyle.height || size[1];\n    }\n\n    var style = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height,\n      img: img\n    }, defaultStyle);\n\n    return style;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var shapeClassName = this.itemType + \"-shape\";\n    var shape = group.find(function (element) {\n      return element.get('className') === shapeClassName;\n    }) || item.getKeyShape();\n    var shapeStyle = this.getShapeStyle(cfg);\n\n    if (shape) {\n      shape.attr(shapeStyle);\n    }\n  }\n}, 'single-node');","export default {\n  triangle: function triangle(width, length, d) {\n    if (width === void 0) {\n      width = 10;\n    }\n\n    if (length === void 0) {\n      length = 15;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \",0 L \" + (begin + length) + \",-\" + width / 2 + \" L \" + (begin + length) + \",\" + width / 2 + \" Z\";\n    return path;\n  },\n  vee: function vee(width, length, d) {\n    if (width === void 0) {\n      width = 15;\n    }\n\n    if (length === void 0) {\n      length = 20;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \",0 L \" + (begin + length) + \",-\" + width / 2 + \"\\n        L \" + (begin + 2 * length / 3) + \",0 L \" + (begin + length) + \",\" + width / 2 + \" Z\";\n    return path;\n  },\n  circle: function circle(r, d) {\n    if (r === void 0) {\n      r = 5;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \", 0\\n            a \" + r + \",\" + r + \" 0 1,0 \" + r * 2 + \",0\\n            a \" + r + \",\" + r + \" 0 1,0 \" + -r * 2 + \",0\";\n    return path;\n  },\n  rect: function rect(width, length, d) {\n    if (width === void 0) {\n      width = 10;\n    }\n\n    if (length === void 0) {\n      length = 10;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \",\" + -width / 2 + \" \\n        L \" + (begin + length) + \",\" + -width / 2 + \" \\n        L \" + (begin + length) + \",\" + width / 2 + \" \\n        L \" + begin + \",\" + width / 2 + \" Z\";\n    return path;\n  },\n  diamond: function diamond(width, length, d) {\n    if (width === void 0) {\n      width = 15;\n    }\n\n    if (length === void 0) {\n      length = 15;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \",0 \\n        L \" + (begin + length / 2) + \",\" + -width / 2 + \" \\n        L \" + (begin + length) + \",0 \\n        L \" + (begin + length / 2) + \",\" + width / 2 + \" Z\";\n    return path;\n  },\n  triangleRect: function triangleRect(tWidth, tLength, rWidth, rLength, gap, d) {\n    if (tWidth === void 0) {\n      tWidth = 15;\n    }\n\n    if (tLength === void 0) {\n      tLength = 15;\n    }\n\n    if (rWidth === void 0) {\n      rWidth = 15;\n    }\n\n    if (rLength === void 0) {\n      rLength = 3;\n    }\n\n    if (gap === void 0) {\n      gap = 5;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var rectBegin = begin + tLength + gap;\n    var path = \"M \" + begin + \",0 L \" + (begin + tLength) + \",-\" + tWidth / 2 + \" L \" + (begin + tLength) + \",\" + tWidth / 2 + \" Z\\n            M \" + rectBegin + \", -\" + rWidth / 2 + \"\\n            L \" + (rectBegin + rLength) + \" -\" + rWidth / 2 + \"\\n            L \" + (rectBegin + rLength) + \" \" + rWidth / 2 + \"\\n            L \" + rectBegin + \" \" + rWidth / 2 + \"\\n            Z\";\n    return path;\n  }\n};","export * from '../interface'; // Behavior type file\n\nexport var G6Event;\n\n(function (G6Event) {\n  // common events\n  G6Event[\"CLICK\"] = \"click\";\n  G6Event[\"DBLCLICK\"] = \"dblclick\";\n  G6Event[\"TAP\"] = \"tap\";\n  G6Event[\"DBLTAP\"] = \"dbltap\";\n  G6Event[\"DRAGSTART\"] = \"dragstart\";\n  G6Event[\"DRAGEND\"] = \"dragend\";\n  G6Event[\"DRAG\"] = \"drag\";\n  G6Event[\"DRAGENTER\"] = \"dragenter\";\n  G6Event[\"DRAGLEAVE\"] = \"dragleave\";\n  G6Event[\"DRAGOVER\"] = \"dragover\";\n  G6Event[\"DRAGOUT\"] = \"dragout\";\n  G6Event[\"DDROP\"] = \"drop\";\n  G6Event[\"PINCHSTART\"] = \"pinchstart\";\n  G6Event[\"PINCHMOVE\"] = \"pinchmove\";\n  G6Event[\"PANSTART\"] = \"panstart\";\n  G6Event[\"PANMOVE\"] = \"panmove\";\n  G6Event[\"PANEND\"] = \"panend\";\n  G6Event[\"PRESS\"] = \"press\";\n  G6Event[\"ACTION_END\"] = \"actionend\"; // touch events\n\n  G6Event[\"TOUCHSTART\"] = \"touchstart\";\n  G6Event[\"TOUCHMOVE\"] = \"touchmove\";\n  G6Event[\"TOUCHEND\"] = \"touchend\";\n  G6Event[\"CANVAS_TOUCHSTART\"] = \"canvas:touchstart\";\n  G6Event[\"CANVAS_TOUCHMOVE\"] = \"canvas:touchmove\";\n  G6Event[\"CANVAS_TOUCHEND\"] = \"canvas:touchend\";\n  G6Event[\"NODE_TOUCHSTART\"] = \"node:touchstart\";\n  G6Event[\"NODE_TOUCHMOVE\"] = \"node:touchmove\";\n  G6Event[\"NODE_TOUCHEND\"] = \"node:touchend\";\n  G6Event[\"COMBO_TOUCHSTART\"] = \"combo:touchstart\";\n  G6Event[\"COMBO_TOUCHMOVE\"] = \"combo:touchmove\";\n  G6Event[\"COMBO_TOUCHEND\"] = \"combo:touchend\";\n  G6Event[\"EDGE_TOUCHSTART\"] = \"edge:touchstart\";\n  G6Event[\"EDGE_TOUCHMOVE\"] = \"edge:touchmove\";\n  G6Event[\"EDGE_TOUCHEND\"] = \"edge:touchend\"; // node events\n\n  G6Event[\"NODE_CLICK\"] = \"node:click\";\n  G6Event[\"NODE_DBLCLICK\"] = \"node:dblclick\";\n  G6Event[\"NODE_DROP\"] = \"node:drop\";\n  G6Event[\"NODE_DRAGOVER\"] = \"node:dragover\";\n  G6Event[\"NODE_DRAGENTER\"] = \"node:dragenter\";\n  G6Event[\"NODE_DRAGLEAVE\"] = \"node:dragleave\";\n  G6Event[\"NODE_DRAGSTART\"] = \"node:dragstart\";\n  G6Event[\"NODE_DRAG\"] = \"node:drag\";\n  G6Event[\"NODE_DRAGEND\"] = \"node:dragend\";\n  G6Event[\"NODE_TAP\"] = \"node:tap\";\n  G6Event[\"NODE_DBLTAP\"] = \"node:dbltap\";\n  G6Event[\"NODE_PANSTART\"] = \"node:panstart\";\n  G6Event[\"NODE_PANMOVE\"] = \"node:panmove\";\n  G6Event[\"NODE_PANEND\"] = \"node:panend\";\n  G6Event[\"NODE_PRESS\"] = \"node:press\"; // combo, extends from nodes\n\n  G6Event[\"COMBO_CLICK\"] = \"combo:click\";\n  G6Event[\"COMBO_DBLCLICK\"] = \"combo:dblclick\";\n  G6Event[\"COMBO_DROP\"] = \"combo:drop\";\n  G6Event[\"COMBO_DRAGOVER\"] = \"combo:dragover\";\n  G6Event[\"COMBO_DRAGENTER\"] = \"combo:dragenter\";\n  G6Event[\"COMBO_DRAGLEAVE\"] = \"combo:dragleave\";\n  G6Event[\"COMBO_DRAGSTART\"] = \"combo:dragstart\";\n  G6Event[\"COMBO_DRAG\"] = \"combo:drag\";\n  G6Event[\"COMBO_DRAGEND\"] = \"combo:dragend\";\n  G6Event[\"COMBO_TAP\"] = \"combo:tap\";\n  G6Event[\"COMBO_DBLTAP\"] = \"combo:dbltap\";\n  G6Event[\"COMBO_PANSTART\"] = \"combo:panstart\";\n  G6Event[\"COMBO_PANMOVE\"] = \"combo:panmove\";\n  G6Event[\"COMBO_PANEND\"] = \"combo:panend\";\n  G6Event[\"COMBO_PRESS\"] = \"combo:press\"; // edge events\n\n  G6Event[\"EDGE_CLICK\"] = \"edge:click\";\n  G6Event[\"EDGE_DBLCLICK\"] = \"edge:dblclick\";\n  G6Event[\"EDGE_DROP\"] = \"edge:drop\";\n  G6Event[\"EDGE_DRAGOVER\"] = \"edge:dragover\";\n  G6Event[\"EDGE_DRAGENTER\"] = \"edge:dragenter\";\n  G6Event[\"EDGE_DRAGLEAVE\"] = \"edge:dragleave\";\n  G6Event[\"EDGE_TAP\"] = \"edge:tap\";\n  G6Event[\"EDGE_DBLTAP\"] = \"edge:dbltap\";\n  G6Event[\"EDGE_PRESS\"] = \"edge:press\"; // canvas events\n\n  G6Event[\"CANVAS_CLICK\"] = \"canvas:click\";\n  G6Event[\"CANVAS_DBLCLICK\"] = \"canvas:dblclick\";\n  G6Event[\"CANVAS_DROP\"] = \"canvas:drop\";\n  G6Event[\"CANVAS_DRAGENTER\"] = \"canvas:dragenter\";\n  G6Event[\"CANVAS_DRAGLEAVE\"] = \"canvas:dragleave\";\n  G6Event[\"CANVAS_DRAGSTART\"] = \"canvas:dragstart\";\n  G6Event[\"CANVAS_DRAG\"] = \"canvas:drag\";\n  G6Event[\"CANVAS_DRAGEND\"] = \"canvas:dragend\";\n  G6Event[\"CANVAS_TAP\"] = \"canvas:tap\";\n  G6Event[\"CANVAS_DBLTAP\"] = \"canvas:dbltap\";\n  G6Event[\"CANVAS_PANSTART\"] = \"canvas:panstart\";\n  G6Event[\"CANVAS_PANMOVE\"] = \"canvas:panmove\";\n  G6Event[\"CANVAS_PANEND\"] = \"canvas:panend\";\n  G6Event[\"CANVAS_PRESS\"] = \"canvas:press\"; // timing events\n\n  G6Event[\"BEFORERENDER\"] = \"beforerender\";\n  G6Event[\"AFTERRENDER\"] = \"afterrender\";\n  G6Event[\"BEFOREADDITEM\"] = \"beforeadditem\";\n  G6Event[\"AFTERADDITEM\"] = \"afteradditem\";\n  G6Event[\"BEFOREREMOVEITEM\"] = \"beforeremoveitem\";\n  G6Event[\"AFTERREMOVEITEM\"] = \"afterremoveitem\";\n  G6Event[\"BEFOREUPDATEITEM\"] = \"beforeupdateitem\";\n  G6Event[\"AFTERUPDATEITEM\"] = \"afterupdateitem\";\n  G6Event[\"BEFOREITEMVISIBILITYCHANGE\"] = \"beforeitemvisibilitychange\";\n  G6Event[\"AFTERITEMVISIBILITYCHANGE\"] = \"afteritemvisibilitychange\";\n  G6Event[\"BEFOREITEMSTATECHANGE\"] = \"beforeitemstatechange\";\n  G6Event[\"AFTERITEMSTATECHANGE\"] = \"afteritemstatechange\";\n  G6Event[\"BEFOREITEMREFRESH\"] = \"beforeitemrefresh\";\n  G6Event[\"AFTERITEMREFRESH\"] = \"afteritemrefresh\";\n  G6Event[\"BEFOREITEMSTATESCLEAR\"] = \"beforeitemstatesclear\";\n  G6Event[\"AFTERITEMSTATESCLEAR\"] = \"afteritemstatesclear\";\n  G6Event[\"BEFOREMODECHANGE\"] = \"beforemodechange\";\n  G6Event[\"AFTERMODECHANGE\"] = \"aftermodechange\";\n  G6Event[\"BEFORELAYOUT\"] = \"beforelayout\";\n  G6Event[\"AFTERLAYOUT\"] = \"afterlayout\";\n  G6Event[\"BEFORECREATEEDGE\"] = \"beforecreateedge\";\n  G6Event[\"AFTERCREATEEDGE\"] = \"aftercreateedge\";\n  G6Event[\"BEFOREGRAPHREFRESHPOSITION\"] = \"beforegraphrefreshposition\";\n  G6Event[\"AFTERGRAPHREFRESHPOSITION\"] = \"aftergraphrefreshposition\";\n  G6Event[\"BEFOREGRAPHREFRESH\"] = \"beforegraphrefresh\";\n  G6Event[\"AFTERGRAPHREFRESH\"] = \"aftergraphrefresh\";\n  G6Event[\"BEFOREANIMATE\"] = \"beforeanimate\";\n  G6Event[\"AFTERANIMATE\"] = \"afteranimate\";\n  G6Event[\"BEFOREPAINT\"] = \"beforepaint\";\n  G6Event[\"AFTERPAINT\"] = \"afterpaint\";\n  G6Event[\"BEFORECOLLAPSEEXPANDCOMBO\"] = \"beforecollapseexpandcombo\";\n  G6Event[\"AFTERCOLLAPSEEXPANDCOMBO\"] = \"aftercollapseexpandcombo\";\n  G6Event[\"GRAPHSTATECHANGE\"] = \"graphstatechange\";\n  G6Event[\"AFTERACTIVATERELATIONS\"] = \"afteractivaterelations\";\n  G6Event[\"NODESELECTCHANGE\"] = \"nodeselectchange\";\n  G6Event[\"TOOLTIPCHANGE\"] = \"tooltipchange\";\n  G6Event[\"WHEELZOOM\"] = \"wheelzoom\";\n  G6Event[\"VIEWPORTCHANGE\"] = \"viewportchange\";\n  G6Event[\"DRAGNODEEND\"] = \"dragnodeend\";\n  G6Event[\"STACKCHANGE\"] = \"stackchange\";\n})(G6Event || (G6Event = {}));","import Shape from './shape';\nimport './node';\nimport './edge';\nimport './combo';\nimport './combos';\nimport './nodes';\nexport { default as Arrow } from './arrow';\nexport { default as Marker } from './marker';\nexport default Shape;","export var defaultSubjectColors = ['#5F95FF', '#61DDAA', '#65789B', '#F6BD16', '#7262FD', '#78D3F8', '#9661BC', '#F6903D', '#008685', '#F08BB4'];","import { __assign } from \"tslib\";\nimport * as MathUtil from './math';\nimport * as GraphicUtil from './graphic';\nimport * as PathUtil from './path';\nimport * as BaseUtil from './base';\nimport * as ColorUtil from './color';\nimport { ext, mat3 } from '@antv/matrix-util';\nvar transform = ext.transform;\n\nvar Util = __assign(__assign(__assign(__assign(__assign(__assign({}, BaseUtil), GraphicUtil), PathUtil), MathUtil), ColorUtil), {\n  transform: transform,\n  mat3: mat3\n});\n\nexport default Util;","import { __assign, __rest } from \"tslib\";\nimport { isFunction, groupBy } from '@antv/util';\nimport { isNaN, calculationItemsBBox } from '../../util/base';\n\nvar LayoutController =\n/** @class */\nfunction () {\n  function LayoutController(graph) {\n    this.graph = graph;\n    this.layoutCfg = graph.get('layout') || {};\n    this.layoutType = this.getLayoutType();\n    this.layoutMethods = [];\n    this.initLayout();\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  LayoutController.prototype.initLayout = function () {// no data before rendering\n  };\n\n  LayoutController.prototype.getLayoutType = function () {\n    return this.getLayoutCfgType(this.layoutCfg);\n  };\n\n  LayoutController.prototype.getLayoutCfgType = function (layoutCfg) {\n    var type = layoutCfg.type; // type should be top priority\n\n    if (type) {\n      return type;\n    }\n\n    var pipes = layoutCfg.pipes;\n\n    if (Array.isArray(pipes)) {\n      return pipes.map(function (pipe) {\n        return (pipe === null || pipe === void 0 ? void 0 : pipe.type) || '';\n      });\n    }\n\n    return null;\n  };\n\n  LayoutController.prototype.isLayoutTypeSame = function (cfg) {\n    var current = this.getLayoutCfgType(cfg); // already has pipes\n\n    if (Array.isArray(this.layoutType)) {\n      return this.layoutType.every(function (type, index) {\n        return type === current[index];\n      });\n    }\n\n    return (cfg === null || cfg === void 0 ? void 0 : cfg.type) === this.layoutType;\n  }; // \n\n\n  LayoutController.prototype.refreshLayout = function () {\n    var graph = this.graph;\n    if (!graph) return;\n\n    if (graph.get('animate')) {\n      graph.positionsAnimate();\n    } else {\n      graph.refreshPositions();\n    }\n  }; // \n\n\n  LayoutController.prototype.changeLayout = function (cfg) {\n    this.layoutCfg = cfg;\n    this.destoryLayoutMethods();\n    this.layout();\n  }; // \n\n\n  LayoutController.prototype.changeData = function () {\n    this.destoryLayoutMethods();\n    this.layout();\n  };\n\n  LayoutController.prototype.destoryLayoutMethods = function () {\n    var layoutMethods = this.layoutMethods;\n    layoutMethods === null || layoutMethods === void 0 ? void 0 : layoutMethods.forEach(function (layoutMethod) {\n      layoutMethod.destroy();\n    });\n    this.layoutMethods = [];\n  }; //  this.destroy controller \n\n\n  LayoutController.prototype.destroyLayout = function () {\n    var graph = this.graph;\n    this.destoryLayoutMethods();\n    graph.set('layout', undefined);\n    this.layoutCfg = undefined;\n    this.layoutType = undefined;\n    this.layoutMethods = undefined;\n  }; //  this.graph \n\n\n  LayoutController.prototype.setDataFromGraph = function () {\n    var nodes = [];\n    var hiddenNodes = [];\n    var edges = [];\n    var hiddenEdges = [];\n    var comboEdges = [];\n    var combos = [];\n    var hiddenCombos = [];\n    var nodeItems = this.graph.getNodes();\n    var edgeItems = this.graph.getEdges();\n    var comboItems = this.graph.getCombos();\n    var nodeLength = nodeItems.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var nodeItem = nodeItems[i];\n      if (!nodeItem || nodeItem.destroyed) continue;\n      var model = nodeItem.getModel();\n\n      if (!nodeItem.isVisible()) {\n        hiddenNodes.push(model);\n        continue;\n      }\n\n      nodes.push(model);\n    }\n\n    var edgeLength = edgeItems.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edgeItem = edgeItems[i];\n      if (!edgeItem || edgeItem.destroyed) continue;\n      var model = edgeItem.getModel();\n\n      if (!edgeItem.isVisible()) {\n        hiddenEdges.push(model);\n        continue;\n      }\n\n      if (!model.isComboEdge) edges.push(model);else comboEdges.push(model);\n    }\n\n    var comboLength = comboItems.length;\n\n    for (var i = 0; i < comboLength; i++) {\n      var comboItem = comboItems[i];\n      if (comboItem.destroyed) continue;\n      var model = comboItem.getModel();\n\n      if (!comboItem.isVisible()) {\n        hiddenEdges.push(model);\n        continue;\n      }\n\n      combos.push(model);\n    }\n\n    return {\n      nodes: nodes,\n      hiddenNodes: hiddenNodes,\n      edges: edges,\n      hiddenEdges: hiddenEdges,\n      combos: combos,\n      hiddenCombos: hiddenCombos,\n      comboEdges: comboEdges\n    };\n  };\n\n  LayoutController.prototype.reLayoutMethod = function (layoutMethod, layoutCfg) {\n    var _this = this;\n\n    return new Promise(function (reslove, reject) {\n      var graph = _this.graph;\n      var layoutType = layoutCfg === null || layoutCfg === void 0 ? void 0 : layoutCfg.type; // \n\n      layoutCfg.onLayoutEnd = function () {\n        graph.emit('aftersublayout', {\n          type: layoutType\n        });\n        reslove();\n      };\n\n      layoutMethod.init(_this.data);\n\n      if (layoutType === 'force') {\n        layoutMethod.ticking = false;\n        layoutMethod.forceSimulation.stop();\n      }\n\n      graph.emit('beforesublayout', {\n        type: layoutType\n      });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n    });\n  }; // \n\n\n  LayoutController.prototype.relayout = function (reloadData) {\n    var _this = this;\n\n    var _a = this,\n        graph = _a.graph,\n        layoutMethods = _a.layoutMethods,\n        layoutCfg = _a.layoutCfg;\n\n    if (reloadData) {\n      this.data = this.setDataFromGraph();\n      var nodes = this.data.nodes;\n\n      if (!nodes) {\n        return false;\n      }\n\n      this.initPositions(layoutCfg.center, nodes);\n    }\n\n    graph.emit('beforelayout');\n    var start = Promise.resolve();\n    layoutMethods === null || layoutMethods === void 0 ? void 0 : layoutMethods.forEach(function (layoutMethod, index) {\n      var currentCfg = layoutCfg[index];\n      start = start.then(function () {\n        return _this.reLayoutMethod(layoutMethod, currentCfg);\n      });\n    });\n    start.then(function () {\n      if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n    }).catch(function (error) {\n      console.warn('relayout failed', error);\n    });\n  }; // nodesedges\n\n\n  LayoutController.prototype.filterLayoutData = function (data, cfg) {\n    var nodes = data.nodes,\n        edges = data.edges,\n        rest = __rest(data, [\"nodes\", \"edges\"]);\n\n    if (!nodes) {\n      return data;\n    }\n\n    var nodesFilter;\n    var edegsFilter;\n\n    if (isFunction(cfg === null || cfg === void 0 ? void 0 : cfg.nodesFilter)) {\n      nodesFilter = cfg.nodesFilter;\n    } else {\n      nodesFilter = function nodesFilter() {\n        return true;\n      };\n    }\n\n    if (isFunction(cfg === null || cfg === void 0 ? void 0 : cfg.edgesFilter)) {\n      edegsFilter = cfg.edgesFilter;\n    } else {\n      var nodesMap_1 = nodes.reduce(function (acc, cur) {\n        acc[cur.id] = true;\n        return acc;\n      }, {});\n\n      edegsFilter = function edegsFilter(edge) {\n        return nodesMap_1[edge.source] && nodesMap_1[edge.target];\n      };\n    }\n\n    return __assign({\n      nodes: nodes.filter(nodesFilter),\n      edges: edges.filter(edegsFilter)\n    }, rest);\n  };\n\n  LayoutController.prototype.getLayoutBBox = function (nodes) {\n    var graph = this.graph;\n    var graphGroupNodes = groupBy(graph.getNodes(), function (n) {\n      return n.getModel().layoutOrder;\n    });\n    var layoutNodes = Object.values(graphGroupNodes).map(function (value) {\n      var bbox = calculationItemsBBox(value);\n      bbox.size = [bbox.width, bbox.height];\n      return bbox;\n    });\n    var groupNodes = Object.values(groupBy(nodes, 'layoutOrder'));\n    return {\n      groupNodes: groupNodes,\n      layoutNodes: layoutNodes\n    };\n  }; // \n  // eslint-disable-next-line class-methods-use-this\n\n\n  LayoutController.prototype.layoutAnimate = function () {}; // \n\n\n  LayoutController.prototype.moveToZero = function () {\n    var graph = this.graph;\n    var data = graph.get('data');\n    var nodes = data.nodes;\n\n    if (nodes[0].x === undefined || nodes[0].x === null || isNaN(nodes[0].x)) {\n      return;\n    }\n\n    var meanCenter = [0, 0];\n    var nodeLength = nodes.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      meanCenter[0] += node.x;\n      meanCenter[1] += node.y;\n    }\n\n    meanCenter[0] /= nodes.length;\n    meanCenter[1] /= nodes.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      node.x -= meanCenter[0];\n      node.y -= meanCenter[1];\n    }\n  }; //  center \n\n\n  LayoutController.prototype.initPositions = function (center, nodes) {\n    var graph = this.graph;\n\n    if (!nodes) {\n      return false;\n    }\n\n    var nodeLength = nodes ? nodes.length : 0;\n    if (!nodeLength) return;\n    var width = graph.get('width') * 0.85;\n    var height = graph.get('height') * 0.85;\n    var horiNum = Math.ceil(Math.sqrt(nodeLength) * (width / height));\n    var vertiNum = Math.ceil(nodeLength / horiNum);\n    var horiGap = width / (horiNum - 1);\n    var vertiGap = height / (vertiNum - 1);\n    if (!isFinite(horiGap) || !horiGap) horiGap = 0;\n    if (!isFinite(vertiGap) || !horiGap) vertiGap = 0;\n    var beginX = center[0] - width / 2;\n    var beginY = center[1] - height / 2;\n    var allHavePos = true;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n\n      if (isNaN(node.x)) {\n        allHavePos = false;\n        node.x = i % horiNum * horiGap + beginX;\n      }\n\n      if (isNaN(node.y)) {\n        allHavePos = false;\n        node.y = Math.floor(i / horiNum) * vertiGap + beginY;\n      }\n    }\n\n    return allHavePos;\n  };\n\n  LayoutController.prototype.destroy = function () {\n    this.graph = null;\n    this.destoryLayoutMethods();\n    this.destroyed = true;\n  };\n\n  LayoutController.prototype.onTick = function (timestamp) {\n    var _a;\n\n    (_a = this.layoutMethods) === null || _a === void 0 ? void 0 : _a.forEach(function (layoutMethod) {\n      layoutMethod === null || layoutMethod === void 0 ? void 0 : layoutMethod.onTick(timestamp);\n    });\n  };\n\n  return LayoutController;\n}();\n\nexport default LayoutController;","import Behavior from './behavior';\nimport AbstractGraph from './graph/graph';\nimport Shape, { Arrow, Marker } from './element';\nimport Global from './global';\nimport Util from './util'; //  PC  Mobile  layout  updateLayoutCfg \n\nimport AbstractLayout from './graph/controller/layout';\nimport AbstractEvent from './graph/controller/event';\nimport Node from './item/node';\nimport Edge from './item/edge';\nimport Hull from './item/hull';\nimport Combo from './item/combo';\nvar registerNode = Shape.registerNode;\nvar registerEdge = Shape.registerEdge;\nvar registerCombo = Shape.registerCombo;\nvar registerBehavior = Behavior.registerBehavior;\nvar BaseGlobal = Global;\nexport * from './types';\nexport { Arrow, Shape, Node, Edge, Combo, Hull, Marker, registerNode, registerCombo, AbstractGraph, Util, registerEdge, registerBehavior, AbstractLayout, AbstractEvent, BaseGlobal };\nexport default {\n  version: Global.version,\n  AbstractGraph: AbstractGraph,\n  BaseGlobal: BaseGlobal,\n  Util: Util,\n  Shape: Shape,\n  Node: Node,\n  Edge: Edge,\n  Combo: Combo,\n  Hull: Hull,\n  registerNode: Shape.registerNode,\n  registerEdge: Shape.registerEdge,\n  registerCombo: Shape.registerCombo,\n  registerBehavior: Behavior.registerBehavior,\n  Arrow: Arrow,\n  Marker: Marker,\n  AbstractLayout: AbstractLayout,\n  AbstractEvent: AbstractEvent\n};","import { each, mix } from '@antv/util';\nimport { IAbstractGraph as IGraph, ShapeStyle, Util } from '@antv/f6-core';\nimport Base, { IPluginBaseConfig } from '../base';\n\nconst { pointLineDistance } = Util;\n\ninterface SnapLineConfig extends IPluginBaseConfig {\n  // \n  line?: ShapeStyle;\n  // true \n  itemAlignType?: boolean | 'horizontal' | 'vertical' | 'center';\n}\n\n// \nconst alignLineStyle = {\n  stroke: '#FA8C16',\n  lineWidth: 1,\n};\n\nexport default class SnapLine extends Base {\n  constructor(props?: SnapLineConfig) {\n    super(props);\n  }\n\n  public getDefaultCfgs() {\n    return {\n      line: alignLineStyle,\n      /**\n       * item align type\n       * @type {String|True|False}\n       */\n      itemAlignType: 'center', // true || false || 'horizontal' || 'vertical' || 'center',\n\n      /**\n       * tolerance to item force align\n       * @type {String|True|False}\n       */\n      tolerance: 5,\n      horizontalLines: {},\n      verticalLines: {},\n      alignLines: [],\n    };\n  }\n\n  public init() {}\n\n  // class-methods-use-this\n  public getEvents() {\n    return {\n      'node:dragstart': 'onDragStart',\n      'node:drag': 'onDrag',\n      'node:dragend': 'onDragEnd',\n    };\n  }\n\n  onDragStart() {\n    this.initBoxLine();\n  }\n\n  onDrag(e) {\n    const { item } = e;\n    // ,\n    const delegateShape = item.get('delegateShape') || item;\n\n    const bbox = delegateShape.getBBox();\n    const model = item.getModel();\n    const dx = model.x - bbox.x;\n    const dy = model.y - bbox.y;\n\n    this.show(\n      {\n        x: bbox.minX + dx,\n        y: bbox.minY + dy,\n      },\n      {\n        width: bbox.width,\n        height: bbox.height,\n      },\n    );\n  }\n\n  onDragEnd() {\n    // \n    this.destory();\n  }\n\n  /**\n   * \n   *\n   * @param {object} item Node\n   * @memberof AlignLine\n   */\n  initBoxLine() {\n    const { horizontalLines, verticalLines, itemAlignType } = this._cfgs;\n\n    const graph: IGraph = this.get('graph');\n    const nodes = graph.getNodes();\n    nodes.forEach(item => {\n      const bbox = item.getBBox();\n      const nodeId = item.get('id');\n      // \n      if (itemAlignType === true || itemAlignType === 'horizontal') {\n        // tltr: top left top right\n        // lcrc: left center right center\n        // blbr: bottom left bottom right\n        horizontalLines[`${nodeId}tltr`] = [bbox.minX, bbox.minY, bbox.maxX, bbox.minY, item];\n        horizontalLines[`${nodeId}lcrc`] = [bbox.minX, bbox.centerY, bbox.maxX, bbox.centerY, item];\n        horizontalLines[`${nodeId}blbr`] = [bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY, item];\n      } else if (itemAlignType === 'center') {\n        horizontalLines[`${nodeId}lcrc`] = [bbox.minX, bbox.centerY, bbox.maxX, bbox.centerY, item];\n      }\n\n      // \n      if (itemAlignType === true || itemAlignType === 'vertical') {\n        // tlbl: top left bottom left\n        // tcbc: top center bottom center\n        // trbr: top right bottom right\n        verticalLines[`${nodeId}tlbl`] = [bbox.minX, bbox.minY, bbox.minX, bbox.maxY, item];\n        verticalLines[`${nodeId}tcbc`] = [bbox.centerX, bbox.minY, bbox.centerX, bbox.maxY, item];\n        verticalLines[`${nodeId}trbr`] = [bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY, item];\n      } else if (itemAlignType === 'center') {\n        verticalLines[`${nodeId}tcbc`] = [bbox.centerX, bbox.minY, bbox.centerX, bbox.maxY, item];\n      }\n    });\n  }\n\n  /**\n   * AlignLine\n   *\n   * @param {object} point \n   * @param {object} bbox BBox\n   * @returns\n   * @memberof AlignLine\n   */\n  show(point, bbox) {\n    const originPoint = mix({}, point);\n    this.itemAlign(point, bbox, originPoint);\n    return point;\n  }\n\n  /**\n   * \n   *\n   * @param {object} point \n   * @param {object} bbox bbox\n   * @param {object} originPoint point\n   * @memberof AlignLine\n   */\n  private itemAlign(point, bbox, originPoint) {\n    const { horizontalLines, verticalLines, tolerance } = this._cfgs;\n\n    const tc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y,\n    };\n    const cc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y + bbox.height / 2,\n    };\n    const bc = {\n      x: originPoint.x + bbox.width / 2,\n      y: originPoint.y + bbox.height,\n    };\n    const lc = {\n      x: originPoint.x,\n      y: originPoint.y + bbox.height / 2,\n    };\n    const rc = {\n      x: originPoint.x + bbox.width,\n      y: originPoint.y + bbox.height / 2,\n    };\n\n    const horizontalDis = [];\n    const verticalDis = [];\n    let alignCfg = null;\n    this.clearAlignLine();\n\n    each(horizontalLines, line => {\n      if (line[4].isVisible) {\n        horizontalDis.push(this.getLineDisObject(line, tc));\n        horizontalDis.push(this.getLineDisObject(line, cc));\n        horizontalDis.push(this.getLineDisObject(line, bc));\n      }\n    });\n\n    each(verticalLines, line => {\n      if (line[4].isVisible) {\n        verticalDis.push(this.getLineDisObject(line, lc));\n        verticalDis.push(this.getLineDisObject(line, cc));\n        verticalDis.push(this.getLineDisObject(line, rc));\n      }\n    });\n\n    horizontalDis.sort((a, b) => {\n      return a.dis - b.dis;\n    });\n    verticalDis.sort((a, b) => {\n      return a.dis - b.dis;\n    });\n\n    if (horizontalDis.length !== 0 && horizontalDis[0].dis < tolerance) {\n      point.y = horizontalDis[0].line[1] - horizontalDis[0].point.y + originPoint.y;\n      alignCfg = {\n        type: 'item',\n        horizontals: [horizontalDis[0]],\n      };\n      for (let i = 1; i < 3; i++) {\n        if (horizontalDis[0].dis === horizontalDis[i].dis) {\n          alignCfg.horizontals.push(horizontalDis[i]);\n        }\n      }\n    }\n    if (verticalDis.length !== 0 && verticalDis[0].dis < tolerance) {\n      point.x = verticalDis[0].line[0] - verticalDis[0].point.x + originPoint.x;\n      if (!alignCfg) {\n        alignCfg = {\n          type: 'item',\n          verticals: [verticalDis[0]],\n        };\n      } else {\n        alignCfg.verticals = [verticalDis[0]];\n      }\n      for (let i = 1; i < 3; i++) {\n        if (verticalDis[0].dis === verticalDis[i].dis) {\n          alignCfg.verticals.push(verticalDis[i]);\n        }\n      }\n    }\n    if (alignCfg) {\n      alignCfg.bbox = bbox;\n      this.addAlignLine(alignCfg);\n    }\n  }\n\n  /**\n   * \n   *\n   * @param {object} cfg\n   * @memberof AlignLine\n   */\n  private addAlignLine(cfg) {\n    const { bbox, type, horizontals, verticals } = cfg;\n    const { line: lineStyle, alignLines } = this._cfgs;\n    const graph: IGraph = this.get('graph');\n    const group = graph.get('group');\n\n    if (type === 'item') {\n      if (horizontals) {\n        each(horizontals, horizontal => {\n          const { line: refLine, point: refPoint } = horizontal;\n          const lineCenterX = (refLine[0] + refLine[2]) / 2;\n          let x1;\n          let x2;\n          if (refPoint.x < lineCenterX) {\n            x1 = refPoint.x - bbox.width / 2;\n            x2 = Math.max(refLine[0], refLine[2]);\n          } else {\n            x1 = refPoint.x + bbox.width / 2;\n            x2 = Math.min(refLine[0], refLine[2]);\n          }\n\n          const lineAttrs = mix(\n            {\n              x1,\n              y1: refLine[1],\n              x2,\n              y2: refLine[1],\n            },\n            lineStyle,\n          );\n\n          const line = group.addShape('line', {\n            attrs: lineAttrs,\n            capture: false,\n          });\n          alignLines.push(line);\n        });\n      }\n\n      if (verticals) {\n        each(verticals, vertical => {\n          const { line: refLine, point: refPoint } = vertical;\n          const lineCenterY = (refLine[1] + refLine[3]) / 2;\n          let y1;\n          let y2;\n          if (refPoint.y < lineCenterY) {\n            y1 = refPoint.y - bbox.height / 2;\n            y2 = Math.max(refLine[1], refLine[3]);\n          } else {\n            y1 = refPoint.y + bbox.height / 2;\n            y2 = Math.min(refLine[1], refLine[3]);\n          }\n\n          const lineAtts = mix(\n            {\n              x1: refLine[0],\n              y1,\n              x2: refLine[0],\n              y2,\n            },\n            lineStyle,\n          );\n\n          const line = group.addShape('line', {\n            attrs: lineAtts,\n            capture: false,\n          });\n\n          alignLines.push(line);\n        });\n      }\n    }\n  }\n\n  /**\n   * \n   *\n   * @param {array} line [x1, y1, x2, y2] \n   * @param {object} point xy {x, y}\n   * @returns\n   * @memberof AlignLine\n   */\n  private getLineDisObject(line, point) {\n    return {\n      line,\n      point,\n      dis: pointLineDistance(line, point),\n    };\n  }\n\n  public getContainer(): HTMLDivElement {\n    return this.get('container');\n  }\n\n  /**\n   * \n   *\n   * @memberof AlignLine\n   */\n  clearAlignLine() {\n    const { alignLines } = this._cfgs;\n    each(alignLines, line => {\n      line.remove();\n    });\n    alignLines.length = 0;\n  }\n\n  /**\n   * \n   *\n   * @memberof AlignLine\n   */\n  public destory() {\n    const { horizontalLines, verticalLines } = this._cfgs;\n\n    const graph: IGraph = this.get('graph');\n    const nodes = graph.getNodes();\n    nodes.forEach(node => {\n      const itemId = node.get('id');\n      delete horizontalLines[`${itemId}tltr`];\n      delete horizontalLines[`${itemId}lcrc`];\n      delete horizontalLines[`${itemId}blbr`];\n      delete verticalLines[`${itemId}tlbl`];\n      delete verticalLines[`${itemId}tcbc`];\n      delete verticalLines[`${itemId}trbr`];\n    });\n\n    this.clearAlignLine();\n  }\n}\n","import { isArray } from '@antv/util';\nimport { IG6GraphEvent, Item, IAbstractGraph as IGraph } from '@antv/f6-core';\nimport Base, { IPluginBaseConfig } from '../base';\nimport { createUI } from '@antv/f6-ui';\nimport getHtml from './html';\nimport { appendCss } from './css';\n\ninterface TooltipConfig extends IPluginBaseConfig {\n  getContent?: (evt?: IG6GraphEvent) => HTMLDivElement | string;\n  offsetX?: number;\n  offsetY?: number;\n  shouldBegin?: (evt?: IG6GraphEvent) => boolean;\n  //  tooltip  item \n  itemTypes?: string[];\n  trigger?: 'mouseenter' | 'click';\n  fixToNode?: [number, number] | undefined;\n}\n\nexport default class Tooltip extends Base {\n  private currentTarget: Item;\n\n  public getDefaultCfgs(): TooltipConfig {\n    return {\n      offsetX: 6,\n      offsetY: 6,\n      // function(e) {...}\n      getContent: (e) => {\n        return `\n          <div class=\"f6-tooltip-container\">\n            <div class='tooltip-type'>${e.item?.getType()}</div>\n            <div class='tooltip-id'>ID${e.item?.getID()}</div>\n          </div>\n        `;\n      },\n      getCss: () => `\n        .f6-tooltip-container {\n          position: absolute;\n          width: 200;\n          border: 1 solid #e2e2e2;\n          border-radius: 4;\n          font-size: 12;\n          color: #545454;\n          background-color: rgba(255, 255, 255, 0.9);\n          padding: 10 8;\n        }\n    \n        .f6-tooltip-container div{\n          height: 20;\n        }\n        \n        .tooltip-type {\n          padding: 0;\n          margin: 0;\n        }\n        .tooltip-id {\n          color: #531dab;\n        }\n      `,\n      shouldBegin: (e) => {\n        return true;\n      },\n      itemTypes: ['node', 'edge', 'combo'],\n      trigger: 'mouseenter',\n      fixToNode: undefined,\n    };\n  }\n\n  // class-methods-use-this\n  public getEvents() {\n    if (this.get('trigger') === 'click') {\n      return {\n        'node:tap': 'onClick',\n        'edge:tap': 'onClick',\n        'combo:tap': 'onClick',\n        'canvas:tap': 'onMouseLeave',\n        afterremoveitem: 'onMouseLeave',\n        contextmenu: 'onMouseLeave',\n        drag: 'onMouseLeave',\n      };\n    }\n    return {\n      'node:press': 'onClick',\n      'edge:press': 'onClick',\n      'combo:press': 'onClick',\n      'canvas:press': 'onMouseLeave',\n      'node:tap': 'onMouseLeave',\n      'edge:tap': 'onMouseLeave',\n      'combo:tap': 'onMouseLeave',\n      'canvas:tap': 'onMouseLeave',\n      afterremoveitem: 'onMouseLeave',\n      contextmenu: 'onMouseLeave',\n      drag: 'onMouseLeave',\n    };\n  }\n\n  onClick(e: IG6GraphEvent) {\n    const itemTypes = this.get('itemTypes');\n    if (e.item && e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n\n    const { item } = e;\n    const graph: IGraph = this.get('graph');\n    //  item tooltip\n    if (this.currentTarget === item) {\n      this.currentTarget = null;\n      this.hideTooltip();\n      graph.emit('tooltipchange', { item: e.item, action: 'hide' });\n    } else {\n      this.currentTarget = item;\n      this.showTooltip(e);\n      graph.emit('tooltipchange', { item: e.item, action: 'show' });\n    }\n  }\n\n  onMouseEnter(e: IG6GraphEvent) {\n    const itemTypes = this.get('itemTypes');\n\n    if (e.item && e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n    const { item } = e;\n    const graph: IGraph = this.get('graph');\n    this.currentTarget = item;\n    this.showTooltip(e);\n    graph.emit('tooltipchange', { item: e.item, action: 'show' });\n  }\n\n  onMouseMove(e: IG6GraphEvent) {\n    const itemTypes = this.get('itemTypes');\n    if (e.item && e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n    this.showTooltip(e);\n  }\n\n  onMouseLeave() {\n    this.hideTooltip();\n    const graph: IGraph = this.get('graph');\n    graph.emit('tooltipchange', { item: this.currentTarget, action: 'hide' });\n    this.currentTarget = null;\n  }\n\n  showTooltip(e: IG6GraphEvent) {\n    if (!e.item) {\n      return;\n    }\n    const itemTypes = this.get('itemTypes');\n\n    if (e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n\n    const uiGroup = this.get('graph').get('uiGroup');\n\n    const html = getHtml(this.get('getContent')?.(e));\n    const css = appendCss(this.get('getCss')?.());\n    const tooltipUI = createUI(html, css, uiGroup);\n    this.get('tooltip')?.remove();\n    this.set('tooltip', tooltipUI);\n\n    this.updatePosition(e);\n  }\n\n  hideTooltip() {\n    const tooltip = this.get('tooltip');\n    if (tooltip) {\n      tooltip.setStyle('display', 'none');\n    }\n  }\n\n  updatePosition(e: IG6GraphEvent) {\n    const shouldBegin = this.get('shouldBegin');\n    const tooltip = this.get('tooltip');\n    if (!shouldBegin(e)) {\n      this.hideTooltip();\n      return;\n    }\n    const graph: IGraph = this.get('graph');\n    const width: number = graph.get('width');\n    const height: number = graph.get('height');\n\n    const offsetX = this.get('offsetX') || 0;\n    const offsetY = this.get('offsetY') || 0;\n\n    // const mousePos = graph.getPointByClient(e.clientX, e.clientY);\n    let point = graph.getPointByClient(e.clientX, e.clientY);\n\n    const fixToNode = this.get('fixToNode');\n    const { item } = e;\n    if (\n      item.getType &&\n      item.getType() === 'node' &&\n      fixToNode &&\n      isArray(fixToNode) &&\n      fixToNode.length >= 2\n    ) {\n      const itemBBox = item.getBBox();\n      point = {\n        x: itemBBox.minX + itemBBox.width * fixToNode[0],\n        y: itemBBox.minY + itemBBox.height * fixToNode[1],\n      };\n    }\n\n    const { x, y } = graph.getCanvasByPoint(point.x, point.y);\n\n    const res = {\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n\n    //  visible  bbox\n    tooltip.setStyle('display', 'flex');\n\n    if (x + tooltip.width + offsetX > width) {\n      res.x -= tooltip.width + offsetX;\n    }\n\n    if (y + tooltip.height + offsetY > height) {\n      res.y -= tooltip.height + offsetY;\n    }\n    tooltip.setStyle('left', res.x);\n    tooltip.setStyle('top', res.y);\n  }\n\n  public hide() {\n    this.onMouseLeave();\n  }\n\n  public destroy() {\n    const tooltip = this.get('tooltip');\n\n    if (tooltip) {\n      tooltip.remove();\n    }\n  }\n}\n","export default function getHtml(content = '') {\n  return `\n  <root> \n    ${content}\n  </root>`;\n}\n","export function appendCss(cssString = '') {\n  return `\n    text {\n      opacity: 1\n    }\n    ${cssString}\n  `;\n}\n","import { createSegmentNode } from '@antv/f6-ui';\n\nexport function createItem(data, style, itemConfig) {\n  let attrs;\n  let shapeType = data.type;\n  const { width, height, r } = getShapeSize(data);\n  switch (data.type) {\n    case 'circle':\n      attrs = { r, x: 0, y: 0 };\n      break;\n    case 'rect':\n      attrs = { width, height, x: -width / 2, y: -height / 2 };\n      break;\n    case 'ellipse':\n      attrs = { r1: width, r2: height, x: 0, y: 0 };\n      break;\n    case 'line':\n      attrs = { x1: -width / 2, y1: 0, x2: width / 2, y2: 0 };\n      shapeType = 'line';\n      break;\n    case 'quadratic':\n      attrs = {\n        path: [\n          ['M', -width / 2, 0],\n          ['Q', 0, width / 2, width / 2, 0],\n        ],\n      };\n      shapeType = 'path';\n      break;\n    case 'cubic':\n      attrs = {\n        path: [\n          ['M', -width / 2, 0],\n          ['C', -width / 6, width / 2, width / 6, -width / 2, width / 2, 0],\n        ],\n      };\n      shapeType = 'path';\n      break;\n    default:\n      attrs = { r, x: 0, y: 0 };\n      break;\n  }\n  const html = `\n  <div class='node-container' orignStyle=${JSON.stringify(style)} legendId=${data.id}>\n    <shape type='${shapeType}' class='${data.type}-node-keyShape' \n      ${Object.entries(attrs).reduce((prev, cur) => (prev += ` ${cur[0]}=${cur[1]} `), '')}\n    />\n    ${data.label && ` <div class='text'>${data.label}</div>`}\n  </div>\n`;\n  const labelStyle = {\n    textAlign: 'begin',\n    fontSize: 12,\n    fill: '#000',\n    opacity: 1,\n    fontWeight: 'normal',\n    ...data.labelStyle,\n  };\n  const css = `\n    .node-container {\n      width: ${itemConfig.width};\n      height: ${itemConfig.height || Math.max(height, itemConfig.fontSize)};\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      background-opacity: 0;\n      font-size: ${labelStyle.fontSize};\n      margin: ${itemConfig.margin}\n    }\n    shape {\n      top: ${height / 2};\n      left: ${width / 2};\n      width: ${width};\n      height: ${height};\n      background: ${style.fill};\n      border: ${style.lineWidth || '1'} solid ${style.stroke};\n      margin-right: 3;\n    }\n    .text {\n      flex: 1;\n      height: ${labelStyle.fontSize + 2};\n      color: ${labelStyle.fill};\n      background-opacity: 0;\n      pointer-events: none;\n      text-align: ${labelStyle.textAlign};\n      font-weight: ${labelStyle.fontWeight}\n    }\n    text {\n      opacity: ${labelStyle.opacity};\n      white-space: nowrap;\n    }\n`;\n\n  const node = createSegmentNode(html, css);\n  return node;\n}\n\nfunction getShapeSize(data) {\n  let width, height, r;\n  if (data.size) {\n    if (Array.isArray(data.size)) {\n      width = data.size[0];\n      height = data.size[1] || data.size[0];\n      r = data.size[0] / 2;\n    } else if (typeof data.size === 'number') {\n      width = data.size;\n      height = data.size;\n      r = data.size / 2;\n    }\n  }\n  if (data.style) {\n    if (data.style.width) width = data.style.width;\n    if (data.style.height) height = data.style.height;\n    if (data.style.r) r = data.style.r;\n  }\n\n  if (!r) r = 5;\n  if (!width) width = r;\n  if (!height) height = r;\n\n  return { width, height, r };\n}\n","import { IAbstractGraph as IGraph, GraphData, ShapeStyle } from '@antv/f6-core';\nimport Base from '../base';\nimport { isArray, isNumber, uniqueId } from '@antv/util';\nimport { createUI } from '@antv/f6-ui';\nimport { createItem } from './item';\n\nconst ALLOW_EVENTS = ['click', 'mouseenter'];\n\ninterface LegendConfig {\n  data: GraphData;\n  position?:\n    | 'top'\n    | 'top-left'\n    | 'top-right'\n    | 'right'\n    | 'right-top'\n    | 'right-bottom'\n    | 'left'\n    | 'left-top'\n    | 'left-bottom'\n    | 'bottom'\n    | 'bottom-left'\n    | 'bottom-right';\n  padding?: number | number[];\n  margin?: number | number[];\n  offsetX?: number;\n  offsetY?: number;\n  containerStyle?: ShapeStyle;\n  layout?: 'vertical' | 'horizontal';\n  width?: number;\n  height?: number;\n  align?: 'center' | 'right' | 'left';\n  title?: string;\n  titleConfig?: {\n    position?: 'center' | 'right' | 'left';\n    offsetX?: number;\n    offsetY?: number;\n    [key: string]: unknown;\n  };\n  itemConfig?: {\n    width?: number;\n    height?: number;\n    fontSize?: number;\n    margin?: 'string';\n  };\n  filter?: {\n    enable?: boolean;\n    multiple?: boolean;\n    trigger?: 'click';\n    legendStateStyles?: {\n      active?: ShapeStyle;\n      inactive?: ShapeStyle;\n    };\n    graphActiveState?: string;\n    graphInactiveState?: string;\n    filterFunctions?: {\n      [key: string]: (d) => boolean;\n    };\n  };\n}\n\n/**\n * mouseenter\n */\nexport default class Legend extends Base {\n  active = [];\n\n  inActive = [];\n  constructor(config?: LegendConfig) {\n    super(config);\n  }\n  public getDefaultCfgs(): LegendConfig {\n    return {\n      data: {},\n      position: 'top',\n      padding: 0,\n      margin: 0,\n      offsetX: -10,\n      offsetY: 0,\n      layout: 'horizontal',\n      containerStyle: {},\n      align: undefined,\n      filter: {\n        enable: false,\n        trigger: 'click',\n      },\n      itemConfig: {\n        width: 100,\n        height: 50,\n        fontSize: 12,\n      },\n    };\n  }\n\n  public init() {\n    this.formatArray('padding');\n    this.formatArray('margin');\n    const filter = this.get('filter') || {};\n    const multiple = filter.multiple;\n    if (multiple) this.set('multiple', false);\n    let align = this.get('align');\n    if (!align) {\n      const positions = this.get('position').split('-');\n      if (positions.includes('left')) align = 'left';\n      if (positions.includes('right')) align = 'right';\n      else align = 'center';\n      this.set('align', align);\n    }\n    setTimeout(() => {\n      const size = this.render();\n\n      const pos = this.getContainerPos(size);\n\n      this.get('graph').get('uiGroup').translate(pos.left, pos.top);\n\n      this.bindEvents();\n    });\n  }\n\n  protected getContainerPos(size: number[] = [0, 0]) {\n    const self = this;\n    const graph: IGraph = self.get('graph');\n    const offsetX = this.get('offsetX');\n    const offsetY = this.get('offsetY');\n    const margin = this.get('margin');\n    const positions = this.get('position').split('-');\n    const posIdxMap = { top: 0, right: 1, bottom: 2, left: 3 };\n\n    const x = 0,\n      y = 0;\n    const containerCSS: any = {\n      left: (graph.getWidth() - size[0]) / 2 + x,\n      top: (graph.getHeight() - size[1]) / 2 + y,\n    };\n    positions.forEach((pos) => {\n      let marginValue = margin[posIdxMap[pos]];\n      let key = pos;\n      switch (pos) {\n        case 'top':\n          marginValue += y;\n          break;\n        case 'left':\n          marginValue += x;\n          break;\n        case 'bottom':\n          marginValue = graph.getHeight() - size[1] - marginValue + y;\n          key = 'top';\n          break;\n        default:\n          marginValue = graph.getWidth() - size[0] - marginValue + x;\n          key = 'left';\n          break;\n      }\n      containerCSS[key] = marginValue;\n    });\n    containerCSS.top += offsetY;\n    containerCSS.left += offsetX;\n\n    Object.keys(containerCSS).forEach((key) => {\n      containerCSS[key] = `${containerCSS[key]}`;\n    });\n\n    return containerCSS;\n  }\n\n  // class-methods-use-this\n  public bindEvents() {\n    const self = this;\n    const filter = self.get('filter');\n    if (!filter || !filter.enable) return;\n    let trigger = filter.trigger || 'click';\n    if (!ALLOW_EVENTS.includes(trigger)) {\n      console.warn(\n        \"Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default.\",\n      );\n      trigger = 'click';\n    }\n    const ui = this.get('legendUI');\n    ui.on('tap', (e) => {\n      if (e?.uiNode?.getAttribute('class') === 'node-container') {\n        self.filterData(e.uiNode);\n      } else {\n        self.clearFilter();\n        self.clearActiveLegend();\n      }\n    });\n  }\n\n  /**\n   *  legend \n   * @param param\n   */\n  public changeData(data: GraphData) {\n    this.set('data', data);\n    const size = this.render();\n    const pos = this.getContainerPos(size);\n    this.get('graph').get('uiGroup').translate(pos.left, pos.top);\n  }\n\n  goActive(node) {\n    this.goDefault(node);\n    const filter = this.get('filter');\n    const stateStyles = filter?.lengedStateStyles || {};\n    const legendActive = stateStyles?.active || {\n      stroke: '#000',\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 'bold',\n        opacity: 1,\n      },\n    };\n    node.query('shape').setStyle('borderColor', legendActive.stroke);\n    node.query('shape').setStyle('borderWidth', legendActive.lineWidth);\n    node.query('text').setStyle('fontWeight', legendActive['text-shape'].fontWeight);\n    node.query('text').setStyle('opacity', legendActive['text-shape'].opacity);\n    this.active.push(node);\n    this.inActive.includes(node) && this.inActive.splice(this.inActive.indexOf(node), 1);\n  }\n\n  goDefault(node) {\n    const originStyle = node.getAttribute('orignStyle');\n    node.query('shape').setStyle('borderColor', originStyle.stroke);\n    node.query('shape').setStyle('opacity', 1);\n    node.query('shape').setStyle('borderWidth', originStyle.lineWidth || 1);\n    node.query('text').setStyle('fontWeight', 'normal');\n    node.query('text').setStyle('opacity', 1);\n  }\n\n  goInActive(node) {\n    this.goDefault(node);\n    const filter = this.get('filter');\n    const stateStyles = filter?.lengedStateStyles || {};\n    const legendInactive = stateStyles?.inactive || {\n      opacity: 0.5,\n      'text-shape': {\n        opacity: 0.5,\n      },\n    };\n    node.query('shape').setStyle('opacity', legendInactive.opacity);\n    node.query('text').setStyle('opacity', legendInactive['text-shape'].opacity);\n    this.inActive.push(node);\n    this.active.includes(node) && this.active.splice(this.active.indexOf(node), 1);\n  }\n\n  public activateLegend(node) {\n    const filter = this.get('filter');\n    const multiple = filter?.multiple;\n    if (!multiple) this.clearActiveLegend();\n    if (this.active.includes(node)) return;\n    const ui = this.get('legendUI');\n    const nodes = ui.queryAll('.node-container');\n    this.goActive(node);\n    nodes.forEach((node) => {\n      if (this.active.includes(node)) return;\n      this.goInActive(node);\n    });\n  }\n\n  public clearActiveLegend() {\n    const ui = this.get('legendUI');\n    const nodes = ui.queryAll('.node-container');\n    nodes.forEach((node) => {\n      this.goDefault(node);\n    });\n    this.active = [];\n    this.inActive = [];\n  }\n\n  /**\n   * \n   * @param param\n   */\n  public filterData(activeNode) {\n    const filter = this.get('filter');\n    const filterFunctions = filter?.filterFunctions;\n    if (!filter || !filterFunctions) return;\n    const graph = this.get('graph');\n    const activeState = filter.graphActiveState || 'active';\n    const inactiveState = filter.graphInactiveState || 'inactive';\n    const multiple = filter.multiple;\n    this.clearFilter();\n    if (!multiple) this.clearActiveLegend();\n\n    if (this.active.includes(activeNode)) {\n      this.goInActive(activeNode);\n    } else {\n      //  legend \n      this.activateLegend(activeNode);\n    }\n    if (this.active.length === 0) {\n      const ui = this.get('legendUI');\n      ui.queryAll('.node-container').forEach((child) => this.goDefault(child));\n    }\n    let activeCount = 0;\n    const typeFuncs = ['getNodes', 'getEdges'];\n    typeFuncs.forEach((typeFunc) => {\n      graph[typeFunc]().forEach((graphItem) => {\n        let active = false;\n        this.active.forEach((node) => {\n          const func = filterFunctions[node.getAttribute('legendId')];\n          active = active || func(graphItem.getModel());\n        });\n        if (active) {\n          graph.setItemState(graphItem, inactiveState, false);\n          graph.setItemState(graphItem, activeState, true);\n          activeCount++;\n        } else {\n          graph.setItemState(graphItem, activeState, false);\n          graph.setItemState(graphItem, inactiveState, true);\n        }\n      });\n    });\n    if (!activeCount)\n      typeFuncs.forEach((typeFunc) => {\n        graph[typeFunc]().forEach((graphItem) => {\n          graph.clearItemStates(graphItem, [inactiveState]);\n        });\n      });\n  }\n\n  /**\n   * \n   * @param param\n   */\n  public clearFilter() {\n    //  legend \n    const graph = this.get('graph');\n    const filter = this.get('filter');\n    if (!filter) return;\n    const activeState = filter.graphActiveState || 'active';\n    const inactiveState = filter.graphInactiveState || 'inactive';\n    graph.getNodes().forEach((node) => {\n      graph.clearItemStates(node, [activeState, inactiveState]);\n    });\n    graph.getEdges().forEach((edge) => {\n      graph.clearItemStates(edge, [activeState, inactiveState]);\n    });\n  }\n\n  /**\n   *  legend \n   * @param param\n   */\n  protected render(): number[] {\n    this.processData();\n\n    const itemsData = this.get('itemsData');\n    const itemTypes = ['nodes', 'edges'];\n\n    // \n    let nodes = [[], []];\n    itemTypes.forEach((itemType, i) => {\n      itemsData[itemType].forEach((data) => {\n        const style = this.getStyle(itemType.substr(0, 4), data);\n        nodes[i].push(createItem(data, style, this.get('itemConfig')));\n      });\n    });\n\n    // title\n    const title = this.get('title');\n    const html = ` \n    <div class='g6-legend-container'>\n      ${title && `<div class='text-container'>${title}</div>`}\n      <div class='node-wrap'>\n        <div class='node-row'> </div>\n        <div class='edge-row'> </div>\n      </div>  \n    </div>`;\n\n    const defaultTitleStyle = {\n      fontSize: 20,\n      fontFamily: 'Arial',\n      fontWeight: 300,\n      textBaseline: 'top',\n      textAlign: 'center',\n      fill: '#000',\n    };\n    const titleConfig = this.get('titleConfig') || {};\n    const titleStyle = Object.assign(defaultTitleStyle, titleConfig.style || {});\n    const containerStyle = this.get('containerStyle');\n    const padding = this.get('padding');\n    const margin = this.get('margin');\n    // flex-direction: ${this.get('layout') === 'vertical' ? 'column' : 'row'};\n\n    const css = `\n      .g6-legend-container{\n        width: ${this.get('width')};\n        height: ${this.get('height')};\n        padding: ${padding.join(' ')};\n        margin: ${margin.join(' ')};\n        background: ${containerStyle.fill || '#f00'};\n        border: ${containerStyle.lineWidth || '1'} solid ${containerStyle.stroke || '#000'};\n        opacity: ${containerStyle.opacity || '0.5'}\n      }\n      .text-container {\n        font-size: ${titleStyle.fontSize};\n        font-family: ${titleStyle.fontFamily};\n        font-weight: ${titleStyle.fontWeight};\n        text-align: ${titleStyle.textAlign};\n        color: ${titleStyle.fill};\n        height: ${titleStyle.fontSize};\n        background-opacity: 0;\n        top:  ${titleConfig.offsetY};\n        left: ${titleConfig.offsetX};\n      }\n      .edge-row, .node-row {\n        display: flex;\n        flex-direction: ${this.get('layout') === 'vertical' ? 'column' : 'row'};\n        flex-wrap: nowrap;\n        justify-content: space-between;\n        background-opacity: 0;\n      }\n      .node-wrap {\n        flex: 1;\n        flex-direction: ${this.get('layout') === 'vertical' ? 'row' : 'column'};\n        justify-content: space-between;\n        background-opacity: 0;\n      }\n    `;\n    const ui = createUI(html, css, this.get('graph').get('uiGroup'));\n    ui.query('.node-row').appendChild(...nodes[0]);\n    ui.query('.edge-row').appendChild(...nodes[1]);\n    this.set('legendUI', ui);\n\n    return [ui.width, ui.height];\n  }\n\n  protected processData() {\n    const data = this.get('data');\n    const itemsData = { nodes: [], edges: [] };\n    if (data.nodes) {\n      data.nodes.sort((a, b) => a.order - b.order);\n      data.nodes.forEach((node) => {\n        const size = node.size || [\n          node.style?.width || node.style?.r || 8,\n          node.style?.height || node.style?.r || 8,\n        ];\n        const labelStyle = node.labelCfg?.style || {};\n        itemsData.nodes.push({\n          id: node.id || uniqueId(),\n          type: node.type || 'circle',\n          style: {\n            ...node.style,\n          },\n          order: node.order,\n          label: node.label,\n          itemType: 'node',\n          size,\n          labelCfg: {\n            position: 'right',\n            style: {\n              fontFamily: 'Arial',\n              ...labelStyle,\n            },\n          },\n        });\n      });\n    }\n    if (data.edges) {\n      data.edges.sort((a, b) => a.order - b.order);\n      data.edges.forEach((edge) => {\n        let type = edge.type || 'line';\n        if (edge.type === 'cubic-horizontal') type = 'cubic';\n        const labelStyle = edge.labelCfg?.style || {};\n        const size = edge.size || [edge.style?.width || 8, 1];\n\n        itemsData.edges.push({\n          id: edge.id || uniqueId(),\n          type,\n          size,\n          style: {\n            lineWidth: isArray(size) ? size[1] : 1,\n            ...edge.style,\n          },\n          order: edge.order,\n          label: edge.label,\n          itemType: 'edge',\n          labelCfg: {\n            position: 'right',\n            style: {\n              fontFamily: 'Arial',\n              ...labelStyle,\n            },\n          },\n        });\n      });\n    }\n\n    this.set('itemsData', itemsData);\n  }\n\n  protected formatArray(key: string) {\n    const value = this.get(key);\n    if (isNumber(value)) this.set(key, [value, value, value, value]);\n    else if (isArray(value)) {\n      switch (value.length) {\n        case 0:\n          this.set(key, [0, 0, 0, 0]);\n          break;\n        case 1:\n          this.set(key, [value[0], value[0], value[0], value[0]]);\n          break;\n        case 2:\n          this.set(key, [value[0], value[1], value[0], value[1]]);\n          break;\n        case 3:\n          this.set(key, [value[0], value[1], value[2], value[1]]);\n          break;\n        default:\n          break;\n      }\n    }\n    return this.get(key);\n  }\n\n  private getStyle(type, data) {\n    const defaultStyle =\n      type === 'node'\n        ? {\n            fill: '#ccc',\n            lineWidth: 0,\n          }\n        : {\n            stroke: '#000',\n            lineWidth: 1,\n          };\n    return {\n      ...defaultStyle,\n      ...(data.style || {}),\n    };\n  }\n\n  public destroy() {\n    const graph: IGraph = this.get('graph');\n    const graphContainer = graph.get<HTMLDivElement>('container');\n    const container: HTMLDivElement = this.get('container');\n    graphContainer.removeChild(container);\n  }\n}\n","import { IAbstractGraph as IGraph } from '@antv/f6-core';\nimport Base, { IPluginBaseConfig } from '../base';\nimport { createUI } from '@antv/f6-ui';\n\ninterface ZoomSliderConfig extends IPluginBaseConfig {\n  minZoom: number;\n  maxZoom: number;\n  // \n  sliderWidthPercent: number;\n  // \n  dragTimestamp: number;\n  sliderPosition: 'bottom' | 'top';\n  customizedStyle: string;\n}\n\n/**\n * \n */\nexport default class ZoomSlider extends Base {\n  constructor(props?: ZoomSliderConfig) {\n    super(props);\n  }\n\n  public getDefaultCfgs() {\n    return {\n      minZoom: 0.5,\n      maxZoom: 3,\n      sliderWidthPercent: 0.3,\n      dragTimestamp: +new Date(),\n      sliderPosition: 'bottom',\n      customizedStyle: '',\n      getContent: () => {\n        return `\n          <root class=\"f6-zoom-slider\">\n            <div class=\"rail\"></div>\n            <div class=\"track\"></div>\n            <div class=\"handle\">\n              <div class=\"text\">1 times</div>\n              <div class=\"circle\"></div>\n            </div>\n          </root>\n        `;\n      },\n      getCss: () => {\n        const graph: IGraph = this.get('graph');\n        const graphWidth = graph.get('width');\n        const graphHeight = graph.get('height');\n        const minZoom = this.get('minZoom');\n        const maxZoom = this.get('maxZoom');\n        const sliderWidthPercent = this.get('sliderWidthPercent');\n        const containerWidth = Math.floor(graphWidth * sliderWidthPercent);\n        const resultX = containerWidth * ((1 - minZoom) / (maxZoom - minZoom));\n        const sliderPosition = this.get('sliderPosition');\n        const sliderToTop = (sliderPosition === 'top') ? 30 : (graphHeight - 60);\n        const customizedStyle = this.get('customizedStyle');\n        return `\n          .f6-zoom-slider {\n            width: ${containerWidth};\n            height: 30;\n            margin-left: ${Math.floor((graphWidth * (1 - sliderWidthPercent)) / 2)};\n            padding: 13 0;\n            top: ${sliderToTop};\n            position: relative;\n            opacity: 0;\n          }\n\n          .rail {\n            width: ${containerWidth};\n            height: 4;\n            background-color: #bcbcbc;\n            border-radius: 2;\n            opacity: 1;\n          }\n\n          .track {\n            width: ${resultX + 2};\n            height: 4;\n            background-color: #91d5ff;\n            position: absolute;\n            top: 13;\n            border-radius: 2;\n            opacity: 1;\n          }\n\n          .handle {\n            height: 30;\n            width: 40;\n            position: absolute;\n            top: 0;\n            left: ${resultX - 9};\n            padding: 9;\n            opacity: 0;\n          }\n\n          .circle {\n            height: 13;\n            width: 13;\n            border-radius: 6.5;\n            border: 2px solid #1890ff;\n            background-color: #fff;\n            opacity: 1;\n          }\n\n          .text  {\n            position: absolute;\n            top: -9;\n            margin-left: -12;\n            color: #666;\n            width: 45;\n          }\n        ` + customizedStyle;\n      },\n    };\n  }\n\n  public getEvents() {\n    return {\n      dragstart: 'onDragStart',\n      dragend: 'onDragEnd',\n      pinchmove: 'onDragStart',\n      pinchend: 'onDragEnd'\n    };\n  }\n\n  public init() {\n    setTimeout(() => {\n      this.initSlider();\n    });\n  }\n\n  /**\n   * \n   */\n  initSlider() {\n    console.log('initSlider', this);\n    const graph: IGraph = this.get('graph');\n    const uiGroup = graph.get('uiGroup');\n    const html = this.get('getContent')();\n    const css = this.get('getCss')();\n    const zoomSliderUI = createUI(html, css, uiGroup);\n    const handleUI = zoomSliderUI.query('.handle');\n\n    let startX = 0;\n    handleUI.on('panstart', (e) => {\n      startX = e.clientX;\n    });\n\n    handleUI.on('panmove', (e) => {\n      const distance = e.clientX - startX;\n      startX = e.clientX;\n      this.set('dragTimestamp', +new Date());\n      this.updateHandlePosition(distance);\n    });\n\n    zoomSliderUI.setStyle('display', 'none');\n    this.set('zoomSlider', zoomSliderUI);\n  }\n\n  /**\n   * \n   */\n  onDragStart() {\n    // \n    const graph: IGraph = this.get('graph');\n    const scale = graph.getZoom();\n    const graphWidth = graph.get('width');\n    const zoomSliderUI = this.get('zoomSlider');\n    const minZoom = this.get('minZoom');\n    const maxZoom = this.get('maxZoom');\n    const sliderWidthPercent = this.get('sliderWidthPercent');\n    const trackUI = zoomSliderUI.query('.track');\n    const containerWidth = Math.floor(graphWidth * sliderWidthPercent);\n    const distance =\n      containerWidth * ((scale - minZoom) / (maxZoom - minZoom)) - trackUI.getStyle('width');\n    this.updateHandlePosition(distance);\n    // \n    clearInterval(this.get('clearHandle'));\n    zoomSliderUI.setStyle('display', 'block');\n  }\n\n  /**\n   * \n   */\n  async onDragEnd() {\n    const zoomSliderUI = this.get('zoomSlider');\n    clearInterval(this.get('clearHandle'));\n    const clearHandle = setInterval(() => {\n      const dragBefore = +new Date() - this.get('dragTimestamp');\n      if (dragBefore > 3000) {\n        clearInterval(this.get('clearHandle'));\n        zoomSliderUI.setStyle('display', 'none');\n      }\n    }, 3000);\n    this.set('clearHandle', clearHandle);\n  }\n\n  /**\n   * \n   */\n  updateHandlePosition(distance) {\n    const graph: IGraph = this.get('graph');\n    const zoomSliderUI = this.get('zoomSlider');\n    const sliderWidthPercent = this.get('sliderWidthPercent');\n    const minZoom = this.get('minZoom');\n    const maxZoom = this.get('maxZoom');\n    const trackUI = zoomSliderUI.query('.track');\n    const handleUI = zoomSliderUI.query('.handle');\n    const clientX = trackUI.getStyle('width');\n    const containerWidth = graph.get('width') * sliderWidthPercent;\n    let resultX = clientX + distance;\n    if (resultX < 0) {\n      resultX = 0;\n    }\n    if (resultX > containerWidth) {\n      resultX = containerWidth;\n    }\n    const scaleRatio = (maxZoom - minZoom) * (resultX / containerWidth) + minZoom;\n    trackUI.setStyle('width', resultX);\n    handleUI.setStyle('left', resultX - 9); // 9: handle  padding left\n    handleUI.setText(`${Math.round(scaleRatio * 10) / 10} times`);\n    this.updateScale(scaleRatio);\n  }\n\n  /**\n   * \n   */\n  updateScale(scaleRatio) {\n    const graph: IGraph = this.get('graph');\n    graph.zoom(scaleRatio / graph.getZoom());\n  }\n}\n","import { clone } from '@antv/util';\nimport { IG6GraphEvent, ShapeStyle, IAbstractGraph as IGraph, Util } from '@antv/f6-core';\nimport Base from '../base';\n\nconst { distance } = Util;\n\nconst DELTA = 0.05;\n\ninterface EdgeFilterLensConfig {\n  trigger?: 'tab' | 'drag';\n  r?: number;\n  delegateStyle?: ShapeStyle;\n  showLabel?: 'node' | 'edge' | 'both' | undefined;\n  maxR?: number;\n  minR?: number;\n  type?: 'one' | 'both' | 'only-source' | 'only-target';\n  shouldShow?: (d?: unknown) => boolean;\n}\n\nconst lensDelegateStyle = {\n  stroke: '#000',\n  strokeOpacity: 0.8,\n  lineWidth: 2,\n  fillOpacity: 1,\n  fill: '#fff',\n};\nexport default class EdgeFilterLens extends Base {\n  isUp = true;\n  scaleTimer = null;\n  constructor(config?: EdgeFilterLensConfig) {\n    super(config);\n  }\n\n  public getDefaultCfgs(): EdgeFilterLensConfig {\n    return {\n      type: 'both',\n      trigger: 'drag',\n      r: 60,\n      delegateStyle: clone(lensDelegateStyle),\n      showLabel: 'edge',\n    };\n  }\n\n  // class-methods-use-this\n  public getEvents() {\n    let events;\n    switch ((this as any).get('trigger')) {\n      case 'click':\n        events = {\n          tap: 'filter',\n        };\n        break;\n      case 'drag':\n        events = {\n          press: 'createDelegate',\n        };\n        break;\n      default:\n        events = {\n          mousemove: 'filter',\n        };\n        break;\n    }\n    return events;\n  }\n\n  public init() {\n    const self = this;\n    const showLabel = self.get('showLabel');\n    const showNodeLabel = showLabel === 'node' || showLabel === 'both';\n    const showEdgeLabel = showLabel === 'edge' || showLabel === 'both';\n    self.set('showNodeLabel', showNodeLabel);\n    self.set('showEdgeLabel', showEdgeLabel);\n    const shouldShow = self.get('shouldShow');\n    if (!shouldShow) self.set('shouldShow', () => true);\n  }\n\n  // Create the delegate when the trigger is drag\n  protected createDelegate(e: IG6GraphEvent) {\n    const self = this;\n    let lensDelegate = self.get('delegate');\n    if (!lensDelegate || lensDelegate.destroyed) {\n      const graph = this.get('graph');\n      const pos = graph.getPointByClient(e.clientX, e.clientY);\n      self.filter(pos);\n      lensDelegate = self.get('delegate');\n\n      // drag to move the lens\n      lensDelegate.on('dragstart', (evt) => {});\n      lensDelegate.on('drag', (e) => {\n        const pos = graph.getPointByClient(e.clientX, e.clientY);\n        self.filter(pos);\n      });\n      lensDelegate.on('dragend', (e) => {\n        this.clear();\n      });\n    }\n  }\n\n  /**\n   * Scale the range by wheel\n   * @param e mouse wheel event\n   */\n  protected scaleRByWheel(e: IG6GraphEvent, isUp: boolean) {\n    const self = this;\n    if (!e) return;\n    if (e.preventDefault) e.preventDefault();\n    const graph: IGraph = self.get('graph');\n    let ratio;\n    const lensDelegate = self.get('delegate');\n    const lensCenter = lensDelegate\n      ? {\n          x: lensDelegate.attr('x'),\n          y: lensDelegate.attr('y'),\n        }\n      : undefined;\n    const mousePos = lensCenter || graph.getPointByClient(e.clientX, e.clientY);\n    if (isUp) {\n      ratio = 1 / (1 - DELTA);\n    } else {\n      ratio = 1 - DELTA;\n    }\n    const maxR = self.get('maxR');\n    const minR = self.get('minR');\n    let r = self.get('r');\n    if (\n      (r > (maxR || graph.get('height')) && ratio > 1) ||\n      (r < (minR || graph.get('height') * 0.05) && ratio < 1)\n    ) {\n      ratio = 1;\n    }\n    r *= ratio;\n    self.set('r', r);\n    self.filter(e);\n  }\n\n  /**\n   * Response function for mousemove, click, or drag to filter out the edges\n   * @param e mouse event\n   */\n  protected filter({ x, y }) {\n    const self = this;\n    const graph = self.get('graph');\n    const nodes = graph.getNodes();\n    const hitNodesMap = {};\n    const r = self.get('r');\n    const type = self.get('type');\n    const fCenter = { x, y };\n    self.updateDelegate(fCenter, r);\n    const shouldShow = self.get('shouldShow');\n\n    let vShapes = self.get('vShapes');\n    if (vShapes) {\n      vShapes.forEach((shape) => {\n        shape.remove();\n        shape.destroy();\n      });\n    }\n    vShapes = [];\n\n    nodes.forEach((node) => {\n      const model = node.getModel();\n      const { x, y } = model;\n      if (distance({ x, y }, fCenter) < r) {\n        hitNodesMap[model.id] = node;\n      }\n    });\n    const edges = graph.getEdges();\n    const hitEdges = [];\n    edges.forEach((edge) => {\n      const model = edge.getModel();\n      const sourceId = model.source;\n      const targetId = model.target;\n      if (shouldShow(model)) {\n        if (type === 'only-source' || type === 'one') {\n          if (hitNodesMap[sourceId] && !hitNodesMap[targetId]) hitEdges.push(edge);\n        } else if (type === 'only-target' || type === 'one') {\n          if (hitNodesMap[targetId] && !hitNodesMap[sourceId]) hitEdges.push(edge);\n        } else if (type === 'both' && hitNodesMap[sourceId] && hitNodesMap[targetId]) {\n          hitEdges.push(edge);\n        }\n      }\n    });\n\n    const showNodeLabel = self.get('showNodeLabel');\n    const showEdgeLabel = self.get('showEdgelabel');\n\n    // copy the shapes in hitEdges\n    const group = graph.get('group');\n    hitEdges.forEach((edge) => {\n      const shapes = edge.get('group').get('children');\n      shapes.forEach((shape) => {\n        const shapeType = shape.get('type');\n        const vShape = group.addShape(shapeType, {\n          attrs: shape.attr(),\n          capture: false\n        });\n        vShapes.push(vShape);\n        if (showNodeLabel && shapeType === 'text') {\n          vShape.set('visible', true);\n        }\n      });\n    });\n    // copy the shape sof hitNodes\n    Object.keys(hitNodesMap).forEach((key) => {\n      const node = hitNodesMap[key];\n      const clonedGroup = node.get('group').clone();\n      clonedGroup.set('capture', false)\n      group.add(clonedGroup);\n      vShapes.push(clonedGroup);\n      if (showEdgeLabel) {\n        const shapes = clonedGroup.get('children');\n        for (let j = 0; j < shapes.length; j++) {\n          const shape = shapes[j];\n          if (shape.get('type') === 'text') {\n            shape.set('visible', true);\n          }\n        }\n      }\n    });\n\n    self.set('vShapes', vShapes);\n  }\n\n  /**\n   * Adjust part of the parameters, including trigger, type, r, maxR, minR, shouldShow, showLabel, and scaleRBy\n   * @param {EdgeFilterLensConfig} cfg\n   */\n  public updateParams(cfg: EdgeFilterLensConfig) {\n    const self = this;\n    const { r, trigger, minR, maxR, showLabel, shouldShow } = cfg;\n    if (!isNaN(cfg.r)) {\n      self.set('r', r);\n    }\n    if (!isNaN(maxR)) {\n      self.set('maxR', maxR);\n    }\n    if (!isNaN(minR)) {\n      self.set('minR', minR);\n    }\n    if (trigger === 'tab') {\n      self.set('trigger', trigger);\n    }\n\n    if (showLabel === 'node' || showLabel === 'both') {\n      self.set('showNodeLabel', true);\n    }\n    if (showLabel === 'edge' || showLabel === 'both') {\n      self.set('showEdgeLabel', true);\n    }\n    if (shouldShow) {\n      self.set('shouldShow', shouldShow);\n    }\n  }\n\n  /**\n   * Update the delegate shape of the lens\n   * @param {Point} mCenter the center of the shape\n   * @param {number} r the radius of the shape\n   */\n  private updateDelegate(mCenter, r) {\n    const self = this;\n    const graph = self.get('graph');\n    let lensDelegate = self.get('delegate');\n    if (!lensDelegate || lensDelegate.destroyed) {\n      // \n      const parent = graph.get('group');\n      const attrs = self.get('delegateStyle') || lensDelegateStyle;\n\n      // modelx, ydelegateShapegx,y\n      lensDelegate = parent.addShape('circle', {\n        attrs: {\n          r,\n          x: mCenter.x,\n          y: mCenter.y,\n          ...attrs,\n        },\n        name: 'lens-shape',\n        draggable: true,\n        zIndex: 1000\n      });\n    } else {\n      lensDelegate.attr({\n        x: mCenter.x,\n        y: mCenter.y,\n        r,\n      });\n    }\n\n    self.set('delegate', lensDelegate);\n  }\n\n  /**\n   * Clear the filtering\n   */\n  public clear() {\n    const self = this;\n    let vShapes = self.get('vShapes');\n    if (vShapes) {\n      vShapes.forEach((shape) => {\n        shape.remove();\n        shape.destroy();\n      });\n    }\n    vShapes = [];\n    self.set('vShapes', vShapes);\n    const lensDelegate = self.get('delegate');\n    if (lensDelegate && !lensDelegate.destroyed) {\n      lensDelegate.remove();\n      lensDelegate.destroy();\n    }\n  }\n\n  /**\n   * Destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n}\n","import { clone, throttle } from '@antv/util';\nimport { IG6GraphEvent, ShapeStyle, IAbstractGraph as IGraph } from '@antv/f6-core';\nimport Base from '../base';\n\nconst DELTA = 0.05;\n\ninterface FisheyeConfig {\n  trigger?: 'mousemove' | 'tap' | 'drag';\n  d?: number;\n  r?: number;\n  delegateStyle?: ShapeStyle;\n  showLabel?: boolean;\n  scaleRBy?: 'drag' | 'unset' | undefined;\n  scaleDBy?: 'drag' | 'unset' | undefined;\n  maxR?: number;\n  minR?: number;\n  maxD?: number;\n  minD?: number;\n  showDPercent?: boolean;\n}\n\nconst lensDelegateStyle = {\n  stroke: '#000',\n  strokeOpacity: 0.8,\n  lineWidth: 2,\n  fillOpacity: 0.1,\n  fill: '#ccc',\n};\nexport default class Fisheye extends Base {\n  constructor(config?: FisheyeConfig) {\n    super(config);\n  }\n  public getDefaultCfgs(): FisheyeConfig {\n    return {\n      trigger: 'tap',\n      d: 1.5,\n      r: 300,\n      delegateStyle: clone(lensDelegateStyle),\n      showLabel: false,\n      maxD: 5,\n      minD: 0,\n      scaleRBy: 'unset',\n      scaleDBy: 'unset',\n      showDPercent: true,\n    };\n  }\n\n  // class-methods-use-this\n  public getEvents() {\n    let events;\n    switch ((this as any).get('trigger')) {\n      case 'tap':\n        events = {\n          tap: 'magnify',\n        };\n        break;\n      case 'drag':\n        events = {\n          press: 'createDelegate',\n        };\n        break;\n      default:\n        events = {\n          tap: 'magnify',\n        };\n        break;\n    }\n    return events;\n  }\n\n  public init() {\n    const self = this;\n    const r = self.get('r');\n    self.set('cachedMagnifiedModels', []);\n    self.set('cachedOriginPositions', {});\n    self.set('r2', r * r);\n    const d = self.get('d');\n    self.set('molecularParam', (d + 1) * r);\n  }\n\n  // Create the delegate when the trigger is drag\n  protected createDelegate(e: IG6GraphEvent) {\n    const self = this;\n    let lensDelegate = self.get('delegate');\n    if (!lensDelegate || lensDelegate.destroyed) {\n      self.magnify(e);\n      lensDelegate = self.get('delegate');\n\n      // drag to move the lens\n      lensDelegate.on('dragstart', (evt) => {\n        self.set('delegateCenterDiff', {\n          x: lensDelegate.attr('x') - evt.x,\n          y: lensDelegate.attr('y') - evt.y,\n        });\n      });\n      const throMmagnify = throttle(self.magnify.bind(self), 100, {\n        leading: false,\n        trailing: false,\n      });\n      lensDelegate.on('drag', throMmagnify);\n\n      lensDelegate.on('dragend', (evt) => {\n        this.clear();\n      });\n\n      // r(d)\n      //  drag  lens , , drag  r  d\n\n      // scaling d\n      if (this.get('scaleDBy') === 'wheel') {\n        lensDelegate.on('mousewheel', (evt) => {\n          this.scaleDByWheel(evt);\n        });\n      }\n\n      // scaling r\n      if (this.get('scaleRBy') === 'wheel') {\n        lensDelegate.on('mousewheel', (evt) => {\n          self.scaleRByWheel(evt);\n        });\n      }\n    }\n  }\n\n  /**\n   * Scale the range by wheel\n   * @param e mouse wheel event\n   */\n  protected scaleRByWheel(e: IG6GraphEvent) {\n    const self = this;\n    if (!e || !e.originalEvent) return;\n    if (e.preventDefault) e.preventDefault();\n    const graph: IGraph = self.get('graph');\n    let ratio;\n    const lensDelegate = self.get('delegate');\n    const lensCenter = lensDelegate\n      ? {\n          x: lensDelegate.attr('x'),\n          y: lensDelegate.attr('y'),\n        }\n      : undefined;\n    const mousePos = lensCenter || graph.getPointByClient(e.clientX, e.clientY);\n    if ((e.originalEvent as any).wheelDelta < 0) {\n      ratio = 1 - DELTA;\n    } else {\n      ratio = 1 / (1 - DELTA);\n    }\n    const maxR = self.get('maxR');\n    const minR = self.get('minR');\n    let r = self.get('r');\n    if (\n      (r > (maxR || graph.get('height')) && ratio > 1) ||\n      (r < (minR || graph.get('height') * 0.05) && ratio < 1)\n    ) {\n      ratio = 1;\n    }\n    r *= ratio;\n    self.set('r', r);\n    self.set('r2', r * r);\n    const d = self.get('d');\n    self.set('molecularParam', (d + 1) * r);\n    self.set('delegateCenterDiff', undefined);\n    self.magnify(e, mousePos);\n  }\n\n  /**\n   * Scale the range by dragging\n   * @param e mouse event\n   */\n  protected scaleRByDrag(e: IG6GraphEvent) {\n    const self = this;\n    if (!e) return;\n    const dragPrePos = self.get('dragPrePos');\n    const graph: IGraph = self.get('graph');\n    let ratio;\n    const mousePos = graph.getPointByClient(e.clientX, e.clientY);\n    if (e.x - dragPrePos.x < 0) {\n      ratio = 1 - DELTA;\n    } else {\n      ratio = 1 / (1 - DELTA);\n    }\n    const maxR = self.get('maxR');\n    const minR = self.get('minR');\n    let r = self.get('r');\n    if (\n      (r > (maxR || graph.get('height')) && ratio > 1) ||\n      (r < (minR || graph.get('height') * 0.05) && ratio < 1)\n    ) {\n      ratio = 1;\n    }\n    r *= ratio;\n    self.set('r', r);\n    self.set('r2', r * r);\n    const d = self.get('d');\n    self.set('molecularParam', (d + 1) * r);\n    self.magnify(e, mousePos);\n    self.set('dragPrePos', { x: e.x, y: e.y });\n  }\n\n  /**\n   * Scale the magnifying factor by wheel\n   * @param e mouse wheel event\n   */\n  protected scaleDByWheel(evt: IG6GraphEvent) {\n    const self = this;\n    if (!evt && !evt.originalEvent) return;\n    if (evt.preventDefault) evt.preventDefault();\n    let delta = 0;\n    if ((evt.originalEvent as any).wheelDelta < 0) {\n      delta = -0.1;\n    } else {\n      delta = 0.1;\n    }\n    const d = self.get('d');\n    const newD = d + delta;\n    const maxD = self.get('maxD');\n    const minD = self.get('minD');\n    if (newD < maxD && newD > minD) {\n      self.set('d', newD);\n      const r = self.get('r');\n      self.set('molecularParam', (newD + 1) * r);\n      const lensDelegate = self.get('delegate');\n      const lensCenter = lensDelegate\n        ? {\n            x: lensDelegate.attr('x'),\n            y: lensDelegate.attr('y'),\n          }\n        : undefined;\n      self.set('delegateCenterDiff', undefined);\n      self.magnify(evt, lensCenter);\n    }\n  }\n\n  /**\n   * Scale the magnifying factor by dragging\n   * @param e mouse event\n   */\n  protected scaleDByDrag(e: IG6GraphEvent) {\n    const self = this;\n    const dragPrePos = self.get('dragPrePos');\n    const delta = e.x - dragPrePos.x > 0 ? 0.1 : -0.1;\n    const d = self.get('d');\n    const newD = d + delta;\n    const maxD = self.get('maxD');\n    const minD = self.get('minD');\n    if (newD < maxD && newD > minD) {\n      self.set('d', newD);\n      const r = self.get('r');\n      self.set('molecularParam', (newD + 1) * r);\n      self.magnify(e);\n    }\n    self.set('dragPrePos', { x: e.x, y: e.y });\n  }\n\n  /**\n   * Response function for mousemove, tap, or drag to magnify\n   * @param e mouse event\n   */\n  protected magnify(e: IG6GraphEvent, mousePos?) {\n    const self = this;\n    self.restoreCache();\n    const graph: IGraph = self.get('graph');\n    const cachedMagnifiedModels = self.get('cachedMagnifiedModels');\n    const cachedOriginPositions = self.get('cachedOriginPositions');\n    const showLabel = self.get('showLabel');\n    const r = self.get('r');\n    const r2 = self.get('r2');\n    const d = self.get('d');\n    const molecularParam = self.get('molecularParam');\n    const nodes = graph.getNodes();\n    const nodeLength = nodes.length;\n    let mCenter = mousePos ? { x: mousePos.x, y: mousePos.y } : { x: e.x, y: e.y };\n    if (\n      self.get('dragging') &&\n      (self.get('trigger') === 'mousemove' || self.get('trigger') === 'tap')\n    ) {\n      mCenter = self.get('cacheCenter');\n      // todo: pc,why\n      mCenter = graph.getPointByClient(mCenter.x, mCenter.y);\n    }\n    const delegateCenterDiff = self.get('delegateCenterDiff');\n    if (delegateCenterDiff) {\n      mCenter.x += delegateCenterDiff.x;\n      mCenter.y += delegateCenterDiff.y;\n    }\n    self.updateDelegate(mCenter, r);\n    for (let i = 0; i < nodeLength; i++) {\n      const model = nodes[i].getModel();\n      const { x, y } = model;\n      if (isNaN(x) || isNaN(y)) continue;\n      // the square of the distance between the node and the magnified center\n      const dist2 = (x - mCenter.x) * (x - mCenter.x) + (y - mCenter.y) * (y - mCenter.y);\n      if (!isNaN(dist2) && dist2 < r2 && dist2 !== 0) {\n        const dist = Math.sqrt(dist2);\n        // (r * (d + 1) * (dist / r)) / (d * (dist / r) + 1);\n        const magnifiedDist = (molecularParam * dist) / (d * dist + r);\n        const cos = (x - mCenter.x) / dist;\n        const sin = (y - mCenter.y) / dist;\n        model.x = cos * magnifiedDist + mCenter.x;\n        model.y = sin * magnifiedDist + mCenter.y;\n        if (!cachedOriginPositions[model.id]) {\n          cachedOriginPositions[model.id] = { x, y, texts: [] };\n        }\n        cachedMagnifiedModels.push(model);\n        if (showLabel && 2 * dist < r) {\n          const node = nodes[i];\n          const nodeGroup = node.getContainer();\n          const shapes = nodeGroup.getChildren();\n          const shapeLength = shapes.length;\n          for (let j = 0; j < shapeLength; j++) {\n            const shape = shapes[j];\n            if (shape.get('type') === 'text') {\n              cachedOriginPositions[model.id].texts.push({\n                visible: shape.get('visible'),\n                shape,\n              });\n              shape.set('visible', true);\n            }\n          }\n        }\n      }\n    }\n    graph.refreshPositions();\n  }\n\n  /**\n   * Restore the cache nodes while magnifying\n   */\n  protected restoreCache() {\n    const self = this;\n    const cachedMagnifiedModels = self.get('cachedMagnifiedModels');\n    const cachedOriginPositions = self.get('cachedOriginPositions');\n    const cacheLength = cachedMagnifiedModels.length;\n    for (let i = 0; i < cacheLength; i++) {\n      const node = cachedMagnifiedModels[i];\n      const id = node.id;\n      const ori = cachedOriginPositions[id];\n      node.x = ori.x;\n      node.y = ori.y;\n      const textLength = ori.texts.length;\n      for (let j = 0; j < textLength; j++) {\n        const text = ori.texts[j];\n        text.shape.set('visible', text.visible);\n      }\n    }\n    self.set('cachedMagnifiedModels', []);\n    self.set('cachedOriginPositions', {});\n  }\n\n  /**\n   * Adjust part of the parameters, including trigger, d, r, maxR, minR, maxD, minD, scaleRBy, and scaleDBy\n   * @param {FisheyeConfig} cfg\n   */\n  public updateParams(cfg: FisheyeConfig) {\n    const self = this;\n    const { r, d, trigger, minD, maxD, minR, maxR, scaleDBy, scaleRBy } = cfg;\n    if (!isNaN(cfg.r)) {\n      self.set('r', r);\n      self.set('r2', r * r);\n    }\n    if (!isNaN(d)) {\n      self.set('d', d);\n    }\n    if (!isNaN(maxD)) {\n      self.set('maxD', maxD);\n    }\n    if (!isNaN(minD)) {\n      self.set('minD', minD);\n    }\n    if (!isNaN(maxR)) {\n      self.set('maxR', maxR);\n    }\n    if (!isNaN(minR)) {\n      self.set('minR', minR);\n    }\n    const nd = self.get('d');\n    const nr = self.get('r');\n    self.set('molecularParam', (nd + 1) * nr);\n    if (trigger === 'mousemove' || trigger === 'tap' || trigger === 'drag') {\n      self.set('trigger', trigger);\n    }\n    if (scaleDBy === 'drag' || scaleDBy === 'unset') {\n      self.set('scaleDBy', scaleDBy);\n      self.get('delegate').remove();\n      self.get('delegate').destroy();\n      const dPercentText = self.get('dPercentText');\n      if (dPercentText) {\n        dPercentText.remove();\n        dPercentText.destroy();\n      }\n    }\n    if (scaleRBy === 'drag' || scaleRBy === 'unset') {\n      self.set('scaleRBy', scaleRBy);\n      self.get('delegate').remove();\n      self.get('delegate').destroy();\n      const dPercentText = self.get('dPercentText');\n      if (dPercentText) {\n        dPercentText.remove();\n        dPercentText.destroy();\n      }\n    }\n  }\n\n  /**\n   * Update the delegate shape of the lens\n   * @param {Point} mCenter the center of the shape\n   * @param {number} r the radius of the shape\n   */\n  private updateDelegate(mCenter, r) {\n    const self = this;\n    const graph = self.get('graph');\n    let lensDelegate = self.get('delegate');\n    if (!lensDelegate || lensDelegate.destroyed) {\n      // \n      const parent = graph.get('group');\n      const attrs = self.get('delegateStyle') || lensDelegateStyle;\n\n      // modelx, y, delegateShapeg, x,y\n      lensDelegate = parent.addShape('circle', {\n        attrs: {\n          r: r / 1.5,\n          x: mCenter.x,\n          y: mCenter.y,\n          ...attrs,\n        },\n        name: 'lens-shape',\n        draggable: true,\n      });\n\n      if (this.get('trigger') !== 'drag') {\n        //  r \n        if (this.get('scaleRBy') === 'wheel') {\n          //  r\n          lensDelegate.on('mousewheel', (evt) => {\n            self.scaleRByWheel(evt);\n          });\n        } else if (this.get('scaleRBy') === 'drag') {\n          //  r\n          lensDelegate.on('dragstart', (e) => {\n            self.set('dragging', true);\n            self.set('cacheCenter', { x: e.x, y: e.y });\n            self.set('dragPrePos', { x: e.x, y: e.y });\n          });\n          lensDelegate.on('drag', (evt) => {\n            self.scaleRByDrag(evt);\n          });\n          lensDelegate.on('dragend', (e) => {\n            self.set('dragging', false);\n          });\n        }\n\n        //  d \n        if (this.get('scaleDBy') === 'wheel') {\n          //  d\n          lensDelegate.on('mousewheel', (evt) => {\n            this.scaleDByWheel(evt);\n          });\n        } else if (this.get('scaleDBy') === 'drag') {\n          //  d\n          lensDelegate.on('dragstart', (evt) => {\n            self.set('dragging', true);\n            self.set('cacheCenter', { x: evt.x, y: evt.y });\n            self.set('dragPrePos', { x: evt.x, y: evt.y });\n          });\n          lensDelegate.on('drag', (evt) => {\n            this.scaleDByDrag(evt);\n          });\n          lensDelegate.on('dragend', (evt) => {\n            self.set('dragging', false);\n          });\n        }\n      }\n    } else {\n      lensDelegate.attr({\n        x: mCenter.x,\n        y: mCenter.y,\n        r: r / 1.5,\n      });\n    }\n\n    // \n    if (self.get('showDPercent')) {\n      const percent = Math.round(\n        ((self.get('d') - self.get('minD')) / (self.get('maxD') - self.get('minD'))) * 100,\n      );\n      let dPercentText = self.get('dPercentText');\n      const textY = mCenter.y + r / 1.5 + 16;\n      if (!dPercentText || dPercentText.destroyed) {\n        const parent = graph.get('group');\n        dPercentText = parent.addShape('text', {\n          attrs: {\n            text: `${percent}%`,\n            x: mCenter.x,\n            y: textY,\n            fill: '#aaa',\n            stroke: '#fff',\n            lineWidth: 1,\n            fontSize: 12,\n          },\n        });\n        self.set('dPercentText', dPercentText);\n      } else {\n        dPercentText.attr({\n          text: `${percent}%`,\n          x: mCenter.x,\n          y: textY,\n        });\n      }\n    }\n    self.set('delegate', lensDelegate);\n  }\n\n  /**\n   * Clear the fisheye lens\n   */\n  public clear() {\n    const graph = this.get('graph');\n    this.restoreCache();\n    graph.refreshPositions();\n    const lensDelegate = this.get('delegate');\n    if (lensDelegate && !lensDelegate.destroyed) {\n      lensDelegate.remove();\n      lensDelegate.destroy();\n    }\n    const dPercentText = this.get('dPercentText');\n    if (dPercentText && !dPercentText.destroyed) {\n      dPercentText.remove();\n      dPercentText.destroy();\n    }\n    this.set('delegateCenterDiff', undefined);\n  }\n\n  /**\n   * Destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n}\n","import { Canvas as GCanvas, Group } from '@antv/g-canvas';\nimport { Event as GraphEvent, Point } from '@antv/g-base';\nimport { isNil, each, debounce } from '@antv/util';\nimport { Matrix, ShapeStyle, IAbstractGraph as IGraph } from '@antv/f6-core';\nimport { ext } from '@antv/matrix-util';\nimport Base, { IPluginBaseConfig } from '../base';\n\nimport { createUI } from '@antv/f6-ui';\n\nconst { max } = Math;\nconst { transform } = ext;\n\nconst DEFAULT_MODE = 'default';\nconst KEYSHAPE_MODE = 'keyShape';\nconst DELEGATE_MODE = 'delegate';\n\ninterface MiniMapConfig extends IPluginBaseConfig {\n  viewportClassName?: string;\n  className?: string;\n  type?: 'default' | 'keyShape' | 'delegate';\n  size?: number[];\n  delegateStyle?: ShapeStyle;\n  refresh?: boolean;\n  padding?: number;\n  getCss?: Function;\n}\n\nexport default class MiniMap extends Base {\n  constructor(config?: MiniMapConfig) {\n    super(config);\n  }\n  this: IGraph;\n  public getDefaultCfgs(): MiniMapConfig {\n    return {\n      container: null,\n      className: '',\n      viewportClassName: '',\n      // Minimap KeyShape  key shape delegaterect\n      type: 'default',\n      padding: 50,\n      size: [200, 120],\n      delegateStyle: {\n        fill: '#40a9ff',\n        stroke: '#096dd9',\n      },\n      refresh: true,\n    };\n  }\n\n  public getEvents() {\n    return {\n      beforepaint: 'updateViewport',\n      beforeanimate: 'disableRefresh',\n      afteranimate: 'enableRefresh',\n      viewportchange: 'disableOneRefresh',\n    };\n  }\n\n  // \n  protected disableRefresh() {\n    this.set('refresh', false);\n  }\n\n  protected enableRefresh() {\n    this.set('refresh', true);\n    this.updateCanvas();\n  }\n\n  protected disableOneRefresh() {\n    this.set('viewportChange', true);\n  }\n\n  private initViewport() {\n    const cfgs: MiniMapConfig = this._cfgs as MiniMapConfig;\n    const { size, graph } = cfgs;\n    if (this.destroyed) return;\n\n    // viewport minimap    createDom createUi\n    const handleUI = this.get('container').query('.viewport');\n\n    // \n    let x = 0;\n    // \n    let y = 0;\n    // minimap\n    let dragging = false;\n    // viewportx\n    let left = 0;\n    // viewporty\n    let top = 0;\n    // viewport\n    let width = 0;\n    // viewport\n    let height = 0;\n    let ratio = 0;\n    let zoom = 0;\n\n    // start\n    handleUI.on('panstart', (e: GraphEvent) => {\n      cfgs.refresh = false;\n\n      // \n      left = parseInt(handleUI.getStyle('left'), 10);\n      top = parseInt(handleUI.getStyle('top'), 10);\n      width = parseInt(handleUI.getStyle('width'), 10);\n      height = parseInt(handleUI.getStyle('height'), 10);\n\n      if (width > size[0] || height > size[1]) {\n        return;\n      }\n\n      zoom = graph!.getZoom();\n      ratio = this.get('ratio');\n\n      dragging = true;\n\n      x = e.x;\n      y = e.y;\n    });\n\n    handleUI.on(\n      'panmove',\n      (e: GraphEvent) => {\n        if (!dragging || isNil(e.x) || isNil(e.y)) {\n          return;\n        }\n\n        let dx = x - e.x;\n        let dy = y - e.y;\n\n        // ,\n        if (left - dx < 0 || left - dx + width >= size[0]) {\n          dx = 0;\n        }\n\n        // \n        if (top - dy < 0 || top - dy + height >= size[1]) {\n          dy = 0;\n        }\n\n        left -= dx;\n        top -= dy;\n\n        // graph  dx/dy * \n        graph!.translate((dx * zoom) / ratio, (dy * zoom) / ratio);\n\n        x = e.x;\n        y = e.y;\n      },\n      false,\n    );\n\n    handleUI.on(\n      'panend',\n      () => {\n        dragging = false;\n        cfgs.refresh = true;\n      },\n      false,\n    );\n\n    this.set('viewport', handleUI); // viewport key \n  }\n\n  /**\n   *  viewport \n   */\n  private updateViewport() {\n    if (this.destroyed) return;\n    const ratio: number = this.get('ratio');\n    const totaldx: number = this.get('totaldx');\n    const totaldy: number = this.get('totaldy');\n    const graph: IGraph = this.get('graph');\n    const size: number[] = this.get('size');\n    const graphWidth = graph.get('width');\n    const graphHeight = graph.get('height');\n    const topLeft: Point = graph.getPointByCanvas(0, 0);\n    const bottomRight: Point = graph.getPointByCanvas(graphWidth, graphHeight);\n    const viewport = this.get('viewport');\n\n    // viewport,\n    let width = (bottomRight.x - topLeft.x) * ratio;\n    let height = (bottomRight.y - topLeft.y) * ratio;\n\n    let left = topLeft.x * ratio + totaldx;\n    let top = topLeft.y * ratio + totaldy;\n\n    const right = left + width;\n    const bottom = top + height;\n\n    if (left < 0) {\n      width += left;\n      left = 0;\n    }\n    if (right >= size[0]) {\n      width = width - (right - size[0]);\n    }\n    if (top < 0) {\n      height += top;\n      top = 0;\n    }\n    if (bottom > size[1]) {\n      height = height - (bottom - size[1]);\n    }\n\n    //  minimap \n    this.set('ratio', ratio);\n\n    if (viewport) {\n      const borderWidth = viewport.getStyle('borderWidth');\n      if (Math.floor(width) >= borderWidth * 2) {\n        viewport.setStyle('left', left);\n        viewport.setStyle('width', width);\n      }\n      if (Math.floor(height) >= borderWidth * 2) {\n        viewport.setStyle('top', top);\n        viewport.setStyle('height', height);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  private updateGraphShapes() {\n    const { graph } = this._cfgs;\n    const graphGroup = graph!.get('group');\n    if (graphGroup.destroyed) return;\n    const clonedGroup = graphGroup.clone();\n\n    const groupCanvas = this.get('groupCanvas');\n\n    clonedGroup.resetMatrix();\n\n    groupCanvas.clear();\n\n    groupCanvas.add(clonedGroup);\n  }\n\n  //  minimap  keyShape\n  // FIXME minimap\n  private updateKeyShapes() {\n    const { graph } = this._cfgs;\n\n    const group = this.get('groupCanvas'); // canvas.get('children')[0] || canvas.addGroup();\n\n    each(graph!.getEdges(), (edge) => {\n      this.updateOneEdgeKeyShape(edge, group);\n    });\n    each(graph!.getNodes(), (node) => {\n      this.updateOneNodeKeyShape(node, group);\n    });\n    const combos = graph!.getCombos();\n    if (combos && combos.length) {\n      const comboGroup =\n        group.find((e) => e.get('name') === 'comboGroup') ||\n        group.addGroup({\n          name: 'comboGroup',\n        });\n      setTimeout(() => {\n        if (this.destroyed) return;\n        each(combos, (combo) => {\n          this.updateOneComboKeyShape(combo, comboGroup);\n        });\n        comboGroup?.sort();\n        comboGroup?.toBack();\n        this.updateCanvas();\n      }, 250);\n    }\n    this.clearDestroyedShapes();\n  }\n\n  /**\n   * / keyShape\n   * @param item ICombo \n   */\n  private updateOneComboKeyShape(item, comboGroup) {\n    if (this.destroyed) return;\n    const itemMap = this.get('itemMap') || {};\n\n    //  minimap  item\n    let mappedItem = itemMap[item.get('id')];\n    const bbox = item.getBBox(); //  bbox\n    const cKeyShape = item.get('keyShape').clone();\n    const keyShapeStyle = cKeyShape.attr();\n    let attrs: any = {\n      x: bbox.centerX,\n      y: bbox.centerY,\n    };\n    if (!mappedItem) {\n      mappedItem = cKeyShape;\n      comboGroup.add(mappedItem);\n    } else {\n      attrs = Object.assign(keyShapeStyle, attrs);\n    }\n    const shapeType = mappedItem.get('type');\n    if (shapeType === 'rect' || shapeType === 'image') {\n      attrs.x = bbox.minX;\n      attrs.y = bbox.minY;\n    }\n    mappedItem.attr(attrs);\n    if (!item.isVisible()) mappedItem.hide();\n    else mappedItem.show();\n    mappedItem.exist = true;\n    const zIndex = item.getModel().depth;\n    if (!isNaN(zIndex)) mappedItem.set('zIndex', zIndex);\n    itemMap[item.get('id')] = mappedItem;\n    this.set('itemMap', itemMap);\n  }\n\n  /**\n   * / keyShape\n   * @param item INode \n   */\n  private updateOneNodeKeyShape(item, group) {\n    const itemMap = this.get('itemMap') || {};\n\n    //  minimap  item\n    let mappedItem = itemMap[item.get('id')];\n    const bbox = item.getBBox(); //  bbox\n    const cKeyShape = item.get('keyShape').clone();\n    const keyShapeStyle = cKeyShape.attr();\n    let attrs: any = {\n      x: bbox.centerX,\n      y: bbox.centerY,\n    };\n    if (!mappedItem) {\n      mappedItem = cKeyShape;\n      group.add(mappedItem);\n    } else {\n      attrs = Object.assign(keyShapeStyle, attrs);\n    }\n    const shapeType = mappedItem.get('type');\n    if (shapeType === 'rect' || shapeType === 'image') {\n      attrs.x = bbox.minX;\n      attrs.y = bbox.minY;\n    }\n    mappedItem.attr(attrs);\n    if (!item.isVisible()) mappedItem.hide();\n    else mappedItem.show();\n    mappedItem.exist = true;\n    const zIndex = item.getModel().depth;\n    if (!isNaN(zIndex)) mappedItem.set('zIndex', zIndex);\n    itemMap[item.get('id')] = mappedItem;\n    this.set('itemMap', itemMap);\n  }\n\n  /**\n   * Minimap rect\n   */\n  private updateDelegateShapes() {\n    const { graph } = this._cfgs;\n\n    const group = this.get('groupCanvas');\n\n    //  minimap \n    each(graph!.getEdges(), (edge) => {\n      this.updateOneEdgeKeyShape(edge, group);\n    });\n    each(graph!.getNodes(), (node) => {\n      this.updateOneNodeDelegateShape(node, group);\n    });\n    const combos = graph!.getCombos();\n    if (combos && combos.length) {\n      const comboGroup =\n        group.find((e) => e.get('name') === 'comboGroup') ||\n        group.addGroup({\n          name: 'comboGroup',\n        });\n      setTimeout(() => {\n        if (this.destroyed) return;\n        each(combos, (combo) => {\n          this.updateOneComboKeyShape(combo, comboGroup);\n        });\n        comboGroup?.sort();\n        comboGroup?.toBack();\n        this.updateCanvas();\n      }, 250);\n    }\n    this.clearDestroyedShapes();\n  }\n\n  private clearDestroyedShapes() {\n    const itemMap = this.get('itemMap') || {};\n    const keys = Object.keys(itemMap);\n    if (!keys || keys.length === 0) return;\n    for (let i = keys.length - 1; i >= 0; i--) {\n      const shape = itemMap[keys[i]];\n      const exist = shape.exist;\n      shape.exist = false;\n      if (!exist) {\n        shape.remove();\n        delete itemMap[keys[i]];\n      }\n    }\n  }\n\n  /**\n   *  edge  keyShape\n   * @param item IEdge \n   */\n  private updateOneEdgeKeyShape(item, group) {\n    const itemMap = this.get('itemMap') || {};\n    //  minimap  item\n    let mappedItem = itemMap[item.get('id')];\n    if (mappedItem) {\n      const path = item.get('keyShape').attr('path');\n      mappedItem.attr('path', path);\n    } else {\n      mappedItem = item.get('keyShape').clone();\n      group.add(mappedItem);\n    }\n    if (!item.isVisible()) mappedItem.hide();\n    else mappedItem.show();\n    mappedItem.exist = true;\n    itemMap[item.get('id')] = mappedItem;\n    this.set('itemMap', itemMap);\n  }\n\n  /**\n   * Minimap  rect\n   * /\n   * @param item INode \n   */\n  private updateOneNodeDelegateShape(item, group) {\n    const delegateStyle = this.get('delegateStyle');\n    const itemMap = this.get('itemMap') || {};\n\n    //  minimap  item\n    let mappedItem = itemMap[item.get('id')];\n    const bbox = item.getBBox(); //  bbox\n    if (mappedItem) {\n      const attrs = {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.width,\n        height: bbox.height,\n      };\n      mappedItem.attr(attrs);\n    } else {\n      mappedItem = group.addShape('rect', {\n        attrs: {\n          x: bbox.minX,\n          y: bbox.minY,\n          width: bbox.width,\n          height: bbox.height,\n          ...delegateStyle,\n        },\n        name: 'minimap-node-shape',\n      });\n    }\n    if (!item.isVisible()) mappedItem.hide();\n    else mappedItem.show();\n    mappedItem.exist = true;\n    itemMap[item.get('id')] = mappedItem;\n    this.set('itemMap', itemMap);\n  }\n\n  /**\n   *  debounce \n   * e.g.  100ms  updateCanvas\n   * e.g. render  addItem  updateCanvas\n   */\n  private handleUpdateCanvas = debounce(\n    (event) => {\n      const self = this;\n      if (self.destroyed) return;\n      self.updateCanvas();\n    },\n    100,\n    false,\n  );\n\n  public init() {\n    this.get('graph').on('afterupdateitem', this.handleUpdateCanvas);\n    this.get('graph').on('afteritemstatechange', this.handleUpdateCanvas);\n    this.get('graph').on('afteradditem', this.handleUpdateCanvas);\n    this.get('graph').on('afterremoveitem', this.handleUpdateCanvas);\n    this.get('graph').on('afterrender', this.handleUpdateCanvas);\n    this.get('graph').on('afterlayout', this.handleUpdateCanvas);\n\n    setTimeout(() => {\n      this.initContainer();\n    });\n  }\n\n  /**\n   *  Minimap \n   */\n  public initContainer() {\n    const self = this;\n    const graph: IGraph = self.get('graph');\n    const size: number[] = self.get('size');\n    const className: string = self.get('className');\n    const viewportClassName: string = self.get('viewportClassName');\n    const getCss = self.get('getCss');\n\n    const containerHtml = `\n    <div class='f6-minimap ${className}'>\n      <div class=\"f6-minimap-container\"></div>\n      <div class=\"viewport ${viewportClassName}\"></div>\n    </div>`;\n\n    const containerCss = `\n      root {\n        width: ${graph.getWidth()};\n        height: ${graph.getHeight()};\n        opacity: 0;\n        pointer-events: none;\n      }\n      .f6-minimap{ \n        position: absolute;\n        left: 0;\n        bottom: 0;\n        width: ${size[0]}; height: ${size[1]};\n      } \n      .f6-minimap-container{\n        position: relative;\n        background: rgba(0,0,0,0);\n        width: ${size[0]}; height: ${size[1]};\n      }\n      .viewport{\n        position: absolute;\n        border: 3 solid blue;\n        width: 100;\n        height: 100;\n        background: rgba(0,0,0,0);\n        z-index: 1000;\n      }\n      ${getCss?.() ?? ''}\n    `;\n    const uiGroup = graph.get('uiGroup');\n\n    const miniMapContainerUI = createUI(containerHtml, containerCss, uiGroup);\n\n    const background = miniMapContainerUI.query('.f6-minimap-container');\n    const group = background.gNode;\n    const canvasGroup = group.addGroup();\n\n    this.set('groupCanvas', canvasGroup);\n\n    this.set('container', miniMapContainerUI);\n\n    self.updateCanvas();\n    this.initViewport();\n  }\n\n  public updateCanvas() {\n    if (this.destroyed) return;\n    // \n    const isRefresh: boolean = this.get('refresh');\n    if (!isRefresh) {\n      return;\n    }\n    const graph: IGraph = this.get('graph');\n    if (graph.get('destroyed')) {\n      return;\n    }\n\n    // \n    if (this.get('viewportChange')) {\n      this.set('viewportChange', false);\n      this.updateViewport();\n    }\n\n    const size: number[] = this.get('size'); //  minimap size\n    const type: string = this.get('type'); // minimap \n    const padding: number = this.get('padding'); //  minimap  padding\n\n    switch (type) {\n      case DEFAULT_MODE:\n        this.updateGraphShapes();\n        break;\n      case KEYSHAPE_MODE:\n        this.updateKeyShapes();\n        break;\n      case DELEGATE_MODE:\n        //  x  y group group \n        this.updateDelegateShapes();\n        break;\n      default:\n        break;\n    }\n\n    const group = this.get('groupCanvas'); // canvas.get('children')[0];\n    if (!group) return;\n\n    group.resetMatrix();\n    // matrixgrouptotalmatrixmatrixcanvasBBox\n    group.applyMatrix([1, 0, 0, 0, 1, 0, 0, 0, 1]);\n    const bbox = group.getCanvasBBox();\n\n    const graphBBox = graph.get('group').getCanvasBBox(); //  bbox\n    const graphZoom = graph.getZoom() || 1;\n    let width = graphBBox.width / graphZoom;\n    let height = graphBBox.height / graphZoom;\n\n    if (Number.isFinite(bbox.width)) {\n      // bbox\n      width = max(bbox.width, width);\n      height = max(bbox.height, height);\n    }\n\n    width += 2 * padding;\n    height += 2 * padding;\n\n    const ratio = Math.min(size[0] / width, size[1] / height);\n\n    let matrix: Matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n    let minX = 0;\n    let minY = 0;\n    // \n    if (Number.isFinite(bbox.minX)) {\n      minX = -bbox.minX;\n    }\n    if (Number.isFinite(bbox.minY)) {\n      minY = -bbox.minY;\n    }\n\n    // , \n    const dx = (size[0] - (width - 2 * padding) * ratio) / 2;\n    const dy = (size[1] - (height - 2 * padding) * ratio) / 2;\n\n    matrix = transform(matrix, [\n      ['t', minX, minY], // \n      ['s', ratio, ratio], //  minimap\n      ['t', dx, dy], // \n    ]);\n    group.setMatrix(matrix);\n\n    // minimap\n    this.set('ratio', ratio);\n    this.set('totaldx', dx + minX * ratio);\n    this.set('totaldy', dy + minY * ratio);\n    this.set('dx', dx);\n    this.set('dy', dy);\n    this.updateViewport();\n  }\n\n  /**\n   * minimap\n   * @return {GCanvas} Gcanvas\n   */\n  public getCanvas(): GCanvas {\n    return this.get('canvas');\n  }\n\n  /**\n   * minimap\n   * @return {HTMLElement} dom\n   */\n  public getViewport(): HTMLElement {\n    return this.get('viewport');\n  }\n\n  /**\n   * minimapdom\n   * @return {HTMLElement} dom\n   */\n  public getContainer(): HTMLElement {\n    return this.get('container');\n  }\n\n  public destroy() {\n    this.get('container')?.remove();\n  }\n}\n","import Base, { IPluginBaseConfig } from '../base';\nimport {\n  IEdge,\n  IAbstractGraph as IGraph,\n  GraphData,\n  NodeConfig,\n  NodeConfigMap,\n  EdgeConfig,\n} from '@antv/f6-core';\nimport { Point } from '@antv/g-base';\n\ninterface BundlingConfig extends IPluginBaseConfig {\n  edgeBundles?: IEdge[];\n  edgePoints?: NodeConfig[];\n  K?: number;\n  lambda?: number;\n  divisions?: number;\n  divRate?: number;\n  cycles?: number;\n  iterations?: number;\n  iterRate?: number;\n  bundleThreshold?: number;\n  eps?: number;\n  onLayoutEnd?: () => void;\n  onTick?: () => void;\n}\n\ninterface VectorPosition {\n  source: {\n    x: number;\n    y: number;\n  };\n  target: {\n    x: number;\n    y: number;\n  };\n  vx: number;\n  vy: number;\n  length: number;\n}\n\nfunction getEucliDis(pointA: Point, pointB: Point, eps?: number): number {\n  const vx = pointA.x - pointB.x;\n  const vy = pointA.y - pointB.y;\n  if (!eps || Math.abs(vx) > eps || Math.abs(vy) > eps) {\n    return Math.sqrt(vx * vx + vy * vy);\n  }\n  return eps;\n}\n\nfunction getDotProduct(ei: Point, ej: Point): number {\n  return ei.x * ej.x + ei.y * ej.y;\n}\n\nfunction projectPointToEdge(p: Point, e: VectorPosition): Point {\n  const k = (e.source.y - e.target.y) / (e.source.x - e.target.x);\n  const x = (k * k * e.source.x + k * (p.y - e.source.y) + p.x) / (k * k + 1);\n  const y = k * (x - e.source.x) + e.source.y;\n  return { x, y };\n}\n\nexport default class Bundling extends Base {\n  constructor(config?: BundlingConfig) {\n    super(config);\n  }\n  public getDefaultCfgs(): BundlingConfig {\n    return {\n      edgeBundles: [], // |edges| arrays, each one stores the related edges' id\n      edgePoints: [], // |edges| * divisions edge points\n      K: 0.1, // \n      lambda: 0.1, // \n      divisions: 1, // \n      divRate: 2, // subdivision rate increase\n      cycles: 6, // number of cycles to perform\n      iterations: 90, //  cycle \n      iterRate: 0.6666667, // \n      bundleThreshold: 0.6,\n      eps: 1e-6,\n      onLayoutEnd() {}, // \n      onTick() {}, // \n    };\n  }\n\n  public init() {\n    const graph: IGraph = this.get('graph');\n    const onTick = this.get('onTick');\n    const tick = () => {\n      if (onTick) {\n        onTick();\n      }\n      graph.refreshPositions();\n    };\n    this.set('tick', tick);\n  }\n\n  public bundling(data: GraphData): void {\n    const self = this;\n    self.set('data', data);\n\n    // \n    if (self.isTicking()) {\n      return;\n    }\n\n    const edges = data.edges || [];\n    const nodes = data.nodes || [];\n    const nodeIdMap: NodeConfigMap = {};\n    let error = false;\n\n    nodes.forEach((node) => {\n      if (node.x === null || !node.y === null || node.x === undefined || !node.y === undefined) {\n        error = true;\n      }\n      nodeIdMap[node.id] = node;\n    });\n\n    if (error) throw new Error('please layout the graph or assign x and y for nodes first');\n    self.set('nodeIdMap', nodeIdMap);\n\n    // subdivide each edges\n    let divisions: number = self.get('divisions');\n    const divRate: number = self.get('divRate');\n    let edgePoints: Point[][] = self.divideEdges(divisions);\n    self.set('edgePoints', edgePoints);\n\n    // compute the bundles\n    const edgeBundles = self.getEdgeBundles();\n    self.set('edgeBundles', edgeBundles);\n\n    // iterations\n    const C: number = self.get('cycles');\n    let iterations: number = self.get('iterations');\n    const iterRate: number = self.get('iterRate');\n    let lambda: number = self.get('lambda');\n\n    for (let i = 0; i < C; i++) {\n      for (let j = 0; j < iterations; j++) {\n        const forces: Point[][] = [];\n        edges.forEach((e, k) => {\n          if (e.source === e.target) return;\n          const source = nodeIdMap[e.source as string];\n          const target = nodeIdMap[e.target as string];\n\n          forces[k] = self.getEdgeForces({ source, target }, k, divisions, lambda);\n\n          for (let p = 0; p < divisions + 1; p++) {\n            edgePoints[k][p].x += forces[k][p].x;\n            edgePoints[k][p].y += forces[k][p].y;\n          }\n        });\n      }\n\n      // parameters for nex cycle\n      lambda = lambda / 2;\n      divisions *= divRate;\n      iterations *= iterRate;\n      edgePoints = self.divideEdges(divisions);\n      self.set('edgePoints', edgePoints);\n    }\n\n    // change the edges according to edgePoints\n    edges.forEach((e, i) => {\n      if (e.source === e.target) return;\n      e.type = 'polyline';\n      e.controlPoints = edgePoints[i].slice(1, edgePoints[i].length - 1);\n    });\n\n    const graph = self.get('graph');\n    graph.refresh();\n  }\n\n  public updateBundling(cfg: BundlingConfig) {\n    const self = this;\n    const { data } = cfg;\n    if (data) {\n      self.set('data', data);\n    }\n\n    if (self.get('ticking')) {\n      self.set('ticking', false);\n    }\n\n    Object.keys(cfg).forEach((key) => {\n      self.set(key, cfg[key]);\n    });\n\n    if (cfg.onTick) {\n      const graph = this.get('graph');\n\n      self.set('tick', () => {\n        cfg.onTick!();\n        graph.refresh();\n      });\n    }\n\n    self.bundling(data);\n  }\n\n  public divideEdges(divisions: number): Point[][] {\n    const self = this;\n    const edges: EdgeConfig[] = self.get('data').edges;\n    const nodeIdMap: NodeConfigMap = self.get('nodeIdMap');\n    let edgePoints = self.get('edgePoints');\n\n    if (!edgePoints || edgePoints === undefined) edgePoints = [];\n\n    edges.forEach((edge, i) => {\n      if (!edgePoints[i] || edgePoints[i] === undefined) {\n        edgePoints[i] = [];\n      }\n\n      const source = nodeIdMap[edge.source as string];\n      const target = nodeIdMap[edge.target as string];\n\n      if (divisions === 1) {\n        edgePoints[i].push({ x: source.x, y: source.y }); // source\n        edgePoints[i].push({\n          x: 0.5 * (source.x! + target.x!),\n          y: 0.5 * (source.y! + target.y!),\n        }); // mid\n        edgePoints[i].push({ x: target.x, y: target.y }); // target\n      } else {\n        let edgeLength = 0;\n\n        if (!edgePoints[i] || edgePoints[i] === []) {\n          // it is a straight line\n          edgeLength = getEucliDis({ x: source.x!, y: source.y! }, { x: target.x!, y: target.y! });\n        } else {\n          edgeLength = self.getEdgeLength(edgePoints[i]);\n        }\n\n        const divisionLength = edgeLength / (divisions + 1);\n        let currentDivisonLength = divisionLength;\n\n        const newEdgePoints = [{ x: source.x, y: source.y }]; // source\n\n        edgePoints[i].forEach((ep: Point, j: number) => {\n          if (j === 0) return;\n\n          let oriDivisionLength = getEucliDis(ep, edgePoints[i][j - 1]);\n\n          while (oriDivisionLength > currentDivisonLength) {\n            const ratio = currentDivisonLength / oriDivisionLength;\n            const edgePoint = { x: edgePoints[i][j - 1].x, y: edgePoints[i][j - 1].y };\n            edgePoint.x += ratio * (ep.x - edgePoints[i][j - 1].x);\n            edgePoint.y += ratio * (ep.y - edgePoints[i][j - 1].y);\n\n            newEdgePoints.push(edgePoint);\n            oriDivisionLength -= currentDivisonLength;\n            currentDivisonLength = divisionLength;\n          }\n\n          currentDivisonLength -= oriDivisionLength;\n        });\n\n        newEdgePoints.push({ x: target.x, y: target.y }); // target\n        edgePoints[i] = newEdgePoints;\n      }\n    });\n    return edgePoints;\n  }\n\n  /**\n   * \n   * @param points\n   */\n  public getEdgeLength(points: Point[]): number {\n    let length = 0;\n    points.forEach((p, i) => {\n      if (i === 0) return;\n      length += getEucliDis(p, points[i - 1]);\n    });\n    return length;\n  }\n\n  public getEdgeBundles(): number[] {\n    const self = this;\n    const data: GraphData = self.get('data');\n    const edges = data.edges || [];\n\n    const bundleThreshold: number = self.get('bundleThreshold');\n    const nodeIdMap: NodeConfigMap = self.get('nodeIdMap');\n    let edgeBundles = self.get('edgeBundles');\n\n    if (!edgeBundles) edgeBundles = [];\n\n    edges.forEach((e, i) => {\n      if (!edgeBundles[i] || edgeBundles[i] === undefined) {\n        edgeBundles[i] = [];\n      }\n    });\n\n    edges.forEach((ei, i) => {\n      const iSource = nodeIdMap[ei.source as string];\n      const iTarget = nodeIdMap[ei.target as string];\n\n      edges.forEach((ej, j) => {\n        if (j <= i) return;\n\n        const jSource = nodeIdMap[ej.source as string];\n        const jTarget = nodeIdMap[ej.target as string];\n\n        const score = self.getBundleScore(\n          { source: iSource, target: iTarget },\n          { source: jSource, target: jTarget },\n        );\n\n        if (score >= bundleThreshold) {\n          edgeBundles[i].push(j);\n          edgeBundles[j].push(i);\n        }\n      });\n    });\n    return edgeBundles;\n  }\n\n  public getBundleScore(ei: any, ej: any): number {\n    const self = this;\n    ei.vx = ei.target.x - ei.source.x;\n    ei.vy = ei.target.y - ei.source.y;\n    ej.vx = ej.target.x - ej.source.x;\n    ej.vy = ej.target.y - ej.source.y;\n\n    ei.length = getEucliDis(\n      {\n        x: ei.source.x,\n        y: ei.source.y,\n      },\n      {\n        x: ei.target.x,\n        y: ei.target.y,\n      },\n    );\n\n    ej.length = getEucliDis(\n      {\n        x: ej.source.x,\n        y: ej.source.y,\n      },\n      {\n        x: ej.target.x,\n        y: ej.target.y,\n      },\n    );\n\n    // angle score\n    const aScore = self.getAngleScore(ei, ej);\n\n    // scale score\n    const sScore = self.getScaleScore(ei, ej);\n\n    // position score\n    const pScore = self.getPositionScore(ei, ej);\n\n    // visibility socre\n    const vScore = self.getVisibilityScore(ei, ej);\n\n    return aScore * sScore * pScore * vScore;\n  }\n\n  protected getAngleScore(ei: VectorPosition, ej: VectorPosition): number {\n    const dotProduct = getDotProduct({ x: ei.vx, y: ei.vy }, { x: ej.vx, y: ej.vy });\n    return dotProduct / (ei.length * ej.length);\n  }\n\n  protected getScaleScore(ei: VectorPosition, ej: VectorPosition): number {\n    const aLength = (ei.length + ej.length) / 2;\n    const score =\n      2 / (aLength / Math.min(ei.length, ej.length) + Math.max(ei.length, ej.length) / aLength);\n    return score;\n  }\n\n  protected getPositionScore(ei: VectorPosition, ej: VectorPosition): number {\n    const aLength = (ei.length + ej.length) / 2;\n\n    const iMid = {\n      x: (ei.source.x + ei.target.x) / 2,\n      y: (ei.source.y + ei.target.y) / 2,\n    };\n\n    const jMid = {\n      x: (ej.source.x + ej.target.x) / 2,\n      y: (ej.source.y + ej.target.y) / 2,\n    };\n\n    const distance = getEucliDis(iMid, jMid);\n    return aLength / (aLength + distance);\n  }\n\n  protected getVisibilityScore(ei: VectorPosition, ej: VectorPosition): number {\n    const vij = this.getEdgeVisibility(ei, ej);\n    const vji = this.getEdgeVisibility(ej, ei);\n    return vij < vji ? vij : vji;\n  }\n\n  protected getEdgeVisibility(ei: VectorPosition, ej: VectorPosition): number {\n    const ps = projectPointToEdge(ej.source, ei);\n    const pt = projectPointToEdge(ej.target, ei);\n    const pMid = {\n      x: (ps.x + pt.x) / 2,\n      y: (ps.y + pt.y) / 2,\n    };\n\n    const iMid = {\n      x: (ei.source.x + ei.target.x) / 2,\n      y: (ei.source.y + ei.target.y) / 2,\n    };\n\n    return Math.max(0, 1 - (2 * getEucliDis(pMid, iMid)) / getEucliDis(ps, pt));\n  }\n\n  protected getEdgeForces(e: any, eidx: number, divisions: number, lambda: number): Point[] {\n    const self = this;\n    const edgePoints = self.get('edgePoints');\n    const K = self.get('K');\n\n    const kp = K / (getEucliDis(e.source, e.target) * (divisions + 1));\n    const edgePointForces = [{ x: 0, y: 0 }];\n\n    for (let i = 1; i < divisions; i++) {\n      const force = { x: 0, y: 0 };\n\n      const spring = self.getSpringForce(\n        { pre: edgePoints[eidx][i - 1], cur: edgePoints[eidx][i], next: edgePoints[eidx][i + 1] },\n        kp,\n      );\n\n      const electrostatic = self.getElectrostaticForce(i, eidx);\n\n      force.x = lambda * (spring.x + electrostatic.x);\n      force.y = lambda * (spring.y + electrostatic.y);\n      edgePointForces.push(force);\n    }\n\n    edgePointForces.push({ x: 0, y: 0 });\n    return edgePointForces;\n  }\n\n  protected getSpringForce(divisions: any, kp: number): Point {\n    let x = divisions.pre.x + divisions.next.x - 2 * divisions.cur.x;\n    let y = divisions.pre.y + divisions.next.y - 2 * divisions.cur.y;\n    x *= kp;\n    y *= kp;\n\n    return { x, y };\n  }\n\n  protected getElectrostaticForce(pidx: number, eidx: number): Point {\n    const self = this;\n    const eps = self.get('eps');\n    const edgeBundles = self.get('edgeBundles');\n    const edgePoints = self.get('edgePoints');\n    const edgeBundle = edgeBundles[eidx];\n    const resForce = { x: 0, y: 0 };\n\n    edgeBundle.forEach((eb: number) => {\n      const force = {\n        x: edgePoints[eb][pidx].x - edgePoints[eidx][pidx].x,\n        y: edgePoints[eb][pidx].y - edgePoints[eidx][pidx].y,\n      };\n\n      if (Math.abs(force.x) > eps || Math.abs(force.y) > eps) {\n        const length = getEucliDis(edgePoints[eb][pidx], edgePoints[eidx][pidx]);\n\n        const diff = 1 / length;\n        resForce.x += force.x * diff;\n        resForce.y += force.y * diff;\n      }\n    });\n\n    return resForce;\n  }\n\n  public isTicking(): boolean {\n    return this.get('ticking');\n  }\n\n  public getSimulation() {\n    return this.get('forceSimulation');\n  }\n\n  public destroy() {\n    if (this.get('ticking')) {\n      this.getSimulation().stop();\n    }\n    super.destroy();\n  }\n}\n","import { IAbstractGraph as IGraph, IG6GraphEvent, Item } from '@antv/f6-core';\nimport Base, { IPluginBaseConfig } from '../base';\nimport { createUI } from '@antv/f6-ui';\n\ninterface MenuConfig extends IPluginBaseConfig {\n  handleMenuClick?: (target: HTMLElement, item: Item) => void;\n  getContent?: (evt?: IG6GraphEvent) => HTMLDivElement | string;\n  // offsetX  offsetY  padding\n  offsetX?: number;\n  offsetY?: number;\n  shouldBegin?: (evt?: IG6GraphEvent) => boolean;\n  //  tooltip  item \n  itemTypes?: string[];\n}\n\nexport default class Menu extends Base {\n  constructor(config?: MenuConfig) {\n    super(config);\n  }\n\n  public getDefaultCfgs(): MenuConfig {\n    return {\n      offsetX: 6,\n      offsetY: 6,\n      handleMenuClick: undefined,\n      // function(e) {...}\n      getContent: (e) => {\n        return `\n          <div class='f6-contextmenu-ul'>\n            <div class='f6-contextmenu-li'>1</div>\n            <div class='f6-contextmenu-li'>2</div>\n          </div>\n        `;\n      },\n      getCss() {\n        return `\n        .f6-contextmenu-ul {\n          display: flex;\n          width: 100;\n          border: 1 solid #e2e2e2;\n          border-radius: 4;\n          font-size: 12;\n          color: #545454;\n          padding: 10 8;\n          background-color: rgba(255, 255, 255, 0.9);\n        }\n        .f6-contextmenu-li {\n            opacity: 0;\n            justify-content: center;\n            text-align: center;\n            height: 50;\n          }\n        `;\n      },\n      shouldBegin: (e) => {\n        return true;\n      },\n      // \n      onHide() {\n        return true;\n      },\n      itemTypes: ['node', 'edge', 'combo'],\n    };\n  }\n\n  // class-methods-use-this\n  public getEvents() {\n    return {\n      press: 'onMenuShow',\n    };\n  }\n\n  public init() {\n    const graph: IGraph = this.get('graph');\n\n    graph.on('tap', () => {\n      this.onMenuHide();\n    });\n  }\n\n  protected onMenuShow(e: IG6GraphEvent) {\n    const self = this;\n    e.preventDefault();\n\n    const itemTypes = this.get('itemTypes');\n    if (!e.item) {\n      if (itemTypes.indexOf('canvas') === -1) {\n        self.onMenuHide();\n        return;\n      }\n    } else {\n      if (e.item && e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) {\n        self.onMenuHide();\n        return;\n      }\n    }\n\n    const shouldBegin = this.get('shouldBegin');\n    if (!shouldBegin(e)) return;\n\n    const className = this.get('className');\n    const graph: IGraph = this.get('graph');\n    const uiGroup = graph.get('uiGroup');\n\n    const getContent = this.get('getContent');\n    const getCss = this.get('getCss');\n    const css = `\n    root {\n      display: flex;\n      font-size: 12;\n      color: #545454;\n    }\n    text {\n      height: 12;\n      opacity: 1;\n    }\n    ${getCss?.() ?? ''}\n  `;\n    const menuLiHtml = getContent(e, graph);\n    const menu = createUI(\n      `<root class=${className || 'g6-component-contextmenu'}>${menuLiHtml}</root>`,\n      css,\n      uiGroup,\n    );\n    this.get('menu')?.remove();\n    this.set('menu', menu);\n\n    const handleMenuClick = this.get('handleMenuClick');\n    if (handleMenuClick) {\n      const handleMenuClickWrapper = (evt) => {\n        evt.stopPropagation();\n        handleMenuClick(evt.uiNode?.attributes, e.item, graph);\n      };\n      this.set('handleMenuClickWrapper', handleMenuClickWrapper);\n      menu.on('tap', handleMenuClickWrapper);\n    }\n\n    const width: number = graph.get('width');\n    const height: number = graph.get('height');\n\n    const bbox = {\n      width: menu.width,\n      height: menu.height,\n      left: menu.left,\n      right: menu.right,\n    };\n\n    const offsetX = this.get('offsetX') || 0;\n    const offsetY = this.get('offsetY') || 0;\n\n    let x = e.canvasX + offsetX;\n    let y = e.canvasY + offsetY;\n\n    // when the menu is (part of) out of the canvas\n    if (x + bbox.width > width) {\n      x = e.canvasX - bbox.width - offsetX;\n    }\n    if (y + bbox.height > height) {\n      y = e.canvasY - bbox.height - offsetY;\n    }\n\n    menu.setStyle('left', x);\n    menu.setStyle('top', y);\n  }\n\n  private onMenuHide() {\n    const menuDom = this.get('menu');\n    menuDom?.remove();\n  }\n\n  public destroy() {\n    const menu = this.get('menu');\n    menu?.remove();\n  }\n}\n","import TimeBar from './time-bar';\nimport SnapLine from './snap-line';\nimport Tooltip from './tooltip';\nimport Legend from './legend';\nimport ZoomSlider from './zoom-slider';\nimport EdgeFilterLens from './edge-filter-lens';\nimport Fisheye from './fisheye';\nimport MiniMap from './minimap';\nimport Bundling from './bundling';\nimport Menu from './menu';\n\nconst plugin = {\n  TimeBar,\n  SnapLine,\n  Tooltip,\n  Legend,\n  ZoomSlider,\n  EdgeFilterLens,\n  Fisheye,\n  MiniMap,\n  Bundling,\n  Menu,\n};\nexport {\n  TimeBar,\n  SnapLine,\n  Tooltip,\n  Legend,\n  ZoomSlider,\n  EdgeFilterLens,\n  Fisheye,\n  MiniMap,\n  Bundling,\n  Menu,\n};\nexport default plugin;\n"],"sourceRoot":""}