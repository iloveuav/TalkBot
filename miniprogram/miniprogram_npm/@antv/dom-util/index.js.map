{"version":3,"sources":["index.js","add-event-listener.js","create-dom.js","get-height.js","get-style.js","get-outer-height.js","get-outer-width.js","get-width.js","get-ratio.js","modify-css.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ACHA,AFMA;ACFA,ACHA,AFMA;ACFA,ACHA,AFMA;ACFA,ACHA,ACHA,AHSA;ACFA,ACHA,ACHA,AHSA;ACFA,ACHA,ACHA,AHSA;ACFA,ACHA,ACHA,ACHA,AJYA;ACFA,ACHA,ACHA,ACHA,AJYA;ACFA,ACHA,ACHA,ACHA,AJYA;ACFA,ACHA,ACHA,AENA,ADGA,AJYA;ACFA,ACHA,ACHA,AENA,ADGA,AJYA;ACFA,ACHA,ACHA,AENA,ADGA,AJYA;ACFA,ACHA,ACHA,AENA,ACHA,AFMA,AJYA;ACFA,ACHA,ACHA,AENA,ACHA,AFMA,AJYA;ACFA,ACHA,ACHA,AENA,ACHA,AFMA,AJYA;ACFA,ACHA,AGTA,ACHA,AFMA,AGTA,APqBA;ACFA,ACHA,AGTA,ACHA,AFMA,AGTA,APqBA;ACFA,ACHA,AGTA,ACHA,AFMA,AGTA;ANmBA,ACHA,AGTA,ACHA,AENA,AJYA,AGTA;ANmBA,ACHA,AGTA,ACHA,AENA,AJYA,AGTA;ANmBA,ACHA,AGTA,ACHA,AENA,AJYA,AGTA;ANmBA,ACHA,AGTA,ACHA,AENA,AJYA,AGTA,AENA;ARyBA,ACHA,AGTA,ACHA,AENA,AJYA,AGTA,AENA;ARyBA,ACHA,AGTA,ACHA,AENA,AJYA,AGTA,AENA;APsBA,AGTA,ACHA,AENA,AJYA,AGTA,AENA;APsBA,AIZA,AFMA,AGTA,AENA;APsBA,AIZA,AFMA,AGTA,AENA;APsBA,AIZA,AFMA,AKfA;APsBA,AENA,AKfA;APsBA,AENA,AKfA;APsBA,AENA,AKfA;APsBA,AENA,AKfA;APsBA,AOrBA;APsBA,AOrBA;APsBA,AOrBA;APsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.modifyCSS = exports.getWidth = exports.getStyle = exports.getRatio = exports.getOuterWidth = exports.getOuterHeight = exports.getHeight = exports.createDom = exports.addEventListener = void 0;\r\n// dom\r\nvar add_event_listener_1 = require(\"./add-event-listener\");\r\nObject.defineProperty(exports, \"addEventListener\", { enumerable: true, get: function () { return add_event_listener_1.default; } });\r\nvar create_dom_1 = require(\"./create-dom\");\r\nObject.defineProperty(exports, \"createDom\", { enumerable: true, get: function () { return create_dom_1.default; } });\r\nvar get_height_1 = require(\"./get-height\");\r\nObject.defineProperty(exports, \"getHeight\", { enumerable: true, get: function () { return get_height_1.default; } });\r\nvar get_outer_height_1 = require(\"./get-outer-height\");\r\nObject.defineProperty(exports, \"getOuterHeight\", { enumerable: true, get: function () { return get_outer_height_1.default; } });\r\nvar get_outer_width_1 = require(\"./get-outer-width\");\r\nObject.defineProperty(exports, \"getOuterWidth\", { enumerable: true, get: function () { return get_outer_width_1.default; } });\r\nvar get_ratio_1 = require(\"./get-ratio\");\r\nObject.defineProperty(exports, \"getRatio\", { enumerable: true, get: function () { return get_ratio_1.default; } });\r\nvar get_style_1 = require(\"./get-style\");\r\nObject.defineProperty(exports, \"getStyle\", { enumerable: true, get: function () { return get_style_1.default; } });\r\nvar get_width_1 = require(\"./get-width\");\r\nObject.defineProperty(exports, \"getWidth\", { enumerable: true, get: function () { return get_width_1.default; } });\r\nvar modify_css_1 = require(\"./modify-css\");\r\nObject.defineProperty(exports, \"modifyCSS\", { enumerable: true, get: function () { return modify_css_1.default; } });\r\n//# sourceMappingURL=index.js.map","\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction addEventListener(target, eventType, callback) {\r\n    if (target) {\r\n        if (typeof target.addEventListener === 'function') {\r\n            target.addEventListener(eventType, callback, false);\r\n            return {\r\n                remove: function () {\r\n                    target.removeEventListener(eventType, callback, false);\r\n                },\r\n            };\r\n            // @ts-ignore\r\n        }\r\n        if (typeof target.attachEvent === 'function') {\r\n            // @ts-ignore\r\n            target.attachEvent('on' + eventType, callback);\r\n            return {\r\n                remove: function () {\r\n                    // @ts-ignore\r\n                    target.detachEvent('on' + eventType, callback);\r\n                },\r\n            };\r\n        }\r\n    }\r\n}\r\nexports.default = addEventListener;\r\n//# sourceMappingURL=add-event-listener.js.map","\r\n/**\r\n * 创建DOM 节点\r\n * @param  {String} str Dom 字符串\r\n * @return {HTMLElement}  DOM 节点\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TABLE;\r\nvar TABLE_TR;\r\nvar FRAGMENT_REG;\r\nvar CONTAINERS;\r\nfunction initConstants() {\r\n    TABLE = document.createElement('table');\r\n    TABLE_TR = document.createElement('tr');\r\n    FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\r\n    CONTAINERS = {\r\n        tr: document.createElement('tbody'),\r\n        tbody: TABLE,\r\n        thead: TABLE,\r\n        tfoot: TABLE,\r\n        td: TABLE_TR,\r\n        th: TABLE_TR,\r\n        '*': document.createElement('div'),\r\n    };\r\n}\r\nfunction createDom(str) {\r\n    if (!TABLE) {\r\n        initConstants();\r\n    }\r\n    var name = FRAGMENT_REG.test(str) && RegExp.$1;\r\n    if (!name || !(name in CONTAINERS)) {\r\n        name = '*';\r\n    }\r\n    var container = CONTAINERS[name];\r\n    str = typeof str === 'string' ? str.replace(/(^\\s*)|(\\s*$)/g, '') : str;\r\n    container.innerHTML = '' + str;\r\n    var dom = container.childNodes[0];\r\n    if (dom && container.contains(dom)) {\r\n        container.removeChild(dom);\r\n    }\r\n    return dom;\r\n}\r\nexports.default = createDom;\r\n//# sourceMappingURL=create-dom.js.map","\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar get_style_1 = require(\"./get-style\");\r\nfunction getHeight(el, defaultValue) {\r\n    var height = (0, get_style_1.default)(el, 'height', defaultValue);\r\n    if (height === 'auto') {\r\n        height = el.offsetHeight;\r\n    }\r\n    return parseFloat(height);\r\n}\r\nexports.default = getHeight;\r\n//# sourceMappingURL=get-height.js.map","\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 获取样式\r\n * @param  {Object} dom DOM节点\r\n * @param  {String} name 样式名\r\n * @param  {Any} defaultValue 默认值\r\n * @return {String} 属性值\r\n */\r\nfunction getStyle(dom, name, defaultValue) {\r\n    var v;\r\n    try {\r\n        v = window.getComputedStyle ?\r\n            window.getComputedStyle(dom, null)[name] :\r\n            dom.style[name]; // 一般不会走到这个逻辑，dom.style 获取的是标签 style 属性，也不准确\r\n    }\r\n    catch (e) {\r\n        // do nothing\r\n    }\r\n    finally {\r\n        v = v === undefined ? defaultValue : v;\r\n    }\r\n    return v;\r\n}\r\nexports.default = getStyle;\r\n//# sourceMappingURL=get-style.js.map","\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar get_style_1 = require(\"./get-style\");\r\nvar get_height_1 = require(\"./get-height\");\r\nfunction getOuterHeight(el, defaultValue) {\r\n    var height = (0, get_height_1.default)(el, defaultValue);\r\n    var bTop = parseFloat((0, get_style_1.default)(el, 'borderTopWidth')) || 0;\r\n    var pTop = parseFloat((0, get_style_1.default)(el, 'paddingTop')) || 0;\r\n    var pBottom = parseFloat((0, get_style_1.default)(el, 'paddingBottom')) || 0;\r\n    var bBottom = parseFloat((0, get_style_1.default)(el, 'borderBottomWidth')) || 0;\r\n    var mTop = parseFloat((0, get_style_1.default)(el, 'marginTop')) || 0;\r\n    var mBottom = parseFloat((0, get_style_1.default)(el, 'marginBottom')) || 0;\r\n    return height + bTop + bBottom + pTop + pBottom + mTop + mBottom;\r\n}\r\nexports.default = getOuterHeight;\r\n//# sourceMappingURL=get-outer-height.js.map","\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar get_style_1 = require(\"./get-style\");\r\nvar get_width_1 = require(\"./get-width\");\r\nfunction getOuterWidth(el, defaultValue) {\r\n    var width = (0, get_width_1.default)(el, defaultValue);\r\n    var bLeft = parseFloat((0, get_style_1.default)(el, 'borderLeftWidth')) || 0;\r\n    var pLeft = parseFloat((0, get_style_1.default)(el, 'paddingLeft')) || 0;\r\n    var pRight = parseFloat((0, get_style_1.default)(el, 'paddingRight')) || 0;\r\n    var bRight = parseFloat((0, get_style_1.default)(el, 'borderRightWidth')) || 0;\r\n    var mRight = parseFloat((0, get_style_1.default)(el, 'marginRight')) || 0;\r\n    var mLeft = parseFloat((0, get_style_1.default)(el, 'marginLeft')) || 0;\r\n    return width + bLeft + bRight + pLeft + pRight + mLeft + mRight;\r\n}\r\nexports.default = getOuterWidth;\r\n//# sourceMappingURL=get-outer-width.js.map","\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar get_style_1 = require(\"./get-style\");\r\nfunction getHeight(el, defaultValue) {\r\n    var width = (0, get_style_1.default)(el, 'width', defaultValue);\r\n    if (width === 'auto') {\r\n        width = el.offsetWidth;\r\n    }\r\n    return parseFloat(width);\r\n}\r\nexports.default = getHeight;\r\n//# sourceMappingURL=get-width.js.map","\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction getRatio() {\r\n    return window.devicePixelRatio ? window.devicePixelRatio : 2;\r\n}\r\nexports.default = getRatio;\r\n//# sourceMappingURL=get-ratio.js.map","\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction modifyCSS(dom, css) {\r\n    if (dom) {\r\n        for (var key in css) {\r\n            if (css.hasOwnProperty(key)) {\r\n                dom.style[key] = css[key];\r\n            }\r\n        }\r\n    }\r\n    return dom;\r\n}\r\nexports.default = modifyCSS;\r\n//# sourceMappingURL=modify-css.js.map"]}